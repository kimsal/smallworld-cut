if (self.CavalryLogger) { CavalryLogger.start_js(["LRWsM"]); }

__d("CanvasCreationEvent",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ADD_ELEMENT:"editor.add_element",ADD_ELEMENT_TOP_TOOLBAR_BUTTON:"editor.add_element_top_toolbar",ADD_ELEMENT_BOTTOM_TOOLBAR_BUTTON:"editor.add_element_bottom_toolbar",CREATE:"create",DUPLICATE:"duplicate",EDITOR_COMPONENT_ATTRIBUTES:"editor.editor_component_attributes",EDITOR_EXIT:"editor.editor_exit",EDITOR_LINE_HEIGHT_TOUCH:"editor.editor_line_height_touch",EDITOR_LINE_HEIGHT_SAVE:"editor.editor_line_height_save",EDITOR_PADDING_TOUCH:"editor.editor_padding_touch",EDITOR_PADDING_SAVE:"editor.editor_padding_save",EDITOR_PHOTO_ASPECT_RATIO_WARNING:"editor.editor_photo_aspect_ratio_warning",EDITOR_PHOTO_UPLOAD_TIMEOUT:"editor.editor_photo_upload_timeout",LOAD:"load",PREVIEW_FAILURE:"editor.preview_failure",PREVIEW_SUCCESS:"editor.preview_success",PUBLISH:"publish",PUBLISH_FAILURE:"editor.publish_failure",VIDEO_ENCODE_SUCCESS:"editor.video_encode_success",VIDEO_ENCODE_ERROR:"editor.video_encode_error",VIDEO_POST_SUCCESS:"editor.video_post_success",VIDEO_POST_ERROR:"editor.video_post_error",VIDEO_UPLOAD_SUCCESS:"editor.video_upload_success",VIDEO_UPLOAD_ERROR:"editor.video_upload_error",SAVE:"save",SAVE_FAILURE:"editor.save_failure",SHARE_PREVIEW:"editor.share_preview",VALIDATION_ERROR:"editor.validation_error"};}),null);
__d("CanvasLoadSource",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={LOAD_EXISTING_DOC:"load_existing",LOAD_DUPLICATE_DOC:"load_duplicate",LOAD_NEW_DEFAULT_DOC:"load_new",LOAD_NEW_USER:"load_new_user"};}),null);
__d("CanvasSource",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PAGE_COMPOSER:"page_composer",PAGE_CTA_DIALOG:"page_cta_dialog",POWER_EDITOR:"power_editor",PAGE_PUBLISHING_TOOLS:"page_publishing_tools",STEPPER_FLOW_L1:"stepper_flow_l1",STEPPER_FLOW_L3:"stepper_flow_l3",PEACE:"peace",CREATE_FLOW:"create_flow",CANVAS_BUILDER:"canvas_builder",OTHER:"other"};}),null);
__d("CarouselPagesComposerSource",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CAROUSEL_CAMERA_ICON:"carousel_camera_icon"};}),null);
__d("CommerceProductTaggerType",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NONE:"none",SHOP_PAGE:"shop_page",NON_SHOP_PAGE:"non_shop_page"};}),null);
__d("ComposedBlockType",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={UNSTYLED:0,PARAGRAPH:1,UNORDERED_LIST_ITEM:2,ORDERED_LIST_ITEM:3,BLOCKQUOTE:4,HEADER_ONE:5,HEADER_TWO:6,CODE:7,MEDIA:8,PULLQUOTE:9,HEADER_THREE:10,HEADER_FOUR:11,HEADER_FIVE:12,HEADER_SIX:13};}),null);
__d("ComposedEntityType",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MENTION:0,LINK:1,IMAGE:2,VIDEO:3,EMOTICON:4,TOKEN:5,HASHTAG:6,IMPLICIT_LINK:7,EMBED:8,EMOJI:9};}),null);
__d("ComposedInlineStyle",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NONE:0,BOLD:1,ITALIC:2,UNDERLINE:4,CODE:8,STRIKETHROUGH:16,SUBSCRIPT:32,SUPERSCRIPT:64};}),null);
__d("ComposerPerfEvent",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CLIENT_BOOTSTRAPPED:"client_bootstrapped",CLIENT_BOOTLOADED:"client_bootloaded",CLIENT_POST_SUCCEEDED:"client_post_succeeded",CLIENT_POST_FAILED:"client_post_failed"};}),null);
__d("FacerecWaterfallEvent",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={RECOGNITION_RECEIVED_BY_CLIENT:"recognition_received_by_client",CLIENT_RECOGNITION_POLLER_TIMEOUT:"client_recognition_poller_timeout",CLIENT_RECOGNITION_POLLER_GIVE_UP:"client_recognition_poller_give_up",SERVER_PHOTO_PUBLISHED:"server_photo_published",SERVER_PHOTO_TAG_ADDED:"sever_photo_tag_added",SERVER_RECOGNITION_OF_PHOTO_POLLED:"server_recognition_of_photo_polled",SERVER_RECOGNITION_OF_FACE_BOX_RETURNED:"server_recognition_of_face_box_returned",CLIENT_PHOTO_PUBLISHED:"client_photo_published"};}),null);
__d("InstantShoppingDocumentElementType",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={RICH_TEXT:1,PHOTO:2,BUTTON:3,SLIDESHOW:4,DIVIDER:5,EXPANDABLE_SECTION:6,STATEFUL:7,VIDEO:8,COLOR_SELECTOR:9,TOGGLE_BUTTON:10,HEADER:11,COMPOSITE_BLOCK:12,FOOTER:13,ELEMENT_GROUP:14,TITLE_AND_DATE:15,STORE_LOCATOR:16,SCRUBBABLE_GIF:17,LOCAL_IMAGE:18};}),null);
__d("PagesComposerCarouselPostChildAttachmentAttributes",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PICTURE:"picture",NAME:"name",DESCRIPTION:"description",LINK:"link",SELECTED:"selected",SCRAPED:"scraped",IMAGE_FBID:"image_fbid",IMAGE_SOURCE:"image_source",ORIGINAL_DIMENSION_HEIGHT:"original_dimensions_height",ORIGINAL_DIMENSION_WIDTH:"original_dimensions_width",CROPPING_START_POINT_X:"cropping_startPoint_x",CROPPING_START_POINT_Y:"cropping_startPoint_y",CROPPING_SOURCE_DIMENSION_HEIGHT:"cropping_source_dimension_height",CROPPING_SOURCE_DIMENSION_WIDTH:"cropping_source_dimension_width",VIDEO_ID:"video_id",CTA_TYPE:"cta_type"};}),null);
__d("PagesComposerCarouselPostLogAttributes",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={USE_CAROUSEL_COMPOSER:"use_carousel_composer",CAROUSEL_INCOMPATIBLE:"carousel_incompatible",CAROUSEL_INCOMPATIBLE_TYPE:"carousel_incompatible_type",SCRAPED_IMAGE_NUM_OLD:"scraped_image_num_old",SCRAPED_URL:"scraped_url",SCRAPED_TIME:"scraped_time",COMPOSER_LOCATION:"composer_location",HIDE_END_CARD:"hide_end_card",SOURCE_ATTACHMENT:"source_attachment",PREFILL_SCRAPE_URL:"prefill_scrape_url"};}),null);
__d("PagesComposerCarouselPostNuxType",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MEDIA_ATTACHEMENT_URL_INPUT_AREA_NUX:"media_attachment_url_input_area_nux"};}),null);
__d("PagesComposerExtraAttachmentIcons",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={BOOK_TRAVEL_ICON:"BOOK_TRAVEL_ICON",CAUSE_ICON:"CAUSE_ICON",COUPONS_ICON:"COUPONS_ICON",EVENTS_ICON:"EVENTS_ICON",FINCH_COUPONS_ICON:"FINCH_COUPONS_ICON",FINCH_EVENTS_ICON:"FINCH_EVENTS_ICON",LEARN_MORE_ICON:"LEARN_MORE_ICON",MORE_ICON:"MORE_ICON",OFFERS_ICON:"OFFERS_ICON",PRODUCT_ICON:"PRODUCT_ICON",Q_AND_A_ICON:"Q_AND_A_ICON",SHOP_NOW_ICON:"SHOP_NOW_ICON",SIGN_UP_ICON:"SIGN_UP_ICON"};}),null);
__d("PhotoEditorLoggingConstants",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COMPOSER_IMAGE_STICKER:"composer_sticker",COMPOSER_IMAGE_TEXT_OVERLAY:"composer_text_overlay",COMPOSER_IMAGE_HAS_CROP:"composer_has_crop",COMPOSER_IMAGE_HAS_FILTER:"composer_has_filter"};}),null);
__d("PlaceAttachmentSetting",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={HIDE_ATTACHMENT:1,SHOW_ATTACHMENT:2};}),null);
__d("ReactComposerFeatureType",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={DATE:"date",EVENT:"event",FILE:"file",LIFE_EVENT:"life_event",LINK:"link",LOCATION:"location",MARKDOWN:"markdown",MEDIA:"media",MENTION_TAG:"mention_tag",MILESTONE:"milestone",MINUTIAE:"minutiae",NOTE:"note",OFFER:"offer",PHOTO_TAG:"photo_tag",PRIVACY:"privacy",SELL:"sell",TEXT:"text",WITH_TAG:"with_tag"};}),null);
__d("RichMediaStoreLocatorElementTheme",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={LIGHT:"Light",DARK:"Dark",CUSTOM:"Custom"};}),null);
__d("SlideshowFrameImagesRequestType",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SCHEDULE_ASYNC_JOB:0,FETCH_FRAME_IMAGES:1};}),null);
__d("SlideshowMusicCategory",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ALL_TRACKS:"All Tracks",USER_UPLOADED:"User Uploaded",RECENTLY_USED:"Recently Used",ENERGETIC:"Energetic",INSPIRATIONAL:"Inspirational",FUN:"Fun",TRUSTWORTHY:"Trustworthy",MODERN:"Modern"};}),null);
__d("StorySurfaces",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={HOMEPAGE:1,TIMELINE:2,PERMALINK:3,ENTSTREAM:4,GROUP:5};}),null);
__d('AdsCanvasEditorEnums',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={SAVED:0,SAVING:1,UNSAVED:2},i={WARNING:'WARNING',ERROR:'ERROR'},j={WEBSITE:'WEBSITE',NATIVE:'NATIVE',CANVAS:'CANVAS'};f.exports={ErrorTypeEnum:i,SaveStateEnum:h,LinkDestinationEnum:j};}),null);
__d('RichMediaEditorConstants',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports={EDITOR_HEIGHT:666,EDITOR_ELEMENT_ID_PREFIX:'editor_element',EDITOR_ELEMENT_CONTAINER_ID:'editor_element_container',EDITOR_FONT_FAMILIIES:['sans-serif','serif','HelveticaNeue-Regular','HelveticaNeue-Light','HelveticaNeue-Medium','HelveticaNeue-UltraLight','HelveticaNeue-CondensedBold','Georgia'],EDITOR_LINE_HEIGHT:['0.8','1.0','1.1','1.5','2.0'],EDITOR_DEFAULT_LINE_HEIGHT:'1.0',EDITOR_PADDING:['0','12','20','24','48','96','192'],EDITOR_DEFAULT_PADDING:'0',EDITOR_DEFAULT_TEXT_BUTTON_PADDING_VERTICAL:'48',EDITOR_DEFAULT_TEXT_BUTTON_PADDING_HORIZONTAL:'20',EDITOR_PADDING_PREVIEW_SCALE:1.2,MAX_LENGTH_SCRUBBABLE_GIF_SEC:30,MIN_LENGTH_SCRUBBABLE_GIF_SEC:1};}),null);
__d('RichMediaEditorUtil',['ads-lib-urllib'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={isValidURL:function i(j){return c('ads-lib-urllib').isUrl(j);},normalizeURL:function i(j){return c('ads-lib-urllib').normalize(j);},isValidDeeplink:function i(j){return true;}};f.exports=h;}),null);
__d('RichMediaElementValidationUtil',['AdsCanvasEditorEnums'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('AdsCanvasEditorEnums').LinkDestinationEnum,i={validateForAppstoreDestination:function j(k,l){if(l)for(var m=0;m<l.length;m++){var n=l[m];if(n===k)break;if(n.destination===h.NATIVE&&n.link&&k.destination===h.NATIVE&&k.link&&n.link!==k.link)return {isValid:false,errorMsg:'App store URLs should be same'};}return {isValid:true,errorMsg:''};}};f.exports=i;}),null);
__d('createCharacterList',['CharacterMetadata','immutable'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('immutable').List;function i(j,k){var l=j.map(function(m,n){var o=k[n];return c('CharacterMetadata').create({style:m,entity:o});});return h(l);}f.exports=i;}),null);
__d('decodeEntityRanges',['UnicodeUtils'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('UnicodeUtils').substr;function i(j,k){var l=Array(j.length).fill(null);if(k)k.forEach(function(m){var n=h(j,0,m.offset).length,o=n+h(j,m.offset,m.length).length;for(var p=n;p<o;p++)l[p]=m.key;});return l;}f.exports=i;}),null);
__d('decodeInlineStyleRanges',['UnicodeUtils','immutable'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('immutable').OrderedSet,i=c('UnicodeUtils').substr,j=h();function k(l,m){var n=Array(l.length).fill(j);if(m)m.forEach(function(o){var p=i(l,0,o.offset).length,q=p+i(l,o.offset,o.length).length;while(p<q){n[p]=n[p].add(o.style);p++;}});return n;}f.exports=k;}),null);
__d('convertFromRawToDraftState',['ContentBlock','ContentState','DraftEntity','immutable','createCharacterList','decodeEntityRanges','decodeInlineStyleRanges','generateRandomKey'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('immutable').Map;function i(j){var k=j.blocks,l=j.entityMap,m={};Object.keys(l).forEach(function(o){var p=l[o],q=p.type,r=p.mutability,s=p.data,t=c('DraftEntity').create(q,r,s||{});m[o]=t;});var n=k.map(function(o){var p=o.key,q=o.type,r=o.text,s=o.depth,t=o.inlineStyleRanges,u=o.entityRanges,v=o.data;p=p||c('generateRandomKey')();s=s||0;t=t||[];u=u||[];v=h(v);var w=c('decodeInlineStyleRanges')(r,t),x=u.filter(function(aa){return m.hasOwnProperty(aa.key);}).map(function(aa){return babelHelpers['extends']({},aa,{key:m[aa.key]});}),y=c('decodeEntityRanges')(r,x),z=c('createCharacterList')(w,y);return new (c('ContentBlock'))({key:p,type:q,text:r,depth:s,characterList:z,data:v});});return c('ContentState').createFromBlockArray(n);}f.exports=i;}),null);
__d('decodeBlocks',['ComposedBlockType','ComposedInlineStyle','convertFromRawToDraftState','mapObject'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(k,l){var m=k.map(function(o){var p=o.type,q=o.inlineStyleRanges,r=babelHelpers.objectWithoutProperties(o,['type','inlineStyleRanges']);return babelHelpers['extends']({type:i[p],inlineStyleRanges:(q||[]).map(function(s){return babelHelpers['extends']({},s,{style:j[s.style]});})},r);}),n=c('mapObject')(l,function(o){return {type:o.getType(),mutability:o.getMutability(),data:o.getData()};});return c('convertFromRawToDraftState')({blocks:m,entityMap:n});}var i={};i[c('ComposedBlockType').UNSTYLED]='unstyled';i[c('ComposedBlockType').PARAGRAPH]='paragraph';i[c('ComposedBlockType').BLOCKQUOTE]='blockquote';i[c('ComposedBlockType').ORDERED_LIST_ITEM]='ordered-list-item';i[c('ComposedBlockType').UNORDERED_LIST_ITEM]='unordered-list-item';i[c('ComposedBlockType').CODE]='code-block';i[c('ComposedBlockType').HEADER_ONE]='header-one';i[c('ComposedBlockType').HEADER_TWO]='header-two';i[c('ComposedBlockType').MEDIA]='atomic';i[c('ComposedBlockType').PULLQUOTE]='pullquote';var j={};j[c('ComposedInlineStyle').BOLD]='BOLD';j[c('ComposedInlineStyle').CODE]='CODE';j[c('ComposedInlineStyle').ITALIC]='ITALIC';j[c('ComposedInlineStyle').STRIKETHROUGH]='STRIKETHROUGH';j[c('ComposedInlineStyle').UNDERLINE]='UNDERLINE';f.exports=h;}),null);
__d('DraftStringKey',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={stringify:function i(j){return '_'+String(j);},unstringify:function i(j){return j.slice(1);}};f.exports=h;}),null);
__d('encodeEntityRanges',['DraftStringKey','UnicodeUtils'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('UnicodeUtils').strlen;function i(j,k){var l=[];j.findEntityRanges(function(m){return !!m.getEntity();},function(m,n){var o=j.getText(),p=j.getEntityAt(m);l.push({offset:h(o.slice(0,m)),length:h(o.slice(m,n)),key:Number(k[c('DraftStringKey').stringify(p)])});});return l;}f.exports=i;}),null);
__d('encodeInlineStyleRanges',['UnicodeUtils','findRangesImmutable'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=function m(n,o){return n===o;},i=function m(n){return !!n;},j=[];function k(m,n,o){var p=[],q=n.map(function(r){return r.has(o);}).toList();c('findRangesImmutable')(q,h,i,function(r,s){var t=m.getText();p.push({offset:c('UnicodeUtils').strlen(t.slice(0,r)),length:c('UnicodeUtils').strlen(t.slice(r,s)),style:o});});return p;}function l(m){var n=m.getCharacterList().map(function(p){return p.getStyle();}).toList(),o=n.flatten().toSet().map(function(p){return k(m,n,p);});return Array.prototype.concat.apply(j,o.toJS());}f.exports=l;}),null);
__d('convertFromDraftStateToRaw',['DraftEntity','DraftStringKey','encodeEntityRanges','encodeInlineStyleRanges'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){var j=0,k={},l=[];i.getBlockMap().forEach(function(o,p){o.findEntityRanges(function(q){return q.getEntity()!==null;},function(q){var r=c('DraftStringKey').stringify(o.getEntityAt(q));if(!k.hasOwnProperty(r))k[r]=''+j++;});l.push({key:p,text:o.getText(),type:o.getType(),depth:o.getDepth(),inlineStyleRanges:c('encodeInlineStyleRanges')(o),entityRanges:c('encodeEntityRanges')(o,k),data:o.getData().toObject()});});var m=Object.keys(k),n={};m.forEach(function(o,p){var q=c('DraftEntity').get(c('DraftStringKey').unstringify(o));n[p]={type:q.getType(),mutability:q.getMutability(),data:q.getData()};});return {entityMap:n,blocks:l};}f.exports=h;}),null);
__d('encodeBlocks',['ComposedBlockType','ComposedEntityType','ComposedInlineStyle','convertFromDraftStateToRaw','mapObject','nullthrows'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(k){var l=c('convertFromDraftStateToRaw')(k),m=l.blocks,n=l.entityMap,o=m.map(function(q){var r=q.key,s=q.type,t=q.text,u=q.depth,v=q.inlineStyleRanges,w=q.entityRanges;return {key:c('nullthrows')(r),type:i[s],text:t,depth:c('nullthrows')(u),inlineStyleRanges:c('nullthrows')(v).map(function(x){return babelHelpers['extends']({},x,{style:j[x.style]});}),entityRanges:c('nullthrows')(w)};}),p=c('mapObject')(n,function(q){var r=q.data,s=null,t=undefined;if(typeof r==='object'){s=r.id;t=babelHelpers.objectWithoutProperties(r,['id']);if(Object.keys(t).length===0){t=undefined;}else t=c('mapObject')(t,function(u){return u==null?'':String(u);});}return {id:s||null,type:c('ComposedEntityType')[q.type],data:t};});return {blocks:o,entityMap:p};}var i={unstyled:c('ComposedBlockType').UNSTYLED,paragraph:c('ComposedBlockType').PARAGRAPH,blockquote:c('ComposedBlockType').BLOCKQUOTE,'ordered-list-item':c('ComposedBlockType').ORDERED_LIST_ITEM,'unordered-list-item':c('ComposedBlockType').UNORDERED_LIST_ITEM,'code-block':c('ComposedBlockType').CODE,'header-one':c('ComposedBlockType').HEADER_ONE,'header-two':c('ComposedBlockType').HEADER_TWO,atomic:c('ComposedBlockType').MEDIA,pullquote:c('ComposedBlockType').PULLQUOTE,'header-three':c('ComposedBlockType').HEADER_TWO,'header-four':c('ComposedBlockType').HEADER_TWO,'header-five':c('ComposedBlockType').HEADER_TWO,'header-six':c('ComposedBlockType').HEADER_TWO},j={BOLD:c('ComposedInlineStyle').BOLD,CODE:c('ComposedInlineStyle').CODE,ITALIC:c('ComposedInlineStyle').ITALIC,STRIKETHROUGH:c('ComposedInlineStyle').STRIKETHROUGH,UNDERLINE:c('ComposedInlineStyle').UNDERLINE};f.exports=h;}),null);
__d('RichMediaRichFormatText',['ContentState','immutable','decodeBlocks','encodeBlocks','RichMediaEditorConstants'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('immutable').Record,k=c('RichMediaEditorConstants').EDITOR_FONT_FAMILIIES,l=c('RichMediaEditorConstants').EDITOR_LINE_HEIGHT,m=c('RichMediaEditorConstants').EDITOR_DEFAULT_LINE_HEIGHT,n={id:'',composedText:{entityMap:{},blocks:[]},textAlignment:'center',textColor:'#000',fontSize:15,fontFamily:k[0],lineHeight:m},o=j(n);h=babelHelpers.inherits(p,o);i=h&&h.prototype;p.create=function(q,r,s,t,u,v){return new p({composedText:c('encodeBlocks')(q),textAlignment:r,textColor:s,fontSize:t,fontFamily:u,lineHeight:v});};p.createDefault=function(){return p.create(c('ContentState').createFromText('Write something...'),'center','#777',15,k[0],m);};p.createFromObject=function(q){var r=q.fontFamily;if(k.indexOf(r)===-1)r=k[0];var s=q.lineHeight;if(l.indexOf(s)===-1)s=m;return new p({composedText:q.composedText,textAlignment:q.textAlignment,textColor:q.textColor,fontSize:q.fontSize,fontFamily:r,lineHeight:s});};p.getPlainTextFromComposedText=function(q){var r=c('decodeBlocks')(q.blocks,q.entityMap);return r.getPlainText();};function p(){h.apply(this,arguments);}f.exports=p;}),null);
__d('validateDeepLink',['AdsCreationConfig','URIRFC3986','arrayContains','trim'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('AdsCreationConfig').deepLinkBlacklist.map(function(j){return new RegExp(c('trim')(j,'/'));});function i(j){j=j.toLowerCase();var k=j.indexOf('://');if(k===-1)return false;var l=j.slice(0,k);if(l&&l.includes('.')){if(!/^[a-z0-9][a-z0-9+-.]*$/.test(l))return false;}else{var m=c('URIRFC3986').parse(j);if(m==null||!m.scheme||!/^([a-z][a-z0-9+-.]*):/i.test(j))return false;}if(c('arrayContains')(['http','https'],l))return true;var n=h.some(function(o){return o.test(j);});return !n;}f.exports=i;}),null);
__d('RichMediaButtonElement',['immutable','InstantShoppingDocumentElementType','RichMediaEditorUtil','RichMediaElementValidationUtil','RichMediaRichFormatText','RichMediaEditorConstants','AdsCanvasEditorEnums','validateDeepLink'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('RichMediaEditorConstants').EDITOR_DEFAULT_TEXT_BUTTON_PADDING_VERTICAL,k=c('RichMediaEditorConstants').EDITOR_DEFAULT_TEXT_BUTTON_PADDING_HORIZONTAL,l=c('AdsCanvasEditorEnums').LinkDestinationEnum,m=c('immutable').Record,n=40,o={id:'',name:'',type:c('InstantShoppingDocumentElementType').BUTTON,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:j,paddingBottom:j,paddingLeft:k,paddingRight:k},buttonColor:'#000',isFilled:false,isFixedToBottom:false,link:'',deeplink:null,linkedCanvasName:null,destination:l.WEBSITE,richFormatText:c('RichMediaRichFormatText').createDefault()},p=m(o);h=babelHelpers.inherits(q,p);i=h&&h.prototype;q.create=function(r,s,t,u,v,w,x,y,z,aa,ba,ca,da){return new q({index:r,name:s,type:c('InstantShoppingDocumentElementType').BUTTON,expanded:t,advancedExpanded:u,padding:v,buttonColor:w,isFilled:x,isFixedToBottom:y,link:z,deeplink:aa,linkedCanvasName:ba,destination:ca,richFormatText:da});};q.createDefault=function(r){return q.create(r,'Button',true,false,{paddingTop:j,paddingBottom:j,paddingLeft:k,paddingRight:k},'#000',false,false,'',null,null,l.WEBSITE,c('RichMediaRichFormatText').createDefault());};q.createFromObject=function(r){return q.create(r.index,r.name,r.expanded,r.advancedExpanded,{paddingTop:r.padding&&r.padding.paddingTop?r.padding.paddingTop:j,paddingBottom:r.padding&&r.padding.paddingBottom?r.padding.paddingBottom:j,paddingLeft:r.padding&&r.padding.paddingLeft?r.padding.paddingLeft:k,paddingRight:r.padding&&r.padding.paddingRight?r.padding.paddingRight:k},r.buttonColor,r.isFilled,r.isFixedToBottom,r.link,r.deeplink,r.linkedCanvasName,r.destination,c('RichMediaRichFormatText').createFromObject(r.richFormatText));};q.validate=function(r,s){if(!r.link)return {isValid:false,errorMsg:'Empty Link URL'};if(!c('RichMediaEditorUtil').isValidURL(r.link))if(r.destination===l.NATIVE){return {isValid:false,errorMsg:'Invalid Store URL'};}else return {isValid:false,errorMsg:'Invalid Website URL'};var t=c('RichMediaElementValidationUtil').validateForAppstoreDestination(r,s);if(!t.isValid)return t;if(r.deeplink)if(!c('validateDeepLink')(r.deeplink))return {isValid:false,errorMsg:'Invalid Deeplink'};var u=c('RichMediaRichFormatText').getPlainTextFromComposedText(r.richFormatText.composedText);if(u.length>n)return {isValid:false,errorMsg:'Button text too long'};return {isValid:true,errorMsg:''};};function q(){h.apply(this,arguments);}f.exports=q;}),null);
__d('RichMediaCarouselItem',['immutable','RichMediaEditorUtil','RichMediaElementValidationUtil','AsyncUploadRequest','AdsCanvasEditorEnums','getByPath','validateDeepLink'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('AdsCanvasEditorEnums').LinkDestinationEnum,k=c('immutable').Record,l={id:'',index:0,photo:null,name:'',description:null,link:null,deeplink:null,linkedCanvasName:null,destination:j.WEBSITE,uploadStatus:null,uploadRequest:null},m=k(l);h=babelHelpers.inherits(n,m);i=h&&h.prototype;n.create=function(o,p,q,r,s,t,u,v,w,x,y){return new n({id:o,index:p,photo:q,name:r,description:s,link:t,deeplink:u,linkedCanvasName:v,destination:w,uploadStatus:x,uploadRequest:y});};n.createDefault=function(o,p,q){return n.create(o,p,null,'',null,null,null,null,j.WEBSITE,null,q);};n.createFromObject=function(o){return n.create(o.id||o.name+'_'+Date.now(),o.index,o.photo,o.name,o.description,o.link,o.deeplink,o.linkedCanvasName,o.destination,null,o.uploadRequest);};n.createFromPayloadAndElementField=function(o,p){if(p)o.photo.src=c('getByPath')(p,['element','photo','source']);return n.create(o.id||o.name+'_'+Date.now(),o.index,o.photo,o.name,o.description,o.link,o.deeplink,o.linkedCanvasName,o.destination,null,o.uploadRequest);};n.validate=function(o,p){if(!o.photo)return {isValid:false,errorMsg:'Missing photo'};if(o.link&&!c('RichMediaEditorUtil').isValidURL(o.link))if(o.destination===j.NATIVE){return {isValid:false,errorMsg:'Invalid Store URL'};}else return {isValid:false,errorMsg:'Invalid Website URL'};var q=c('RichMediaElementValidationUtil').validateForAppstoreDestination(o,p);if(!q.isValid)return q;if(o.deeplink)if(!c('validateDeepLink')(o.deeplink))return {isValid:false,errorMsg:'Invalid Deeplink'};if(o.uploadStatus&&o.uploadStatus.isUploading!==false)return {isValid:false,errorMsg:''};return {isValid:true,errorMsg:''};};function n(){h.apply(this,arguments);}f.exports=n;}),null);
__d('RichMediaElement',['immutable'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('immutable').Record;h=babelHelpers.inherits(k,j({id:'',index:-1,name:'',type:-1,expanded:false,advancedExpanded:false}));i=h&&h.prototype;function k(){h.apply(this,arguments);}f.exports=k;}),null);
__d('RichMediaCarouselElement',['AdsCanvasEditorFeature','immutable','InstantShoppingDocumentElementType','RichMediaCarouselItem','AsyncUploadRequest','RichMediaElement','RichMediaEditorConstants','getByPath'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('RichMediaEditorConstants').EDITOR_DEFAULT_PADDING,k=c('immutable').Record,l={id:'',name:'',type:c('InstantShoppingDocumentElementType').SLIDESHOW,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:j,paddingBottom:j},layout:'fit_to_width',items:[],selectedItemIndex:0,addFile:function o(){return null;},onFileProgress:function o(){},onFileSuccess:function o(){},onFileError:function o(){}},m=k(l);h=babelHelpers.inherits(n,m);i=h&&h.prototype;n.create=function(o,p,q,r,s,t,u,v){return new n({index:o,name:p,type:c('InstantShoppingDocumentElementType').SLIDESHOW,expanded:q,advancedExpanded:r,padding:s,layout:t,items:u,selectedItemIndex:v});};n.createDefault=function(o){return n.create(o,'Carousel',true,false,{paddingTop:j,paddingBottom:j},'fit_to_width',[0,1].map(function(p){return (c('RichMediaCarouselItem').createDefault(p+'_'+Math.round(Math.random()*10000)+'_'+Date.now(),p,null));}),0);};n.createFromObject=function(o){var p=[],q=0;o.items.forEach(function(s){if(s){var t=c('RichMediaCarouselItem').createFromObject(s);p.push(t.set('index',q));q++;}});var r=o.selectedItemIndex||o.selectedItemIndex===0?o.selectedItemIndex:0;r=Math.min(Math.max(0,r),p.length-1);return n.create(o.index,o.name,o.expanded,o.advancedExpanded,o.padding,o.layout,p,r);};n.createFromPayloadAndElementField=function(o,p){var q=[],r=c('getByPath')(p,['element','child_elements','length'],0);for(var s=0;s<o.items.length;s++){var t=o.items[s],u=s<r?p.element.child_elements[s]:null;if(t){var v=c('RichMediaCarouselItem').createFromPayloadAndElementField(t,u);q.push(v.set('index',s));}}var w=o.selectedItemIndex||o.selectedItemIndex===0?o.selectedItemIndex:0;w=Math.min(Math.max(0,w),q.length-1);return n.create(o.index,o.name,o.expanded,o.advancedExpanded,o.padding,o.layout,q,w);};n.validate=function(o,p){if(o.items.length<=1)return {isValid:false,errorMsg:'Upload at least 2 images to create a carousel'};for(var q=0;q<o.items.length;++q){var r=o.items[q],s=c('RichMediaCarouselItem').validate(r,p);if(!s.isValid)return {isValid:false,errorMsg:'Item '+(q+1)+' '+s.errorMsg};}return {isValid:true,errorMsg:''};};n.prototype.addFile=function(o,p){this.items.push(c('RichMediaCarouselItem').createDefault(o,this.items.length,p));return this;};n.prototype.replaceFile=function(o,p){var q=this.items.findIndex(function(r){return r.id===o;});if(q<0)return this;this.items[q]=this.items[q].set('uploadStatus',{isUploading:true,percentage:0});return this;};n.prototype.onFileProgress=function(o,p){var q=this.items.findIndex(function(r){return r.id===o;});this.items[q]=this.items[q].set('uploadStatus',{isUploading:true,percentage:p});return this;};n.prototype.onFileSuccess=function(o,p){var q=this.items.findIndex(function(r){return r.id===o;});this.items[q]=this.items[q].set('uploadStatus',{isUploading:false}).set('photo',p.payload.photo);return this;};n.prototype.onFileError=function(o){var p=this.items.findIndex(function(q){return q.id===o;});this.items[p]=this.items[p].set('uploadStatus',{isUploading:false});return this;};function n(){h.apply(this,arguments);}f.exports=n;}),null);
/**
 * @providesModule colr-convert
 * @preserve-header
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2014 George Czabania
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 */__d("colr-convert",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();'use strict';f.exports={grayscale:{rgb:q},hex:{rgb:i},rgb:{hsl:k,hsv:l,hex:j,grayscale:r},hsl:{rgb:m,hsv:n},hsv:{rgb:o,hsl:p}};function h(s){return (s<58?s-48:s<71?s-55:s-87);}function i(s){var t=s[0]==='#'?1:0,u=s.length;if(u-t<3)throw new Error('hex input must be at least three chars long');var v,w,x,y=h(s.charCodeAt(0+t)),z=h(s.charCodeAt(1+t)),aa=h(s.charCodeAt(2+t));if(u-t>=6){v=(y<<4)+z;w=(aa<<4)+h(s.charCodeAt(3+t));x=(h(s.charCodeAt(4+t))<<4)+h(s.charCodeAt(5+t));}else{v=(y<<4)+y;w=(z<<4)+z;x=(aa<<4)+aa;}if(v<0||v>255||w<0||w>255||x<0||x>255)throw new Error('hex input is invalid');return [v,w,x];}function j(s){return '#'+('000000'+((s[0]<<16)+(s[1]<<8)+s[2]).toString(16)).slice(-6);}function k(s){var t=s[0]/255,u=s[1]/255,v=s[2]/255,w=Math.min(t,u,v),x=Math.max(t,u,v),y=x-w,z,aa,ba;if(x===w){z=0;}else if(t===x){z=(u-v)/y;}else if(u===x){z=2+(v-t)/y;}else if(v===x)z=4+(t-u)/y;z=Math.min(z*60,360);if(z<0)z+=360;ba=(w+x)/2;if(x===w){aa=0;}else if(ba<=.5){aa=y/(x+w);}else aa=y/(2-x-w);return [z,aa*100,ba*100];}function l(s){var t=s[0],u=s[1],v=s[2],w=Math.min(t,u,v),x=Math.max(t,u,v),y=x-w,z,aa,ba;if(x===0){aa=0;}else aa=(y/x*1000)/10;if(x===w){z=0;}else if(t===x){z=(u-v)/y;}else if(u===x){z=2+(v-t)/y;}else if(v===x)z=4+(t-u)/y;z=Math.min(z*60,360);if(z<0)z+=360;ba=((x/255)*1000)/10;return [z,aa,ba];}function m(s){var t=s[0]/360,u=s[1]/100,v=s[2]/100,w,x,y;if(u===0){w=x=y=v;}else{var z=v<.5?v*(u+1):v+u-v*u,aa=2*v-z,ba;ba=t+1/3;if(ba<0){ba+=1;}else if(ba>1)ba-=1;if(ba<1/6){w=aa+(z-aa)*ba*6;}else if(ba<1/2){w=z;}else if(ba<2/3){w=aa+(z-aa)*(2/3-ba)*6;}else w=aa;ba=t;if(ba<0){ba+=1;}else if(ba>1)ba-=1;if(ba<1/6){x=aa+(z-aa)*ba*6;}else if(ba<1/2){x=z;}else if(ba<2/3){x=aa+(z-aa)*(2/3-ba)*6;}else x=aa;ba=t-1/3;if(ba<0){ba+=1;}else if(ba>1)ba-=1;if(ba<1/6){y=aa+(z-aa)*ba*6;}else if(ba<1/2){y=z;}else if(ba<2/3){y=aa+(z-aa)*(2/3-ba)*6;}else y=aa;}return [w*255,x*255,y*255];}function n(s){var t=s[0],u=s[1]/100,v=s[2]/100,w,x;if(u===0)return [t,0,v*100];if(v===0)return [t,0,0];v*=2;u*=(v<=1)?v:2-v;x=(v+u)/2;w=(2*u)/(v+u);return [t,w*100,x*100];}function o(s){var t=s[0]/60,u=s[1]/100,v=s[2]/100,w=Math.floor(t)%6,x=t-Math.floor(t),y=255*v*(1-u),z=255*v*(1-(u*x)),aa=255*v*(1-(u*(1-x)));v=255*v;switch(w){case 0:return [v,aa,y];case 1:return [z,v,y];case 2:return [y,v,aa];case 3:return [y,z,v];case 4:return [aa,y,v];case 5:return [v,y,z];}}function p(s){var t=s[0],u=s[1]/100,v=s[2]/100,w,x;if(u===0)return [t,0,v*100];if(v===0)return [t,0,0];x=(2-u)*v;w=u*v;w/=(x<=1)?x:2-x;x/=2;return [t,w*100,x*100];}function q(s){return [s,s,s];}function r(s){return (s[0]*299+s[1]*587+s[2]*114)/1000;}}),null);
/**
 * @providesModule colr
 * @preserve-header
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2014 George Czabania
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 */__d("colr",["colr-convert"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();'use strict';var h=c('colr-convert');function i(){if((this instanceof i)===false)return new i();this._={};}i.fromHex=function(n){return (new i()).fromHex(n);};i.fromGrayscale=function(n){return (new i()).fromGrayscale(n);};i.fromRgb=function(n,o,p){return (new i()).fromRgb(n,o,p);};i.fromRgbArray=function(n){return (new i()).fromRgb(n[0],n[1],n[2]);};i.fromRgbObject=function(n){return (new i()).fromRgb(n.r,n.g,n.b);};i.fromHsl=function(n,o,p){return (new i()).fromHsl(n,o,p);};i.fromHslArray=function(n){return (new i()).fromHsl(n[0],n[1],n[2]);};i.fromHslObject=function(n){return (new i()).fromHsl(n.h,n.s,n.l);};i.fromHsv=function(n,o,p){return (new i()).fromHsv(n,o,p);};i.fromHsvArray=function(n){return (new i()).fromHsv(n[0],n[1],n[2]);};i.fromHsvObject=function(n){return (new i()).fromHsv(n.h,n.s,n.v);};i.prototype.fromHex=function(n){var o=h.hex.rgb(n);this._={rgb:o};return this;};i.prototype.fromGrayscale=function(n){n=k(n);var o=h.grayscale.rgb(n);this._={rgb:o};return this;};i.prototype.fromRgb=function(n,o,p){if(typeof(n)!=='number'||typeof(o)!=='number'||typeof(p)!=='number')throw new Error('Arguments must be numbers');var q=l(n,o,p);this._={rgb:q};return this;};i.prototype.fromRgbArray=function(n){return this.fromRgb(n[0],n[1],n[2]);};i.prototype.fromRgbObject=function(n){return this.fromRgb(n.r,n.g,n.b);};i.prototype.fromHsl=function(n,o,p){if(typeof(n)!=='number'||typeof(o)!=='number'||typeof(p)!=='number')throw new Error('Arguments must be numbers');this._={hsl:m(n,o,p)};return this;};i.prototype.fromHslArray=function(n){return this.fromHsl(n[0],n[1],n[2]);};i.prototype.fromHslObject=function(n){return this.fromHsl(n.h,n.s,n.l);};i.prototype.fromHsv=function(n,o,p){if(typeof(n)!=='number'||typeof(o)!=='number'||typeof(p)!=='number')throw new Error('Arguments must be numbers');this._={hsv:m(n,o,p)};return this;};i.prototype.fromHsvArray=function(n){return this.fromHsv(n[0],n[1],n[2]);};i.prototype.fromHsvObject=function(n){return this.fromHsv(n.h,n.s,n.v);};i.prototype.toHex=function(){var n=this._.hex;if(n!==undefined)return n;var o,p=this._.rgb;if(p!==undefined){o=p;}else o=this.toRawRgbArray();o[0]=Math.round(o[0]);o[1]=Math.round(o[1]);o[2]=Math.round(o[2]);var q=h.rgb.hex(o);this._.hex=q;return q;};i.prototype.toGrayscale=function(){var n=this._.grayscale;if(n!==undefined)return n;var o,p=this._.rgb;if(p!==undefined){o=p;}else o=this.toRawRgbArray();var q=h.rgb.grayscale(o);this._.grayscale=q;return q;};i.prototype.toRawRgbArray=function(){var n=this._.rgb;if(n!==undefined)return n;var o;if((o=this._.hsv)!==undefined){o=h.hsv.rgb(o);}else if((o=this._.hsl)!==undefined){o=h.hsl.rgb(o);}else throw new Error('No data to convert');this._.rgb=o;return o;};i.prototype.toRawRgbObject=function(){var n=this.toRawRgbArray();return {r:n[0],g:n[1],b:n[2]};};i.prototype.toRgbArray=function(){var n=this.toRawRgbArray();return [Math.round(n[0]),Math.round(n[1]),Math.round(n[2])];};i.prototype.toRgbObject=function(){var n=this.toRgbArray();return {r:n[0],g:n[1],b:n[2]};};i.prototype.toRawHslArray=function(){var n=this._.hsl;if(n!==undefined)return n;var o;if((o=this._.hsv)!==undefined){o=h.hsv.hsl(o);}else if((o=this._.rgb)!==undefined){o=h.rgb.hsl(o);}else throw new Error('No data to convert');this._.hsl=o;return o;};i.prototype.toRawHslObject=function(){var n=this.toRawHslArray();return {h:n[0],s:n[1],l:n[2]};};i.prototype.toHslArray=function(){var n=this.toRawHslArray();return [Math.round(n[0]),Math.round(n[1]),Math.round(n[2])];};i.prototype.toHslObject=function(){var n=this.toHslArray();return {h:n[0],s:n[1],l:n[2]};};i.prototype.toRawHsvArray=function(){var n=this._.hsv;if(n!==undefined)return n;var o;if((o=this._.hsl)!==undefined){o=h.hsl.hsv(o);}else if((o=this._.rgb)!==undefined){o=h.rgb.hsv(o);}else throw new Error('No data to convert');this._.hsv=o;return o;};i.prototype.toRawHsvObject=function(){var n=this.toRawHsvArray();return {h:n[0],s:n[1],v:n[2]};};i.prototype.toHsvArray=function(){var n=this.toRawHsvArray();return [Math.round(n[0]),Math.round(n[1]),Math.round(n[2])];};i.prototype.toHsvObject=function(){var n=this.toHsvArray();return {h:n[0],s:n[1],v:n[2]};};i.prototype.lighten=function(n){var o=this.toRawHslArray();o[2]=j(o[2]+n);this._={hsl:o};return this;};i.prototype.darken=function(n){var o=this.toRawHslArray();o[2]=j(o[2]-n);this._={hsl:o};return this;};i.prototype.clone=function(){var n=new i();n._.hex=this._.hex;n._.grayscale=this._.grayscale;if(this._.rgb!==undefined)n._.rgb=this._.rgb.slice(0);if(this._.hsv!==undefined)n._.hsv=this._.hsv.slice(0);if(this._.hsl!==undefined)n._.hsl=this._.hsl.slice(0);return n;};function j(n){return Math.max(Math.min(n,100),0);}function k(n){return Math.max(Math.min(n,255),0);}function l(n,o,p){return [Math.max(Math.min(n,255),0),Math.max(Math.min(o,255),0),Math.max(Math.min(p,255),0),];}function m(n,o,p){return [Math.max(Math.min(n,360),0),Math.max(Math.min(o,100),0),Math.max(Math.min(p,100),0),];}f.exports=i;}),null);
__d('CanvasColorUtils',['Assert','colr'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(k){var l=Math.floor(k*255/100).toString(16);if(l.length===1)l='0'+l;return l;}function i(k){c('Assert').isTrue(k.length<=2,'invalid hex string: '+k);return Math.ceil(parseInt(k,16)/255*100);}function j(k){return c('colr').fromHex(k).toGrayscale()/255;}f.exports={convertColorWithOpacityToARGB:function k(l){var m=l.color;c('Assert').isTrue(6===m.length,'unexpected length string: '+m);var n=h(l.opacity)+m;c('Assert').isTrue(n.length===8,'generated invalid argb: '+n);return n;},convertARGBToColorWithOpacity:function k(l){c('Assert').isTrue(l.length===8,'Got argb: '+l);return {color:l.slice(2),opacity:i(l.slice(0,2))};},convertRGBtoCSSColorWithOpacity:function k(l,m){c('Assert').isTrue(6===l.length,'unexpected length string: '+l);return 'rgba('+parseInt(l.slice(0,2),16)+','+parseInt(l.slice(2,4),16)+','+parseInt(l.slice(4,6),16)+','+m+')';},luminosityOfColor:j,colorContrastingWith:function k(l){return j(l)>.5?'#000':'#FFF';}};}),null);
__d('RichMediaHeaderElement',['CanvasColorUtils','immutable','InstantShoppingDocumentElementType','RichMediaEditorConstants','getByPath'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('RichMediaEditorConstants').EDITOR_DEFAULT_PADDING,k=c('immutable').Record,l={id:'',name:'',type:c('InstantShoppingDocumentElementType').HEADER,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:j,paddingBottom:j},fixToTop:true,photo:null,backgroundColor:null,isCulturalMomentHeader:null,uploadStatus:null},m=k(l);h=babelHelpers.inherits(n,m);i=h&&h.prototype;n.create=function(o,p,q,r,s,t,u,v,w){return new n({name:o,type:c('InstantShoppingDocumentElementType').HEADER,expanded:q,advancedExpanded:r,padding:s,index:p,fixToTop:true,photo:t,backgroundColor:u,isCulturalMomentHeader:v,uploadStatus:w});};n.createDefault=function(o){return n.create('Header',o,true,false,{paddingTop:j,paddingBottom:j},null,'FFFFFFFF',null,null);};n.createFromObject=function(o){return n.create(o.name,o.index,o.expanded,o.advancedExpanded,o.padding,o.photo,o.backgroundColor,o.isCulturalMomentHeader);};n.createFromPayloadAndElementField=function(o,p){o.photo.src=c('getByPath')(p,['element','child_elements','0','element','photo','source']);return n.create(o.name,o.index,o.expanded,o.advancedExpanded,o.padding,o.photo,o.backgroundColor,o.isCulturalMomentHeader);};n.validate=function(o){if(!o.photo)return {isValid:false,errorMsg:'Missing photo'};if(!o.backgroundColor)return {isValid:false,errorMsg:'Missing background color'};if(o.uploadStatus&&o.uploadStatus.isUploading!==false)return {isValid:false,errorMsg:''};return {isValid:true,errorMsg:''};};n.prototype.isOpaque=function(){if(!this.backgroundColor)return true;var o=c('CanvasColorUtils').convertARGBToColorWithOpacity(this.backgroundColor);if(o.opacity===100)return true;return false;};function n(){h.apply(this,arguments);}f.exports=n;}),null);
__d('RichMediaCulturalMomentHeaderElement',['InstantShoppingDocumentElementType','RichMediaEditorConstants','RichMediaHeaderElement'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('RichMediaEditorConstants').EDITOR_DEFAULT_PADDING;h=babelHelpers.inherits(k,c('RichMediaHeaderElement'));i=h&&h.prototype;k.create=function(l,m,n,o,p,q,r,s,t){return new k({name:l,type:c('InstantShoppingDocumentElementType').HEADER,expanded:n,advancedExpanded:o,padding:p,index:m,fixToTop:true,photo:q,backgroundColor:r,isCulturalMomentHeader:s,uploadStatus:t});};k.createDefault=function(l){return k.create('Header',l,true,false,{paddingTop:j,paddingBottom:j},null,'FF000000',true,null);};k.createFromObject=function(l){return k.create(l.name,l.index,l.expanded,l.advancedExpanded,l.padding,l.photo,l.backgroundColor,l.isCulturalMomentHeader);};k.createFromPayloadAndElementField=function(l,m){return k.create(l.name,l.index,l.expanded,l.advancedExpanded,l.padding,l.photo,l.backgroundColor,l.isCulturalMomentHeader);};k.validate=function(l){if(!l.backgroundColor)return {isValid:false,errorMsg:'Missing background color'};return {isValid:true,errorMsg:''};};function k(){h.apply(this,arguments);}f.exports=k;}),null);
__d('RichMediaEditorActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({SET_DOCUMENT_NAME:true,SET_DOCUMENT_THEME:true,SET_DOCUMENT_EDIT_STATE:true,ADD_DOCUMENT_ELEMENT:true,ADD_FILES_TO_DOCUMENT_ELEMENT:true,REPLACE_FILE_IN_DOCUMENT:true,EDIT_DOCUMENT_ELEMENT:true,MOVE_ELEMENT_UP:true,MOVE_ELEMENT_DOWN:true,DELETE_ELEMENT:true,CREATE_DEFAULT_DOCUMENT:true,SET_PREVIEW_FAILED:true,SET_SAVE_FAILED:true,SET_SENDING_PREVIEW:true,SET_DIALOG_SHOWN:true,SET_DIALOG_CANVAS:true,SET_DOCUMENT_URL_DIALOG_SHOWN:true,TOGGLE_DOCUMENT_DEBUG_PANE_SHOWN:true,LOAD_DOCUMENT:true,SELECT_ELEMENT_TO_ADD:true,DESELECT_ELEMENT_TO_ADD:true,ADD_ELEMENTS_SELECTED:true,SET_ADD_COMPONENT_DIALOG_SHOWN:true,SET_USE_CUSTOMIZE_THEME_COLOR:true,SET_CUSTOMIZE_THEME_COLOR:true,SET_SELECTED_CANVAS:true,SET_UNPUBLISHED_CANVAS:true,RESET_UNPUBLISHED_CANVAS:true},'RichMediaEditor');}),null);
__d('RichMediaEditorDispatcher',['ReactDispatcher_DEPRECATED'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactDispatcher_DEPRECATED'));i=h&&h.prototype;function j(){i.constructor.call(this);this.dispatch=this.dispatch.bind(this);}f.exports=new j();}),null);
__d('RichMediaEditorActions',['RichMediaEditorActionTypes','RichMediaEditorDispatcher'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports={setDocumentName:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{name:i},type:c('RichMediaEditorActionTypes').SET_DOCUMENT_NAME});},setDocumentTheme:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{theme:i},type:c('RichMediaEditorActionTypes').SET_DOCUMENT_THEME});},setDocumentEditState:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{editState:i},type:c('RichMediaEditorActionTypes').SET_DOCUMENT_EDIT_STATE});},addDocumentElement:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{element:i},type:c('RichMediaEditorActionTypes').ADD_DOCUMENT_ELEMENT});},addFilesToDocumentElement:function h(i,j,k){c('RichMediaEditorDispatcher').dispatch({data:{element:i,pageID:j,files:k},type:c('RichMediaEditorActionTypes').ADD_FILES_TO_DOCUMENT_ELEMENT});},replaceFileInDocumentElement:function h(i,j,k,l){c('RichMediaEditorDispatcher').dispatch({data:{element:i,pageID:j,itemID:k,files:l},type:c('RichMediaEditorActionTypes').REPLACE_FILE_IN_DOCUMENT});},editDocumentElement:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{element:i},type:c('RichMediaEditorActionTypes').EDIT_DOCUMENT_ELEMENT});},moveElementUp:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{element:i},type:c('RichMediaEditorActionTypes').MOVE_ELEMENT_UP});},moveElementDown:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{element:i},type:c('RichMediaEditorActionTypes').MOVE_ELEMENT_DOWN});},deleteElement:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{element:i},type:c('RichMediaEditorActionTypes').DELETE_ELEMENT});},createDefaultDocument:function h(){c('RichMediaEditorDispatcher').dispatch({data:{},type:c('RichMediaEditorActionTypes').CREATE_DEFAULT_DOCUMENT});},setPreviewFailed:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{previewFailed:i},type:c('RichMediaEditorActionTypes').SET_PREVIEW_FAILED});},setSendingPreview:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{sendingPreview:i},type:c('RichMediaEditorActionTypes').SET_SENDING_PREVIEW});},setSaveFailed:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{saveFailed:i},type:c('RichMediaEditorActionTypes').SET_SAVE_FAILED});},setDialogShown:function h(i,j){c('RichMediaEditorDispatcher').dispatch({data:{dialogID:i,dialogShown:j},type:c('RichMediaEditorActionTypes').SET_DIALOG_SHOWN});},setDialogCanvas:function h(i,j){c('RichMediaEditorDispatcher').dispatch({data:{dialogID:i,canvas:j},type:c('RichMediaEditorActionTypes').SET_DIALOG_CANVAS});},setDocumentURLDialogShown:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{dialogShown:i},type:c('RichMediaEditorActionTypes').SET_DOCUMENT_URL_DIALOG_SHOWN});},toggleDocumentDebugPaneShown:function h(){c('RichMediaEditorDispatcher').dispatch({data:{},type:c('RichMediaEditorActionTypes').TOGGLE_DOCUMENT_DEBUG_PANE_SHOWN});},loadDocument:function h(i,j,k,l,m){c('RichMediaEditorDispatcher').dispatch({data:{documentName:i,documentTheme:j,documentID:k,elementsPayload:l,elements:m},type:c('RichMediaEditorActionTypes').LOAD_DOCUMENT});},selectElementToAdd:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{elementTypeName:i},type:c('RichMediaEditorActionTypes').SELECT_ELEMENT_TO_ADD});},deselectElementToAdd:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{elementTypeName:i},type:c('RichMediaEditorActionTypes').DESELECT_ELEMENT_TO_ADD});},addElementsSelected:function h(){c('RichMediaEditorDispatcher').dispatch({data:{},type:c('RichMediaEditorActionTypes').ADD_ELEMENTS_SELECTED});},setAddComponentDialogShown:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{dialogShown:i},type:c('RichMediaEditorActionTypes').SET_ADD_COMPONENT_DIALOG_SHOWN});},setUseCustomizeThemeColor:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{useCustomizeThemeColor:i},type:c('RichMediaEditorActionTypes').SET_USE_CUSTOMIZE_THEME_COLOR});},setCustomizeThemeColor:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{customizeThemeColor:i},type:c('RichMediaEditorActionTypes').SET_CUSTOMIZE_THEME_COLOR});},setUnpublishedCanvas:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{unpublishedCanvas:i},type:c('RichMediaEditorActionTypes').SET_UNPUBLISHED_CANVAS});},resetUnpublishedCanvas:function h(){c('RichMediaEditorDispatcher').dispatch({type:c('RichMediaEditorActionTypes').RESET_UNPUBLISHED_CANVAS});},setSelectedCanvas:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{selectedCanvas:i},type:c('RichMediaEditorActionTypes').SET_SELECTED_CANVAS});}};}),null);
__d('AdsCanvasEditorFunnelLoggingConstants',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports={FUNNEL_LOGGING_NAME:'WWW_CANVAS_EDITOR_FUNNEL',FUNNEL_LOGGING_EVENT:{ADD_ELEMENT:'add_element',CREATE_POST:'create_post',CHANGE_CANVAS_TITLE:'change_canvas_title',CHANGE_ELEMENT_TITLE:'change_element_title',DUPLICATE:'duplicate',GET_URL:'get_url',PREVIEW_FAIL:'preview_fail',PREVIEW_SELF:'preview_self',PREVIEW_SHARE:'preview_share',PUBLISH:'publish_canvas',PUBLISH_FAILURE:'publish_failure',REMOVE_ELEMENT:'remove_element',SAVE:'save_canvas',SAVE_FAILURE:'save_failure',SWITCH_ELEMENT:'switch_element',UPLOAD_VIDEO:'upload_video',UPLOAD_PHOTO:'upload_photo',VALIDATION_ERROR:'validation_error'},FUNNEL_LOGGING_TIMEOUT:999999,FUNNEL_LOGGING_TAGS:{EDITOR_EXIT:'editor_exit',FIRST_TIME_USER:'first_time_user'}};}),null);
__d('CanvasCreationWaterfallTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:CanvasCreationWaterfallLoggerConfig',this.$CanvasCreationWaterfallTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:CanvasCreationWaterfallLoggerConfig',this.$CanvasCreationWaterfallTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$CanvasCreationWaterfallTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$CanvasCreationWaterfallTypedLogger1=babelHelpers['extends']({},this.$CanvasCreationWaterfallTypedLogger1,j);return this;};h.prototype.setCanvasID=function(j){this.$CanvasCreationWaterfallTypedLogger1.canvas_id=j;return this;};h.prototype.setCanvasLoadType=function(j){this.$CanvasCreationWaterfallTypedLogger1.canvas_load_type=j;return this;};h.prototype.setCanvasName=function(j){this.$CanvasCreationWaterfallTypedLogger1.canvas_name=j;return this;};h.prototype.setDuplicateParentCanvasID=function(j){this.$CanvasCreationWaterfallTypedLogger1.duplicate_parent_canvas_id=j;return this;};h.prototype.setEditorComponentAttributes=function(j){this.$CanvasCreationWaterfallTypedLogger1.editor_component_attributes=j;return this;};h.prototype.setEditorLineHeight=function(j){this.$CanvasCreationWaterfallTypedLogger1.editor_line_height=j;return this;};h.prototype.setEditorPaddingBottom=function(j){this.$CanvasCreationWaterfallTypedLogger1.editor_padding_bottom=j;return this;};h.prototype.setEditorPaddingTop=function(j){this.$CanvasCreationWaterfallTypedLogger1.editor_padding_top=j;return this;};h.prototype.setEditorPhotoHeight=function(j){this.$CanvasCreationWaterfallTypedLogger1.editor_photo_height=j;return this;};h.prototype.setEditorPhotoWidth=function(j){this.$CanvasCreationWaterfallTypedLogger1.editor_photo_width=j;return this;};h.prototype.setEditorURL=function(j){this.$CanvasCreationWaterfallTypedLogger1.editor_url=j;return this;};h.prototype.setElementPayload=function(j){this.$CanvasCreationWaterfallTypedLogger1.element_payload=j;return this;};h.prototype.setElementType=function(j){this.$CanvasCreationWaterfallTypedLogger1.element_type=j;return this;};h.prototype.setErrorCode=function(j){this.$CanvasCreationWaterfallTypedLogger1.error_code=j;return this;};h.prototype.setEventName=function(j){this.$CanvasCreationWaterfallTypedLogger1.event_name=j;return this;};h.prototype.setHelpPageEventName=function(j){this.$CanvasCreationWaterfallTypedLogger1.help_page_event_name=j;return this;};h.prototype.setPageID=function(j){this.$CanvasCreationWaterfallTypedLogger1.page_id=j;return this;};h.prototype.setPageName=function(j){this.$CanvasCreationWaterfallTypedLogger1.page_name=j;return this;};h.prototype.setPublishedURL=function(j){this.$CanvasCreationWaterfallTypedLogger1.published_url=j;return this;};h.prototype.setSource=function(j){this.$CanvasCreationWaterfallTypedLogger1.source=j;return this;};h.prototype.setVC=function(j){this.$CanvasCreationWaterfallTypedLogger1.vc=j;return this;};h.prototype.setVideoID=function(j){this.$CanvasCreationWaterfallTypedLogger1.video_id=j;return this;};h.prototype.setViewerID=function(j){this.$CanvasCreationWaterfallTypedLogger1.viewer_id=j;return this;};var i={canvas_id:true,canvas_load_type:true,canvas_name:true,duplicate_parent_canvas_id:true,editor_component_attributes:true,editor_line_height:true,editor_padding_bottom:true,editor_padding_top:true,editor_photo_height:true,editor_photo_width:true,editor_url:true,element_payload:true,element_type:true,error_code:true,event_name:true,help_page_event_name:true,page_id:true,page_name:true,published_url:true,source:true,vc:true,video_id:true,viewer_id:true};f.exports=h;}),null);
__d('RichMediaDocumentThemeConstants',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports={WHITE:'FFFFFFFF',BLACK:'FF000000'};}),null);
__d("XCanvasPhotoUploadController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/canvas\/upload\/photo\/",{});}),null);
__d('RichMediaEditorUploader',['ActorURI','AsyncUploadRequest','XCanvasPhotoUploadController'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={upload:function i(j,k,l){var m=c('ActorURI').create(c('XCanvasPhotoUploadController').getURIBuilder().getURI(),j),n=new (c('AsyncUploadRequest'))(m).setAllowCrossOrigin(false).setFiles({file:k}),o=[];o.push(n.subscribe('progress',function(p,q){var event=q.getProgressEvent();if(event.lengthComputable)l.onProgress(q.getFile(),event.loaded/event.total*100);}));o.push(n.subscribe('success',function(p,q){l.onSuccess(q.getFile(),q.getResponse());}));o.push(n.subscribe('error',function(p,q){l.onError(q.getFile());}));o.push(n.subscribe('complete',function(p,q){while(o.length)o.pop().unsubscribe();}));n.send();return n;}};f.exports=h;}),null);
__d('RichMediaElementTypeConstant',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports={TYPE_NAMES:{BUTTON:'button',CAROUSEL:'carousel',CULTURAL_MOMENT_HEADER:'cultural_moment_header',HEADER:'header',LOCAL_IMAGE:'local_image',PHOTO:'photo',TEXT:'text',VIDEO:'video',PRODUCT_SET:'product_set',TITLE_AND_DATE:'title_and_date',SCRUBBABLE_GIF:'scrubbable_gif',STORE_LOCATOR:'store_locator'}};}),null);
__d('RichMediaPhotoElement',['immutable','InstantShoppingDocumentElementType','RichMediaEditorUtil','RichMediaElementValidationUtil','RichMediaEditorConstants','AdsCanvasEditorEnums','getByPath','validateDeepLink'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('RichMediaEditorConstants').EDITOR_DEFAULT_PADDING,k=c('AdsCanvasEditorEnums').LinkDestinationEnum,l=c('immutable').Record,m={id:'',name:'',type:c('InstantShoppingDocumentElementType').PHOTO,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:j,paddingBottom:j},layout:'fit_to_width',description:null,link:null,deeplink:null,linkedCanvasName:null,destination:k.WEBSITE,photo:null,culturalMomentAnnotationImage:null,uploadStatus:null},n=l(m);h=babelHelpers.inherits(o,n);i=h&&h.prototype;o.create=function(p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca){return new o({name:p,type:c('InstantShoppingDocumentElementType').PHOTO,index:q,expanded:r,advancedExpanded:s,padding:t,layout:u,description:v,link:w,deeplink:x,linkedCanvasName:y,destination:z,photo:aa,culturalMomentAnnotationImage:ba,uploadStatus:ca});};o.createDefault=function(p){return o.create('Photo',p,true,false,{paddingTop:j,paddingBottom:j},'fit_to_width',null,null,null,null,k.WEBSITE,null,null,null);};o.createFromObject=function(p){return o.create(p.name,p.index,p.expanded,p.advancedExpanded,p.padding,p.layout,p.description,p.link,p.deeplink,p.linkedCanvasName,p.destination,p.photo,p.culturalMomentAnnotationImage);};o.createFromPayloadAndElementField=function(p,q){p.photo.src=c('getByPath')(q,['element','photo','images','0','source']);return o.create(p.name,p.index,p.expanded,p.advancedExpanded,p.padding,p.layout,p.description,p.link,p.deeplink,p.linkedCanvasName,p.destination,p.photo,p.culturalMomentAnnotationImage);};o.validate=function(p,q){if(!p.photo)return {isValid:false,errorMsg:'Missing photo'};if(p.link&&!c('RichMediaEditorUtil').isValidURL(p.link))if(p.destination===k.NATIVE){return {isValid:false,errorMsg:'Invalid Store URL'};}else return {isValid:false,errorMsg:'Invalid Website URL'};var r=c('RichMediaElementValidationUtil').validateForAppstoreDestination(p,q);if(!r.isValid)return r;if(p.deeplink)if(!c('validateDeepLink')(p.deeplink))return {isValid:false,errorMsg:'Invalid Deeplink'};if(p.uploadStatus&&p.uploadStatus.isUploading!==false)return {isValid:false,errorMsg:''};return {isValid:true,errorMsg:''};};function o(){h.apply(this,arguments);}f.exports=o;}),null);
__d('RichMediaProductSetElement',['immutable','InstantShoppingDocumentElementType','RichMediaEditorConstants'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('RichMediaEditorConstants').EDITOR_DEFAULT_PADDING,k=c('immutable').Record,l={id:'',name:'',type:c('InstantShoppingDocumentElementType').ELEMENT_GROUP,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:j,paddingBottom:j},catalogID:null,setID:null,limit:0},m=k(l);h=babelHelpers.inherits(n,m);i=h&&h.prototype;n.create=function(o,p,q,r,s,t,u,v){return new n({name:o,index:p,type:c('InstantShoppingDocumentElementType').ELEMENT_GROUP,expanded:q,advancedExpanded:r,padding:s,catalogID:t,setID:u,limit:v});};n.createDefault=function(o){return n.create('Product',o,true,false,{paddingTop:j,paddingBottom:j},null,null,40);};n.createFromObject=function(o){return n.create(o.name,o.index,o.expanded,o.advancedExpanded,o.padding,o.catalogID,o.setID,o.limit);};n.validate=function(o){if(o.catalogID==null)return {isValid:false,errorMsg:'Missing catalog ID'};if(o.setID==null)return {isValid:false,errorMsg:'Please choose or create a Product Set from your Product Catalog'};if(o.limit<=0)return {isValid:false,errorMsg:'Invalid maximum products count'};return {isValid:true,errorMsg:''};};function n(){h.apply(this,arguments);}f.exports=n;}),null);
__d('RichMediaTextElement',['immutable','InstantShoppingDocumentElementType','RichMediaRichFormatText','RichMediaEditorConstants'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('RichMediaEditorConstants').EDITOR_DEFAULT_LINE_HEIGHT,k=c('RichMediaEditorConstants').EDITOR_DEFAULT_TEXT_BUTTON_PADDING_VERTICAL,l=c('RichMediaEditorConstants').EDITOR_DEFAULT_TEXT_BUTTON_PADDING_HORIZONTAL,m=c('immutable').Record,n={id:'',name:'',type:c('InstantShoppingDocumentElementType').RICH_TEXT,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:k,paddingBottom:k,paddingLeft:l,paddingRight:l},richFormatText:{composedText:{entityMap:{},blocks:[]},textAlignment:'center',textColor:'#000',fontSize:12,fontFamily:'sans-serif',lineHeight:j},backgroundColor:'#FFFFFF'},o=m(n);h=babelHelpers.inherits(p,o);i=h&&h.prototype;p.create=function(q,r,s,t,u,v,w){return new p({index:q,name:r,type:c('InstantShoppingDocumentElementType').RICH_TEXT,expanded:s,advancedExpanded:t,padding:u,richFormatText:v,backgroundColor:w});};p.createDefault=function(q){return p.create(q,'Text',true,false,{paddingTop:k,paddingBottom:k,paddingLeft:l,paddingRight:l},c('RichMediaRichFormatText').createDefault(),'#FFFFFF');};p.createFromObject=function(q){return p.create(q.index,q.name,q.expanded,q.advancedExpanded,{paddingTop:q.padding&&q.padding.paddingTop?q.padding.paddingTop:k,paddingBottom:q.padding&&q.padding.paddingBottom?q.padding.paddingBottom:k,paddingLeft:q.padding&&q.padding.paddingLeft?q.padding.paddingLeft:l,paddingRight:q.padding&&q.padding.paddingRight?q.padding.paddingRight:l},c('RichMediaRichFormatText').createFromObject(q.richFormatText),q.backgroundColor);};p.validate=function(q){var r=c('RichMediaRichFormatText').getPlainTextFromComposedText(q.richFormatText.composedText);if(r.length==0)return {isValid:false,errorMsg:'Empty text block is not allowed'};return {isValid:true,errorMsg:''};};function p(){h.apply(this,arguments);}f.exports=p;}),null);
__d('RichMediaVideoElement',['immutable','InstantShoppingDocumentElementType','RichMediaEditorConstants'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('RichMediaEditorConstants').EDITOR_DEFAULT_PADDING,k=c('immutable').Record,l={id:'',name:'',type:c('InstantShoppingDocumentElementType').VIDEO,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:j,paddingBottom:j},layout:'fit_to_width',video:null,culturalMomentAnnotationImage:null,uploadStatus:null},m=k(l);h=babelHelpers.inherits(n,m);i=h&&h.prototype;n.create=function(o,p,q,r,s,t,u,v,w){return new n({name:o,type:c('InstantShoppingDocumentElementType').VIDEO,index:p,expanded:q,advancedExpanded:r,padding:s,layout:t?t:'fit_to_width',video:u,culturalMomentAnnotationImage:v,uploadStatus:w});};n.createDefault=function(o){return n.create('Video',o,true,false,{paddingTop:j,paddingBottom:j},'fit_to_width',null,null,null);};n.createFromObject=function(o){return n.create(o.name,o.index,o.expanded,o.advancedExpanded,o.padding,o.layout,o.video,o.culturalMomentAnnotationImage);};n.validate=function(o){if(!o.video)return {isValid:false,errorMsg:'Missing video'};if(o.uploadStatus&&(o.uploadStatus.isUploading!==false||o.uploadStatus.isEncoding!==false))return {isValid:false,errorMsg:''};return {isValid:true,errorMsg:''};};function n(){h.apply(this,arguments);}f.exports=n;}),null);
__d('RichMediaElementUtil',['InstantShoppingDocumentElementType','RichMediaButtonElement','RichMediaCarouselElement','RichMediaCulturalMomentHeaderElement','RichMediaHeaderElement','RichMediaPhotoElement','RichMediaProductSetElement','RichMediaTextElement','RichMediaVideoElement'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={areElementsValid:function i(j){for(var k=0;k<j.length;++k){var l=this.validateElement(j[k],j);if(!l.isValid)return false;}return true;},validateElement:function i(j,k){switch(j.type){case c('InstantShoppingDocumentElementType').RICH_TEXT:return c('RichMediaTextElement').validate(j);case c('InstantShoppingDocumentElementType').PHOTO:return c('RichMediaPhotoElement').validate(j,k);case c('InstantShoppingDocumentElementType').VIDEO:return c('RichMediaVideoElement').validate(j);case c('InstantShoppingDocumentElementType').BUTTON:return c('RichMediaButtonElement').validate(j,k);case c('InstantShoppingDocumentElementType').SLIDESHOW:return c('RichMediaCarouselElement').validate(j,k);case c('InstantShoppingDocumentElementType').HEADER:if(j.isCulturalMomentHeader){return c('RichMediaCulturalMomentHeaderElement').validate(j);}else return c('RichMediaHeaderElement').validate(j);case c('InstantShoppingDocumentElementType').ELEMENT_GROUP:return c('RichMediaProductSetElement').validate(j);}return {isValid:true,errorMsg:''};},getFixToBottomButtonElement:function i(j){for(var k=0;k<j.length;++k)if(j[k].type===c('InstantShoppingDocumentElementType').BUTTON&&j[k].isFixedToBottom)return j[k];return null;},getHeaderElement:function i(j){if(j.length===0)return null;if(j[0].type===c('InstantShoppingDocumentElementType').HEADER)return c('RichMediaHeaderElement').createFromObject(j[0]);return null;},hasFixToTopHeaderElement:function i(j){if(j.length===0)return false;if(j[0].type===c('InstantShoppingDocumentElementType').HEADER)return j[0].isOpaque();return false;},isContentUploadingInElement:function i(j){if(j.uploadStatus){var k=j.uploadStatus;switch(j.type){case c('InstantShoppingDocumentElementType').PHOTO:if(k.isUploading)return true;break;case c('InstantShoppingDocumentElementType').VIDEO:if(k.isUploading||k.isEncoding)return true;break;default:break;}}else if(j.type===c('InstantShoppingDocumentElementType').SLIDESHOW){var l=j.items;for(var m=0;m<l.length;m++)if(l[m].uploadStatus&&l[m].uploadStatus.isUploading)return true;}return false;}};f.exports=h;}),null);
__d('RichMediaLocalImageElement',['immutable','InstantShoppingDocumentElementType'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('immutable').Record,k={id:'',name:'',type:c('InstantShoppingDocumentElementType').LOCAL_IMAGE,index:0,expanded:false,advancedExpanded:false},l=j(k);h=babelHelpers.inherits(m,l);i=h&&h.prototype;m.create=function(n,o,p,q){return new m({index:n,name:o,type:c('InstantShoppingDocumentElementType').LOCAL_IMAGE,expanded:p,advancedExpanded:q});};m.createDefault=function(n){return m.create(n,'Local Footer Image',true,false);};m.createFromObject=function(n){return m.create(n.index,n.name,n.expanded,n.advancedExpanded);};m.validate=function(n){return {isValid:true,errorMsg:''};};function m(){h.apply(this,arguments);}f.exports=m;}),null);
__d('RichMediaScrubbableGIFElement',['immutable','InstantShoppingDocumentElementType','RichMediaEditorConstants'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('RichMediaEditorConstants').EDITOR_DEFAULT_PADDING,k=c('immutable').Record,l={id:'',name:'',type:c('InstantShoppingDocumentElementType').SCRUBBABLE_GIF,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:j,paddingBottom:j},layout:'fit_to_width',video:null,uploadStatus:null},m=k(l);h=babelHelpers.inherits(n,m);i=h&&h.prototype;n.create=function(o,p,q,r,s,t,u,v){return new n({name:o,type:c('InstantShoppingDocumentElementType').SCRUBBABLE_GIF,index:p,expanded:q,advancedExpanded:r,padding:s,layout:t?t:'fit_to_width',video:u,uploadStatus:v});};n.createDefault=function(o){return n.create('Scrubbable GIF',o,true,false,{paddingTop:j,paddingBottom:j},'fit_to_width',null,null);};n.createFromObject=function(o){return n.create(o.name,o.index,o.expanded,o.advancedExpanded,o.padding,o.layout,o.video);};n.validate=function(o){if(!o.video)return {isValid:false,errorMsg:'Missing video'};if(o.uploadStatus&&(o.uploadStatus.isUploading!==false||o.uploadStatus.isEncoding!==false))return {isValid:false,errorMsg:''};return {isValid:true,errorMsg:''};};function n(){h.apply(this,arguments);}f.exports=n;}),null);
__d('RichMediaStoreLocatorThemes',['fbt','RichMediaStoreLocatorElementTheme'],(function a(b,c,d,e,f,g,h){'use strict';var i;if(c.__markCompiled)c.__markCompiled();f.exports={STORE_LOCATOR_THEMES:c('RichMediaStoreLocatorElementTheme'),STORE_LOCATOR_THEMES_LABELS:(i={},i[c('RichMediaStoreLocatorElementTheme').LIGHT]=h._("Light"),i[c('RichMediaStoreLocatorElementTheme').DARK]=h._("Dark"),i[c('RichMediaStoreLocatorElementTheme').CUSTOM]=h._("Custom"),i),STORE_LOCATOR_LIGHT_HEADER_BACKGROUND_COLOR:'#FFFFFF',STORE_LOCATOR_DARK_HEADER_BACKGROUND_COLOR:'#000000',STORE_LOCATOR_DEFAULT_CUSTOM_HEADER_BACKGROUND_COLOR:'#4267b2',STORE_LOCATOR_DEFAULT_TYPEFACE:'HelveticaNeue-Light'};}),null);
__d('RichMediaStoreLocatorElement',['InstantShoppingDocumentElementType','RichMediaStoreLocatorThemes','RichMediaEditorConstants','immutable'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('RichMediaStoreLocatorThemes').STORE_LOCATOR_DARK_HEADER_BACKGROUND_COLOR,k=c('RichMediaStoreLocatorThemes').STORE_LOCATOR_DEFAULT_CUSTOM_HEADER_BACKGROUND_COLOR,l=c('RichMediaStoreLocatorThemes').STORE_LOCATOR_DEFAULT_TYPEFACE,m=c('RichMediaStoreLocatorThemes').STORE_LOCATOR_LIGHT_HEADER_BACKGROUND_COLOR,n=c('RichMediaStoreLocatorThemes').STORE_LOCATOR_THEMES,o=c('RichMediaEditorConstants').EDITOR_FONT_FAMILIIES,p=c('immutable').Record,q={id:'',name:'',type:c('InstantShoppingDocumentElementType').STORE_LOCATOR,index:0,expanded:false,advancedExpanded:false,adAccountID:'',pageID:'',typeface:l,theme:n.LIGHT,customHeaderBackgroundColor:k},r=p(q);h=babelHelpers.inherits(s,r);i=h&&h.prototype;s.create=function(t,u,v,w,x,y,z,aa,ba){return new s({index:t,name:u,type:c('InstantShoppingDocumentElementType').STORE_LOCATOR,expanded:v,advancedExpanded:w,adAccountID:x,pageID:y,typeface:z,theme:aa,customHeaderBackgroundColor:ba});};s.createDefault=function(t){return s.create(t,'Store Locator',true,false,q.adAccountID,q.pageID,q.typeface,q.theme,q.customHeaderBackgroundColor);};s.createFromObject=function(t){return s.create(t.index,t.name,t.expanded,t.advancedExpanded,t.adAccountID,t.pageID,t.typeface,t.theme,t.customHeaderBackgroundColor);};s.isValidColor=function(t){return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t);};s.isValidTheme=function(t){return t in n;};s.isValidTypeface=function(t){return o.indexOf(t)!=-1;};s.validate=function(t){var u='',v=true;if(!s.isValidTheme(t.theme)){v=false;u+='The theme "'+t.theme+'" is not valid.\n';}if(!s.isValidTypeface(t.typeface)){v=false;u+='The typeface "'+t.typeface+'" is not valid.\n';}if(!s.isValidColor(t.customHeaderBackgroundColor)){v=false;u+='The custom header background color "'+t.customHeaderBackgroundColor+'" is not a valid hex color.\n';}return {isValid:v,errorMsg:u};};s.prototype.headerBackgroundColor=function(){switch(this.theme){case n.LIGHT:return m;case n.DARK:return j;case n.CUSTOM:return this.customHeaderBackgroundColor;default:throw new Error('Theme not supported.');}};function s(){h.apply(this,arguments);}f.exports=s;}),null);
__d('RichMediaTitleAndDateElement',['immutable','InstantShoppingDocumentElementType'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('immutable').Record,k={id:'',name:'',type:c('InstantShoppingDocumentElementType').TITLE_AND_DATE,index:0,expanded:false,advancedExpanded:false,title:'',startTime:Date.now()/1000,endTime:Date.now()/1000,isLocalTime:true},l=j(k);h=babelHelpers.inherits(m,l);i=h&&h.prototype;m.create=function(n,o,p,q,r,s,t,u){return new m({index:n,name:o,type:c('InstantShoppingDocumentElementType').TITLE_AND_DATE,expanded:p,advancedExpanded:q,title:r,startTime:s,endTime:t,isLocalTime:u});};m.createDefault=function(n){return m.create(n,'Title And Date',true,false,'Title',Date.now()/1000,Date.now()/1000,true);};m.createFromObject=function(n){return m.create(n.index,n.name,n.expanded,n.advancedExpanded,n.title,n.startTime,n.endTime,n.isLocalTime);};m.validate=function(n){if(n.title.length==0)return {isValid:false,errorMsg:'Empty title is not allowed'};if(n.startTime>n.endTime)return {isValid:false,errorMsg:'Start date must be less than the end date'};return {isValid:true,errorMsg:''};};function m(){h.apply(this,arguments);}f.exports=m;}),null);
__d('RichMediaEditorStore',['fbt','invariant','AdsCanvasEditorFeature','CanvasCreationEvent','CanvasCreationWaterfallTypedLogger','CanvasLoadSource','FluxStore','FunnelLogger','InstantShoppingDocumentElementType','RichMediaEditorActionTypes','RichMediaEditorDispatcher','RichMediaEditorActions','RichMediaEditorUploader','RichMediaElementUtil','RichMediaButtonElement','RichMediaCarouselElement','RichMediaCulturalMomentHeaderElement','RichMediaHeaderElement','RichMediaLocalImageElement','RichMediaPhotoElement','RichMediaProductSetElement','RichMediaScrubbableGIFElement','RichMediaStoreLocatorElement','RichMediaTextElement','RichMediaTitleAndDateElement','RichMediaVideoElement','AdsCanvasEditorEnums','AdsCanvasEditorFunnelLoggingConstants','RichMediaDocumentThemeConstants','RichMediaElementTypeConstant','Map'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('AdsCanvasEditorEnums').ErrorTypeEnum,m=c('AdsCanvasEditorEnums').SaveStateEnum,n=c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_NAME,o=c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_EVENT,p=c('RichMediaDocumentThemeConstants').WHITE,q=c('RichMediaDocumentThemeConstants').BLACK,r=c('RichMediaElementTypeConstant').TYPE_NAMES;j=babelHelpers.inherits(s,c('FluxStore'));k=j&&j.prototype;function s(t){k.constructor.call(this,t);this.$RichMediaEditorStore1='';this.$RichMediaEditorStore2=p;this.$RichMediaEditorStore3=[];this.$RichMediaEditorStore4=m.SAVED;this.$RichMediaEditorStore5='';this.$RichMediaEditorStore6=l.WARNING;this.$RichMediaEditorStore7=false;this.$RichMediaEditorStore8=false;this.$RichMediaEditorStore9=false;this.$RichMediaEditorStore10=false;this.$RichMediaEditorStore11=false;this.$RichMediaEditorStore12=false;this.$RichMediaEditorStore13=-1;this.$RichMediaEditorStore14={};this.$RichMediaEditorStore15=false;this.$RichMediaEditorStore16=false;this.$RichMediaEditorStore17=q;this.$RichMediaEditorStore18=0;}s.prototype.__onDispatch=function(t){var u=t.data,v=void 0;switch(t.type){case c('RichMediaEditorActionTypes').SET_DOCUMENT_NAME:this.$RichMediaEditorStore1=u.name;this.$RichMediaEditorStore4=m.UNSAVED;this.$RichMediaEditorStore13=-1;this.__emitChange();break;case c('RichMediaEditorActionTypes').SET_DOCUMENT_THEME:this.$RichMediaEditorStore2=u.theme;this.$RichMediaEditorStore4=m.UNSAVED;this.$RichMediaEditorStore13=-1;this.__emitChange();break;case c('RichMediaEditorActionTypes').SET_DOCUMENT_EDIT_STATE:this.$RichMediaEditorStore4=u.editState;this.__emitChange();break;case c('RichMediaEditorActionTypes').ADD_DOCUMENT_ELEMENT:var w=this.$RichMediaEditorStore3;if(u.element.type===c('InstantShoppingDocumentElementType').HEADER){this.$RichMediaEditorStore19(u.element,0);}else if(this.getHasStoreLocatorElement()){this.$RichMediaEditorStore19(u.element,this.$RichMediaEditorStore3.length-1);}else this.$RichMediaEditorStore3.push(u.element);this.$RichMediaEditorStore13=u.element.index;this.$RichMediaEditorStore4=m.UNSAVED;this.__emitChange();break;case c('RichMediaEditorActionTypes').ADD_FILES_TO_DOCUMENT_ELEMENT:v=this.$RichMediaEditorStore20(u.files,u.pageID,this.getDocumentElement(u.element.id));this.$RichMediaEditorStore3[v.index]=v;this.$RichMediaEditorStore13=v.index;this.__emitChange();break;case c('RichMediaEditorActionTypes').REPLACE_FILE_IN_DOCUMENT:v=this.getDocumentElement(u.element.id);!(v.type===c('InstantShoppingDocumentElementType').SLIDESHOW)?i(0):void 0;var x=new (c('Map'))();x[u.files[0].name]=u.itemID;var y=c('RichMediaEditorUploader').upload(u.pageID,[u.files[0]],this.$RichMediaEditorStore21(v.id,x));v=v.replaceFile(u.itemID,y);this.$RichMediaEditorStore3[v.index]=v;this.$RichMediaEditorStore13=v.index;this.$RichMediaEditorStore4=m.UNSAVED;this.__emitChange();break;case c('RichMediaEditorActionTypes').EDIT_DOCUMENT_ELEMENT:var z=this.$RichMediaEditorStore3[u.element.index];if(z&&z!=u.element&&z.expanded===u.element.expanded)this.$RichMediaEditorStore4=m.UNSAVED;this.$RichMediaEditorStore3[u.element.index]=u.element;var aa=u.element.uploadStatus&&(u.element.uploadStatus.isEncoding||u.element.uploadStatus.isUploading);if(!aa)this.$RichMediaEditorStore13=u.element.index;if(c('RichMediaElementUtil').areElementsValid(this.$RichMediaEditorStore3))this.$RichMediaEditorStore6=l.WARNING;this.__emitChange();break;case c('RichMediaEditorActionTypes').MOVE_ELEMENT_UP:c('FunnelLogger').appendAction(n,o.SWITCH_ELEMENT);if(u.element.index>0){w=this.$RichMediaEditorStore3;var ba=u.element.index,ca=w[ba].set('index',ba-1),da=w[ba-1].set('index',ba);if(da.type!==c('InstantShoppingDocumentElementType').HEADER){w[ba]=da;w[ba-1]=ca;}this.$RichMediaEditorStore4=m.UNSAVED;this.$RichMediaEditorStore13=ba-1;this.__emitChange();}break;case c('RichMediaEditorActionTypes').MOVE_ELEMENT_DOWN:c('FunnelLogger').appendAction(n,o.SWITCH_ELEMENT);if(u.element.index<this.$RichMediaEditorStore3.length-1&&u.element.type!==c('InstantShoppingDocumentElementType').HEADER){w=this.$RichMediaEditorStore3;ba=u.element.index;ca=w[ba];var ea=w[ba+1];w[ba]=ea.set('index',ba);w[ba+1]=ca.set('index',ba+1);this.$RichMediaEditorStore4=m.UNSAVED;this.$RichMediaEditorStore13=ba+1;this.__emitChange();}break;case c('RichMediaEditorActionTypes').DELETE_ELEMENT:c('FunnelLogger').appendAction(n,o.REMOVE_ELEMENT);w=this.$RichMediaEditorStore3;ba=u.element.index;w.splice(ba,1);for(var fa=ba;fa<w.length;++fa)w[fa]=w[fa].set('index',fa);this.$RichMediaEditorStore4=m.UNSAVED;this.$RichMediaEditorStore13=ba>0?ba-1:0;if(w.length==0||c('RichMediaElementUtil').areElementsValid(w))this.$RichMediaEditorStore6=l.WARNING;this.__emitChange();break;case c('RichMediaEditorActionTypes').CREATE_DEFAULT_DOCUMENT:this.$RichMediaEditorStore7=true;new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').LOAD).setCanvasLoadType(c('CanvasLoadSource').LOAD_NEW_DEFAULT_DOC).setPageID(u.pageID).setCanvasID(u.documentID).log();c('FunnelLogger').addFunnelTag(n,c('CanvasLoadSource').LOAD_NEW_DEFAULT_DOC);this.$RichMediaEditorStore1=h._("Untitled Canvas");if(!c('AdsCanvasEditorFeature').remove_default_components){this.$RichMediaEditorStore3=[this.$RichMediaEditorStore22(c('RichMediaHeaderElement').createDefault(0)),this.$RichMediaEditorStore22(c('RichMediaPhotoElement').createDefault(1)),this.$RichMediaEditorStore22(c('RichMediaButtonElement').createDefault(2))];}else this.$RichMediaEditorStore3=[];this.$RichMediaEditorStore4=m.UNSAVED;this.$RichMediaEditorStore11=false;this.__emitChange();break;case c('RichMediaEditorActionTypes').SET_PREVIEW_FAILED:this.$RichMediaEditorStore8=u.previewFailed;this.__emitChange();break;case c('RichMediaEditorActionTypes').SET_SENDING_PREVIEW:this.$RichMediaEditorStore10=u.sendingPreview;this.__emitChange();break;case c('RichMediaEditorActionTypes').SET_SAVE_FAILED:if(c('RichMediaElementUtil').areElementsValid(this.$RichMediaEditorStore3))this.$RichMediaEditorStore9=u.saveFailed;if(u.saveFailed===true){c('FunnelLogger').appendAction(n,o.VALIDATION_ERROR);new (c('CanvasCreationWaterfallTypedLogger'))().setCanvasName(u.documentName).setCanvasID(this.$RichMediaEditorStore5||null).setEventName(c('CanvasCreationEvent').VALIDATION_ERROR).setPageID(u.pageID).log();}this.$RichMediaEditorStore6=l.ERROR;this.__emitChange();break;case c('RichMediaEditorActionTypes').LOAD_DOCUMENT:this.$RichMediaEditorStore7=false;new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').LOAD).setCanvasLoadType(c('CanvasLoadSource').LOAD_EXISTING_DOC).setCanvasName(u.documentName).setCanvasID(u.documentID).setPageID(u.pageID).log();c('FunnelLogger').addFunnelTag(n,c('CanvasLoadSource').LOAD_EXISTING_DOC);this.$RichMediaEditorStore4=m.SAVED;var ga=JSON.parse(u.elementsPayload);ga.forEach(function(ja,ka){if(ja.index!==ka)this.$RichMediaEditorStore4=m.UNSAVED;ja.index=ka;}.bind(this));u.elementsPayload=JSON.stringify(ga);if(u.documentName)this.$RichMediaEditorStore1=u.documentName;if(u.documentID){this.$RichMediaEditorStore5=u.documentID;c('FunnelLogger').addFunnelTag(n,this.$RichMediaEditorStore5);}if(u.documentTheme){this.$RichMediaEditorStore2=u.documentTheme;this.$RichMediaEditorStore16=u.documentTheme!==p&&u.documentTheme!==q;this.$RichMediaEditorStore17=this.$RichMediaEditorStore16?u.documentTheme:q;}if(u.elementsPayload&&u.elements){this.$RichMediaEditorStore23(u.elementsPayload,u.elements);}else if(u.elementsPayload)this.$RichMediaEditorStore24(u.elementsPayload);this.$RichMediaEditorStore11=false;this.__emitChange();break;case c('RichMediaEditorActionTypes').SET_DOCUMENT_URL_DIALOG_SHOWN:this.$RichMediaEditorStore12=u.dialogShown;this.__emitChange();break;case c('RichMediaEditorActionTypes').TOGGLE_DOCUMENT_DEBUG_PANE_SHOWN:this.$RichMediaEditorStore11=!this.$RichMediaEditorStore11;this.__emitChange();break;case c('RichMediaEditorActionTypes').SELECT_ELEMENT_TO_ADD:var ha=u.elementTypeName;if(ha in this.$RichMediaEditorStore14){this.$RichMediaEditorStore14[ha]++;}else this.$RichMediaEditorStore14[ha]=1;this.__emitChange();break;case c('RichMediaEditorActionTypes').DESELECT_ELEMENT_TO_ADD:ha=u.elementTypeName;if(ha in this.$RichMediaEditorStore14){this.$RichMediaEditorStore14[ha]--;if(this.$RichMediaEditorStore14[ha]<=0)delete this.$RichMediaEditorStore14[ha];}this.__emitChange();break;case c('RichMediaEditorActionTypes').SET_ADD_COMPONENT_DIALOG_SHOWN:this.$RichMediaEditorStore15=u.dialogShown;this.__emitChange();break;case c('RichMediaEditorActionTypes').ADD_ELEMENTS_SELECTED:this.$RichMediaEditorStore7=false;c('FunnelLogger').appendAction(n,o.ADD_ELEMENT);for(var ia in r){ha=r[ia];if(ha in this.$RichMediaEditorStore14&&this.$RichMediaEditorStore14[ha]>0){this.$RichMediaEditorStore25(ha);this.$RichMediaEditorStore4=m.UNSAVED;new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').ADD_ELEMENT).setPageID(u.pageID).setElementType(ha).setCanvasID(this.$RichMediaEditorStore5).log();}}if(this.$RichMediaEditorStore14[r.HEADER]>0){this.$RichMediaEditorStore13=0;}else if(!this.$RichMediaEditorStore14[r.STORE_LOCATOR]&&this.getHasStoreLocatorElement()){this.$RichMediaEditorStore13=this.$RichMediaEditorStore3.length-2;}else this.$RichMediaEditorStore13=this.$RichMediaEditorStore3.length-1;this.$RichMediaEditorStore14={};this.$RichMediaEditorStore15=false;this.__emitChange();break;case c('RichMediaEditorActionTypes').SET_USE_CUSTOMIZE_THEME_COLOR:this.$RichMediaEditorStore16=u.useCustomizeThemeColor;if(u.useCustomizeThemeColor&&this.$RichMediaEditorStore1!==this.$RichMediaEditorStore17){this.$RichMediaEditorStore2=this.$RichMediaEditorStore17;this.$RichMediaEditorStore4=m.UNSAVED;}this.__emitChange();break;case c('RichMediaEditorActionTypes').SET_CUSTOMIZE_THEME_COLOR:if(this.$RichMediaEditorStore16===false||this.$RichMediaEditorStore17!==u.customizeThemeColor){this.$RichMediaEditorStore17=u.customizeThemeColor;this.$RichMediaEditorStore2=u.customizeThemeColor;this.$RichMediaEditorStore16=true;this.$RichMediaEditorStore4=m.UNSAVED;}this.__emitChange();break;}};s.prototype.getDocumentName=function(){return this.$RichMediaEditorStore1;};s.prototype.getDocumentTheme=function(){return this.$RichMediaEditorStore2;};s.prototype.getDocumentEditState=function(){return this.$RichMediaEditorStore4;};s.prototype.getDocumentElement=function(t){return this.$RichMediaEditorStore3.find(function(u){return u.id===t;});};s.prototype.getDocumentID=function(){return this.$RichMediaEditorStore5;};s.prototype.getDocumentElements=function(){return this.$RichMediaEditorStore3.slice();};s.prototype.getPreviewFailed=function(){return this.$RichMediaEditorStore8;};s.prototype.getSendingPreview=function(){return this.$RichMediaEditorStore10;};s.prototype.getSaveFailed=function(){return this.$RichMediaEditorStore9;};s.prototype.getDocumentURLDialogShown=function(){return this.$RichMediaEditorStore12;};s.prototype.getDocumentDebugPaneShown=function(){return this.$RichMediaEditorStore11;};s.prototype.getCurrentEditingElementIndex=function(){return this.$RichMediaEditorStore13;};s.prototype.getSelectedElementsToAdd=function(){return babelHelpers['extends']({},this.$RichMediaEditorStore14);};s.prototype.getShowAddComponentDialog=function(){return this.$RichMediaEditorStore15;};s.prototype.getHasHeaderElement=function(){var t=this.$RichMediaEditorStore3.filter(function(u){return u.type===c('InstantShoppingDocumentElementType').HEADER;});return t.length!==0;};s.prototype.getHasStoreLocatorElement=function(){var t=this.$RichMediaEditorStore3.filter(function(u){return (u.type===c('InstantShoppingDocumentElementType').STORE_LOCATOR);});return t.length!==0;};s.prototype.getNumberOfScrubbableGIFs=function(){var t=this.$RichMediaEditorStore3.filter(function(u){return u.type===c('InstantShoppingDocumentElementType').SCRUBBABLE_GIF;});return t.length;};s.prototype.getUseCustomizeThemeColor=function(){return this.$RichMediaEditorStore16;};s.prototype.getCustomizeThemeColor=function(){return this.$RichMediaEditorStore17;};s.prototype.getErrorType=function(){return this.$RichMediaEditorStore6;};s.prototype.isDefaultDocument=function(){return this.$RichMediaEditorStore7;};s.prototype.$RichMediaEditorStore19=function(t,u){var v=this.$RichMediaEditorStore3;for(var w=u;w<v.length;++w)v[w]=v[w].set('index',w+1);v.splice(u,0,t.set('index',u));};s.prototype.$RichMediaEditorStore25=function(t){var u=this.$RichMediaEditorStore3,v=-1;if(t===r.HEADER){v=0;}else if(this.getHasStoreLocatorElement()){v=this.$RichMediaEditorStore3.length-1;}else v=this.$RichMediaEditorStore3.length;var w=null;switch(t){case r.BUTTON:w=c('RichMediaButtonElement').createDefault(v);break;case r.CAROUSEL:w=c('RichMediaCarouselElement').createDefault(v);break;case r.CULTURAL_MOMENT_HEADER:w=c('RichMediaCulturalMomentHeaderElement').createDefault(v);break;case r.HEADER:w=c('RichMediaHeaderElement').createDefault(v);break;case r.PHOTO:w=c('RichMediaPhotoElement').createDefault(v);break;case r.TEXT:w=c('RichMediaTextElement').createDefault(v);break;case r.VIDEO:w=c('RichMediaVideoElement').createDefault(v);break;case r.SCRUBBABLE_GIF:w=c('RichMediaScrubbableGIFElement').createDefault(v);break;case r.PRODUCT_SET:w=c('RichMediaProductSetElement').createDefault(v);break;case r.TITLE_AND_DATE:w=c('RichMediaTitleAndDateElement').createDefault(v);break;case r.STORE_LOCATOR:w=c('RichMediaStoreLocatorElement').createDefault(v);break;case r.LOCAL_IMAGE:w=c('RichMediaLocalImageElement').createDefault(v);break;}if(!w)return;w=this.$RichMediaEditorStore22(w);this.$RichMediaEditorStore19(w,v);};s.prototype.$RichMediaEditorStore24=function(t){this.$RichMediaEditorStore3=[];var u=JSON.parse(t);this.$RichMediaEditorStore18=u.length;for(var v=0;v<u.length;++v){var w=u[v];if(!w.expanded)w.expanded=false;if(!w.advancedExpanded)w.advancedExpanded=false;switch(w.type){case c('InstantShoppingDocumentElementType').RICH_TEXT:w=c('RichMediaTextElement').createFromObject(w);break;case c('InstantShoppingDocumentElementType').PHOTO:w=c('RichMediaPhotoElement').createFromObject(w);break;case c('InstantShoppingDocumentElementType').VIDEO:w=c('RichMediaVideoElement').createFromObject(w);break;case c('InstantShoppingDocumentElementType').SCRUBBABLE_GIF:w=c('RichMediaScrubbableGIFElement').createFromObject(w);break;case c('InstantShoppingDocumentElementType').BUTTON:w=c('RichMediaButtonElement').createFromObject(w);break;case c('InstantShoppingDocumentElementType').SLIDESHOW:w=c('RichMediaCarouselElement').createFromObject(w);break;case c('InstantShoppingDocumentElementType').HEADER:if(w.isCulturalMomentHeader){w=c('RichMediaCulturalMomentHeaderElement').createFromObject(w);}else w=c('RichMediaHeaderElement').createFromObject(w);break;case c('InstantShoppingDocumentElementType').ELEMENT_GROUP:w=c('RichMediaProductSetElement').createFromObject(w);break;case c('InstantShoppingDocumentElementType').STORE_LOCATOR:w=c('RichMediaStoreLocatorElement').createFromObject(w);break;}this.$RichMediaEditorStore3.push(this.$RichMediaEditorStore22(w));}};s.prototype.$RichMediaEditorStore23=function(t,u){this.$RichMediaEditorStore3=[];var v=JSON.parse(t);this.$RichMediaEditorStore18=v.length;var w=v.length;if(w>0&&u[w-1].element_type==='FOOTER'){var x=-1;for(var y=0;y<w;y++)if(v[y].type===c('InstantShoppingDocumentElementType').BUTTON&&v[y].isFixedToBottom===true){x=y;break;}if(x!==-1){var z=v[x];for(var aa=x;aa<w-1;aa++){v[aa]=v[aa+1];v[aa].index=aa;}v[w-1]=z;v[w-1].index=w-1;}}for(var ba=0;ba<w;ba++){var ca=v[ba],da=u[ba],ea=ca;if(!ca.expanded)ea.expanded=false;if(!ca.advancedExpanded)ea.advancedExpanded=false;switch(ea.type){case c('InstantShoppingDocumentElementType').RICH_TEXT:ea=c('RichMediaTextElement').createFromObject(ea);break;case c('InstantShoppingDocumentElementType').PHOTO:ea=c('RichMediaPhotoElement').createFromPayloadAndElementField(ca,da);break;case c('InstantShoppingDocumentElementType').VIDEO:ea=c('RichMediaVideoElement').createFromObject(ea);break;case c('InstantShoppingDocumentElementType').SCRUBBABLE_GIF:ea=c('RichMediaScrubbableGIFElement').createFromObject(ea);break;case c('InstantShoppingDocumentElementType').BUTTON:ea=c('RichMediaButtonElement').createFromObject(ea);break;case c('InstantShoppingDocumentElementType').SLIDESHOW:ea=c('RichMediaCarouselElement').createFromPayloadAndElementField(ca,da);break;case c('InstantShoppingDocumentElementType').HEADER:if(ca.isCulturalMomentHeader){ea=c('RichMediaCulturalMomentHeaderElement').createFromPayloadAndElementField(ca,da);}else ea=c('RichMediaHeaderElement').createFromPayloadAndElementField(ca,da);break;case c('InstantShoppingDocumentElementType').ELEMENT_GROUP:ea=c('RichMediaProductSetElement').createFromObject(ea);break;case c('InstantShoppingDocumentElementType').TITLE_AND_DATE:ea=c('RichMediaTitleAndDateElement').createFromObject(ea);break;case c('InstantShoppingDocumentElementType').STORE_LOCATOR:ea=c('RichMediaStoreLocatorElement').createFromObject(ea);break;case c('InstantShoppingDocumentElementType').LOCAL_IMAGE:ea=c('RichMediaLocalImageElement').createFromObject(ea);break;}this.$RichMediaEditorStore3.push(this.$RichMediaEditorStore22(ea));}};s.prototype.$RichMediaEditorStore22=function(t){return t.set('id',(++this.$RichMediaEditorStore18).toString());};s.prototype.$RichMediaEditorStore20=function(t,u,v){!(v.type===c('InstantShoppingDocumentElementType').SLIDESHOW)?i(0):void 0;var w=void 0,x=new (c('Map'))();for(var y=0,z=t.length;y<z;++y){w=t[y];x[w.name]=w.name+'_'+Date.now();}var aa=this.$RichMediaEditorStore21(v.id,x);for(y=0;y<z;++y){w=t[y];var ba=c('RichMediaEditorUploader').upload(u,[w],aa);v=v.addFile(x[w.name],ba);}return v;};s.prototype.$RichMediaEditorStore21=function(t,u){return {onProgress:function(v,w){var x=this.getDocumentElement(t);if(x&&x.onFileProgress){x=x.onFileProgress(u[v.name],w);if(x)c('RichMediaEditorActions').editDocumentElement(x);}}.bind(this),onSuccess:function(v,w){var x=this.getDocumentElement(t);if(x&&x.onFileSuccess){x=x.onFileSuccess(u[v.name],w);if(x)c('RichMediaEditorActions').editDocumentElement(x);}}.bind(this),onError:function(v){var w=this.getDocumentElement(t);if(w&&w.onFileError){w=w.onFileError(u[v.name]);if(w)c('RichMediaEditorActions').editDocumentElement(w);}}.bind(this)};};f.exports=new s(c('RichMediaEditorDispatcher'));}),null);
__d('AdsCanvasBuilderDispatcher',['ReactDispatcher_DEPRECATED'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=new (c('ReactDispatcher_DEPRECATED'))();}),null);
__d('AdsCanvasButtons.react',['ix','cx','xuiglyph','FunnelLogger','Image.react','React','XUIButton.react','XUIButtonGroup.react','fbglyph','AdsCanvasEditorFunnelLoggingConstants'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_NAME,n=c('React').PropTypes;k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$AdsCanvasButtons1=function(event){event.stopPropagation();this.props.onClickCreate&&this.props.onClickCreate();this.props.onClick('newCanvasDialog');c('FunnelLogger').addFunnelTag(m,this.props.source);}.bind(this),this.$AdsCanvasButtons2=function(event){event.stopPropagation();this.props.onClickPreview&&this.props.onClickPreview();if(this.props.canvas){this.props.onClick(this.props.canvas.id);c('FunnelLogger').addFunnelTag(m,this.props.source);}}.bind(this),q;}o.prototype.render=function(){var p=c('React').createElement(c('XUIButton.react'),{className:"_44jg",disabled:this.props.disabled,image:c('React').createElement(c('Image.react'),{src:j({name:'plus',shade:'dark',size:'small'})}),onClick:this.$AdsCanvasButtons1}),q=null;if(this.props.canvas)q=c('React').createElement(c('XUIButton.react'),{className:"_44jg",disabled:this.props.disabled,image:c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/eye_16_fig-light-50.png")}),onClick:this.$AdsCanvasButtons2});return c('React').createElement(c('XUIButtonGroup.react'),{className:"_44jh"},q,p);};o.propTypes={canvas:n.object,disabled:n.bool,onClick:n.func.isRequired,onClickCreate:n.func,onClickPreview:n.func,source:n.string.isRequired};f.exports=o;}),null);
__d('AdsCanvasCloseConfirmDialog.react',['cx','fbt','LayerFadeOnHide','LayerHideOnEscape','React','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogButton.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$AdsCanvasCloseConfirmDialog1=function(){this.props.onConfirm(this.props.dialogID);}.bind(this),o;}m.prototype.render=function(){return c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerHideOnEscape:c('LayerHideOnEscape'),LayerFadeOnHide:c('LayerFadeOnHide')},shown:true,width:450},c('React').createElement(c('XUIDialogTitle.react'),{showCloseButton:true},i._("Unsaved Changes")),c('React').createElement(c('XUIDialogBody.react'),null,i._("Do you want to discard unsaved changes?")),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',label:i._("Cancel"),onClick:this.props.onCancel}),c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',className:"_4jy1",label:i._("Confirm"),onClick:this.$AdsCanvasCloseConfirmDialog1})));};m.propTypes={dialogID:l.string,onCancel:l.func.isRequired,onConfirm:l.func.isRequired};f.exports=m;}),null);
__d('AdsCanvasComposerDialogStore',['FluxStore','RichMediaEditorActionTypes','RichMediaEditorDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('RichMediaEditorDispatcher'));this.$AdsCanvasComposerDialogStore1={};this.$AdsCanvasComposerDialogStore2={};}j.prototype.__onDispatch=function(k){var l=k.data;switch(k.type){case c('RichMediaEditorActionTypes').SET_UNPUBLISHED_CANVAS:this.$AdsCanvasComposerDialogStore4=l.unpublishedCanvas;this.__emitChange();break;case c('RichMediaEditorActionTypes').RESET_UNPUBLISHED_CANVAS:this.$AdsCanvasComposerDialogStore4=null;this.__emitChange();break;case c('RichMediaEditorActionTypes').SET_DIALOG_SHOWN:this.$AdsCanvasComposerDialogStore1[l.dialogID]=l.dialogShown;this.__emitChange();break;case c('RichMediaEditorActionTypes').SET_DIALOG_CANVAS:this.$AdsCanvasComposerDialogStore2[l.dialogID]=l.canvas;this.__emitChange();break;case c('RichMediaEditorActionTypes').SET_SELECTED_CANVAS:this.$AdsCanvasComposerDialogStore3=l.selectedCanvas;this.__emitChange();break;}};j.prototype.getDialogShown=function(k){if(k in this.$AdsCanvasComposerDialogStore1){return this.$AdsCanvasComposerDialogStore1[k];}else return false;};j.prototype.getDialogCanvas=function(k){if(k in this.$AdsCanvasComposerDialogStore2){return this.$AdsCanvasComposerDialogStore2[k];}else return null;};j.prototype.getSelectedCanvas=function(){return this.$AdsCanvasComposerDialogStore3;};j.prototype.getUnpublishedCanvas=function(){return this.$AdsCanvasComposerDialogStore4;};f.exports=new j(c('RichMediaEditorDispatcher'));}),null);
__d('AdsCanvasEditorFunnelLogging',['FunnelLogger','AdsCanvasEditorFunnelLoggingConstants'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=false,i={startFunnel:function j(){if(h)return;h=true;c('FunnelLogger').startFunnel(c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_NAME);c('FunnelLogger').setFunnelTimeout(c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_NAME,c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_TIMEOUT);},endFunnel:function j(){if(!h)return;h=false;c('FunnelLogger').addFunnelTag(c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_NAME,c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_TAGS.EDITOR_EXIT);c('FunnelLogger').endFunnel(c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_NAME);}};f.exports=i;}),null);
__d('AdsUnpublishedCanvasCloseConfirmDialog.react',['cx','fbt','LayerFadeOnHide','LayerHideOnEscape','React','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogButton.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$AdsUnpublishedCanvasCloseConfirmDialog1=function(){this.props.onCloseReset();this.props.onConfirm(this.props.dialogID);}.bind(this),o;}m.prototype.render=function(){return c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerHideOnEscape:c('LayerHideOnEscape'),LayerFadeOnHide:c('LayerFadeOnHide')},shown:true,width:450},c('React').createElement(c('XUIDialogTitle.react'),{showCloseButton:true},i._("Unpublished Canvas")),c('React').createElement(c('XUIDialogBody.react'),null,i._("You won't be able to use this Canvas in an ad until you publish it. You can still access a saved draft in Pages -> Publishing Tools -> Canvas. Do you want to close this draft without publishing it?")),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',label:i._("Cancel"),onClick:this.props.onCancel}),c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',className:"_4jy1",label:i._("Confirm"),onClick:this.$AdsUnpublishedCanvasCloseConfirmDialog1})));};m.propTypes={dialogID:l.string.isRequired,onCancel:l.func.isRequired,onCloseReset:l.func.isRequired,onConfirm:l.func.isRequired};f.exports=m;}),null);
__d('RichMediaLoggingStoreUtils',['CanvasCreationWaterfallTypedLogger','RichMediaEditorStore'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={logRichMediaCreationEventWithLogger:function i(j){j.setCanvasID(c('RichMediaEditorStore').getDocumentID()||null).log();}};f.exports=h;}),null);
__d('AdsCanvasButtonsContainer.react',['AdsCanvasButtons.react','AdsCanvasCloseConfirmDialog.react','AdsCanvasComposerDialogStore','AdsCanvasEditorFunnelLogging','AdsFluxContainer','AdsUnpublishedCanvasCloseConfirmDialog.react','CanvasCreationEvent','CanvasCreationWaterfallTypedLogger','BootloadOnRender.react','DOM','FluxStore','JSResource','LazyComponent.react','React','ReactDOM','RichMediaEditorActions','RichMediaEditorStore','RichMediaLoggingStoreUtils','emptyFunction','AdsCanvasEditorEnums'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('AdsCanvasEditorEnums').SaveStateEnum;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$AdsCanvasButtonsContainer2=function(q,r,s,t,u){if(r&&r.is_published||s===j.SAVED&&!this.props.mustPublish){return true;}else if(s===j.SAVED){c('ReactDOM').render(c('React').createElement(c('AdsUnpublishedCanvasCloseConfirmDialog.react'),{dialogID:q,onCancel:c('emptyFunction'),onCloseReset:t,onConfirm:u}),c('DOM').create('div'));return false;}else{c('ReactDOM').render(c('React').createElement(c('AdsCanvasCloseConfirmDialog.react'),{dialogID:q,onCancel:c('emptyFunction'),onConfirm:u}),c('DOM').create('div'));return false;}}.bind(this),m;}k.getStores=function(){return [c('AdsCanvasComposerDialogStore'),c('RichMediaEditorStore')];};k.calculateState=function(l,m){var n=c('AdsCanvasComposerDialogStore').getDialogShown('newCanvasDialog'),o=null,p=false;if(m.canvasID)p=c('AdsCanvasComposerDialogStore').getDialogShown(m.canvasID);if(m.canvasID)o=c('AdsCanvasComposerDialogStore').getDialogCanvas(m.canvasID);return {canvas:o,createDialogShown:n,editDialogShown:p,editState:c('RichMediaEditorStore').getDocumentEditState()};};k.prototype.render=function(){var l=this.state.canvas,m=l?c('React').createElement(c('AdsCanvasButtons.react'),{canvas:l,disabled:!!this.props.disabled,source:this.props.source,onClick:this.$AdsCanvasButtonsContainer1,onClickCreate:this.props.onClickCreate||c('emptyFunction'),onClickPreview:this.props.onClickPreview||c('emptyFunction')}):c('React').createElement(c('AdsCanvasButtons.react'),{disabled:!!this.props.disabled,source:this.props.source,onClick:this.$AdsCanvasButtonsContainer1,onClickCreate:this.props.onClickCreate||c('emptyFunction')}),n={accessToken:this.props.accessToken,businessID:this.props.businessID,canAddProductSet:this.props.canAddProductSet,canUseLinkedCanvas:this.props.canUseLinkedCanvas,createPostEnabled:false,editState:this.state.editState,mustPublish:this.props.mustPublish,pageID:this.props.pageID,source:this.props.source,onBeforeHideDialog:this.$AdsCanvasButtonsContainer2,onCloseReset:this.props.onCloseReset,onConfirmClose:this.$AdsCanvasButtonsContainer3,onDuplicateReload:this.props.onDuplicateReload,onReloadCanvas:this.$AdsCanvasButtonsContainer4,onSaveCanvasSuccess:this.props.onSaveCanvasSuccess,onToggle:this.$AdsCanvasButtonsContainer5},o=c('React').createElement(c('BootloadOnRender.react'),{component:c('React').createElement(c('LazyComponent.react'),babelHelpers['extends']({dialogID:'newCanvasDialog',dialogShown:this.state.createDialogShown},n)),loader:c('JSResource')('AdsCanvasComposerDialog.react').__setRef('AdsCanvasButtonsContainer.react'),placeholder:c('React').createElement('span',null)}),p=null;if(l)p=c('React').createElement(c('BootloadOnRender.react'),{component:c('React').createElement(c('LazyComponent.react'),babelHelpers['extends']({canvas:l,dialogID:l.id,dialogShown:this.state.editDialogShown},n)),loader:c('JSResource')('AdsCanvasComposerDialog.react').__setRef('AdsCanvasButtonsContainer.react'),placeholder:c('React').createElement('span',null)});return c('React').createElement('div',null,m,o,p);};k.prototype.$AdsCanvasButtonsContainer1=function(l){c('AdsCanvasEditorFunnelLogging').startFunnel();c('RichMediaEditorActions').setDialogShown(l,true);};k.prototype.$AdsCanvasButtonsContainer3=function(l){c('AdsCanvasEditorFunnelLogging').endFunnel();c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').EDITOR_EXIT));c('RichMediaEditorActions').setDialogShown(l,false);};k.prototype.$AdsCanvasButtonsContainer5=function(l,m){c('RichMediaEditorActions').setDialogShown(l,m);if(m){c('AdsCanvasEditorFunnelLogging').startFunnel();}else{c('AdsCanvasEditorFunnelLogging').endFunnel();c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').EDITOR_EXIT));}};k.prototype.$AdsCanvasButtonsContainer4=function(l,m){c('RichMediaEditorActions').setDialogCanvas(m.id,m);if(l!==m.id){c('RichMediaEditorActions').setDialogShown(l,false);c('RichMediaEditorActions').setDialogShown(m.id,true);}};f.exports=c('AdsFluxContainer').create(k,{withProps:true});}),null);
__d('AdsCanvasLabel.react',['cx','fbt','AdsCanvasConstants','AdsLabeledField.react','Link.react','React','emptyFunction'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);}l.prototype.render=function(){var m=i._("Canvas is a full-screen experience that opens in mobile when people click your ad. {=Learn more}. {supplement}",[i.param('=Learn more',c('React').createElement(c('Link.react'),{href:c('AdsCanvasConstants').CANVAS_LEARN_MORE_LINK,target:'_blank',onClick:this.props.onClickLearnMore||c('emptyFunction')},i._("Learn more"))),i.param('supplement',this.props.supplement?this.props.supplement:'')]);return (c('React').createElement(c('AdsLabeledField.react'),{className:this.props.disabled?"_4i0b":'',helpText:m,label:i._("Canvas")}));};f.exports=l;}),null);
__d('AdsCanvasTypeaheadActionTypes',['ImmutableObject','keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=new (c('ImmutableObject'))(c('keyMirrorRecursive')({DOC_NAME:{LOADED:'',LOAD_ERROR:''}},'AdsCanvasTypeahead'));f.exports=h;}),null);
__d('AdsCanvasTypeaheadActions',['AdsCanvasBuilderDispatcher','AdsCanvasTypeaheadActionTypes'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={docNameResultsLoaded:function i(j,k,l,m){l=l.filter(function(n){return ((!m||n.is_published===true)&&!!n.name);});c('AdsCanvasBuilderDispatcher').dispatch({pageID:j,filter:k,results:l,type:c('AdsCanvasTypeaheadActionTypes').DOC_NAME.LOADED});},docNameLoadError:function i(j,k,l){c('AdsCanvasBuilderDispatcher').dispatch({pageID:j,error:l,filter:k,type:c('AdsCanvasTypeaheadActionTypes').DOC_NAME.LOAD_ERROR});}};f.exports=h;}),null);
__d('CanvasDataUtils',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={getFieldsForPagesCanvasList:function i(){return ['id','name','background_color','is_published','update_time','element_payload','elements{'+'element{'+'child_elements{element{photo{source}}},'+'photo{images}'+'},'+'name,'+'element_type'+'}','canvas_link','last_editor','business_id','store_url'];}};f.exports=h;}),null);
__d('AdsCanvasTypeaheadDataManager',['AdsCanvasConstants','AdsCanvasTypeaheadActions','AdsGenericFilterSet','AdsGraphAPI','CanvasDataUtils','GraphSort'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();h.prototype.searchCanvasDoc=function(i,j,k,l){c('AdsGraphAPI').get(f.id).object('page',j).edge('rich_media_documents').get({access_token:i,fields:c('CanvasDataUtils').getFieldsForPagesCanvasList(),filtering:k.toAPI(),limit:c('AdsCanvasConstants').TYPE_AHEAD_LIMIT,sort:'name'+c('GraphSort').DESC,summary:true}).done(function(m){c('AdsCanvasTypeaheadActions').docNameResultsLoaded(j,k,m.data,l);},function(m){return c('AdsCanvasTypeaheadActions').docNameLoadError(j,k,m);});};function h(){}f.exports=new h();}),null);
__d('AdsCanvasTypeaheadSearchableEntry',['SearchableEntry'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={createForCanvasDoc:function i(j){var k='Canvas Doc',l={background_color:j.background_color,id:j.id,name:j.name,element_payload:j.element_payload,elements:j.elements,is_published:j.is_published,canvas_link:j.canvas_link,store_url:j.store_url};return new (c('SearchableEntry'))({auxiliaryData:l,subtitle:k,title:j.name,uniqueID:j.id});}};f.exports=h;}),null);
__d('AdsCanvasTypeaheadStore',['AdsCanvasBuilderDispatcher','AdsCanvasTypeaheadActionTypes','AdsCanvasTypeaheadDataManager','AdsCanvasTypeaheadSearchableEntry','AdsGenericFilter','AdsGenericFilterField','AdsGenericFilterFieldType','AdsGenericFilterOperator','AdsGenericFilterSet','FluxStore','LoadObject','LFUCache','ReactDispatcher_DEPRECATED','SearchableEntry'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=new (c('AdsGenericFilterField'))('name',c('AdsGenericFilterFieldType').STRING);h=babelHelpers.inherits(k,c('FluxStore'));i=h&&h.prototype;function k(l){i.constructor.call(this,l);this.$AdsCanvasTypeaheadStore1=new (c('LFUCache'))();}k.prototype.__onDispatch=function(l){switch(l.type){case c('AdsCanvasTypeaheadActionTypes').DOC_NAME.LOADED:return this.__handleResultsLoaded(l.pageID,l.filter,l.results,function(m){return c('AdsCanvasTypeaheadSearchableEntry').createForCanvasDoc(m);});case c('AdsCanvasTypeaheadActionTypes').DOC_NAME.LOAD_ERROR:return this.__handleError(l.pageID,l.filter,l.error);}};k.prototype.searchDocByName=function(l,m,n,o){var p=new (c('AdsGenericFilterSet'))([new (c('AdsGenericFilter'))(j,c('AdsGenericFilterOperator').CONTAIN,l||'')]),q=this.$AdsCanvasTypeaheadStore2(m,p),r=this.$AdsCanvasTypeaheadStore1.get(q);if(!r){r=c('LoadObject').loading();this.$AdsCanvasTypeaheadStore1.set(q,r);c('AdsCanvasTypeaheadDataManager').searchCanvasDoc(n,m,p,o);}return r;};k.prototype.__handleError=function(l,m,n){var o=this.$AdsCanvasTypeaheadStore2(l,m);this.$AdsCanvasTypeaheadStore1.set(o,c('LoadObject').empty().setError(n));};k.prototype.__handleResultsLoaded=function(l,m,n,o){var p=this.$AdsCanvasTypeaheadStore2(l,m),q=n.map(o,this);this.$AdsCanvasTypeaheadStore1.set(p,c('LoadObject').empty().setValue(q));this.__emitChange();};k.prototype.$AdsCanvasTypeaheadStore2=function(l,m){return l+'-'+m.toString();};f.exports=new k(c('AdsCanvasBuilderDispatcher'));}),null);
__d('AdsFluxStoreSearchSource',['AbstractAsyncSearchSource','promiseStoreGet'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();function j(m,n,o,p){c('promiseStoreGet')(n.store,function(){return n.getData(m.value);}).done(function(q){return o(q||[]);},function(q){return p(q);});}function k(m){return m;}h=babelHelpers.inherits(l,c('AbstractAsyncSearchSource'));i=h&&h.prototype;function l(m){if(!m.bootstrapRequests)m.bootstrapRequests=m.queryRequests;i.constructor.call(this,m,j,k);}f.exports=l;}),null);
__d('AdsCanvasSearchSource',['AdsCanvasTypeaheadStore','AdsFluxStoreSearchSource'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('AdsFluxStoreSearchSource'));i=h&&h.prototype;function j(k){var l=babelHelpers['extends']({getAllForEmptyQuery:true},k,{queryRequests:[{store:c('AdsCanvasTypeaheadStore'),getData:function m(n){return c('AdsCanvasTypeaheadStore').searchDocByName(n,k.pageID,k.accessToken,k.onlyPublished);}}]});i.constructor.call(this,l);}f.exports=j;}),null);
__d('AdsCanvasTypeahead.react',['cx','AdsCanvasButtonsContainer.react','AdsCanvasLabel.react','ContextualLayerHideOnScrollOut','ContextualLayerUpdateOnScroll','Grid.react','React','XUITypeahead.react','XUITypeaheadView.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('Grid.react').GridItem;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m){j.constructor.call(this,m);this.$AdsCanvasTypeahead6=function(){return !!this.state.queryString;}.bind(this);this.$AdsCanvasTypeahead8=function(event){this.props.onQueryChange&&this.props.onQueryChange();this.setState({queryString:event.target.value});}.bind(this);this.$AdsCanvasTypeahead1=function(n){return n?n.getTitle():'';};this.$AdsCanvasTypeahead2=function(n){this.setState({queryString:this.$AdsCanvasTypeahead1(n)});}.bind(this);this.$AdsCanvasTypeahead7=function(){this.$AdsCanvasTypeahead2(this.props.selectedEntry);}.bind(this);this.$AdsCanvasTypeahead9=function(){var n=this.props.selectedEntry;this.setState({queryString:n?n.getTitle():''});}.bind(this);this.$AdsCanvasTypeahead10=function(n){if(this.props.onEntrySelect)this.props.onEntrySelect(n,this.props.blockerArgs);this.setState({queryString:n.getTitle()});}.bind(this);this.state={queryString:this.$AdsCanvasTypeahead1(m.selectedEntry)};}l.prototype.componentWillReceiveProps=function(m){if(m.selectedEntry!==this.props.selectedEntry)this.$AdsCanvasTypeahead2(m.selectedEntry);};l.prototype.render=function(){var m=this.$AdsCanvasTypeahead3(),n=this.props.shouldHideCanvasCreateButton?c('React').createElement('div',{className:"_39gc"},m):c('React').createElement(c('Grid.react'),{className:"_39gb",cols:2},c('React').createElement(k,{className:"_39gc"},m),c('React').createElement(k,null,this.$AdsCanvasTypeahead4()));return c('React').createElement('div',null,this.$AdsCanvasTypeahead5(),n);};l.prototype.$AdsCanvasTypeahead3=function(){return c('React').createElement(c('XUITypeahead.react'),{autoHighlight:this.$AdsCanvasTypeahead6(),disabled:this.props.disabled,focusedOnInit:this.props.focusedOnInit,placeholder:this.props.placeholder,presenter:{ViewRenderer:c('XUITypeaheadView.react'),useLayer:true,layerBehaviors:{ContextualLayerHideOnScrollOut:c('ContextualLayerHideOnScrollOut'),ContextualLayerUpdateOnScroll:c('ContextualLayerUpdateOnScroll')}},queryString:this.state.queryString,ref:'typeahead',searchSource:this.props.searchSource,searchSourceOptions:this.props.searchSourceOptions,showEntriesOnFocus:true,tallInput:true,xuiError:this.props.error,xuiErrorPosition:'above',onBlur:this.$AdsCanvasTypeahead7,onChange:this.$AdsCanvasTypeahead8,onFocus:this.$AdsCanvasTypeahead9,onSelectAttempt:this.$AdsCanvasTypeahead10});};l.prototype.$AdsCanvasTypeahead4=function(){if(this.props.shouldHideCanvasCreateButton)return null;return c('React').createElement(c('AdsCanvasButtonsContainer.react'),{accessToken:this.props.accessToken,businessID:this.props.businessID,canAddProductSet:this.props.canAddProductSet,canUseLinkedCanvas:this.props.canUseLinkedCanvas,canvasID:this.props.canvasID,disabled:this.props.disabled,mustPublish:this.props.mustPublish,pageID:this.props.pageID,source:this.props.source,onClickCreate:this.props.onClickCreate,onClickPreview:this.props.onClickPreview,onCloseReset:this.props.onCloseReset,onDuplicateReload:this.props.onDuplicateReload,onSaveCanvasSuccess:this.props.onSaveCanvasSuccess});};l.prototype.$AdsCanvasTypeahead5=function(){if(this.props.hideHelpText)return null;return c('React').createElement(c('AdsCanvasLabel.react'),{disabled:this.props.disabled,supplement:this.props.labelSupplement,onClickLearnMore:this.props.onClickLearnMore});};f.exports=l;}),null);
__d('LoadingImageBox.react',['cssVar','CenteredContainer.react','React','XUISpinner.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props,m=l.className,n=l.height,o=l.width;return (c('React').createElement(c('CenteredContainer.react'),{className:m,style:{backgroundColor:"#000000",height:n,width:o},vertical:true},c('React').createElement(c('XUISpinner.react'),{background:'dark',size:'large'})));};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('XUIRadioButtonGroup.react',['React','XUIButtonGroup.react'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'XUIRadioButtonGroup',propTypes:{onValueChange:h.func,selectedValue:h.any,selectedUse:h.oneOf(['default','special','confirm']),selectedDepressed:h.bool},render:function j(){var k=c('React').Children.map(this.props.children,function(l){var m=this.props.selectedValue===l.props.value;return c('React').cloneElement(l,{onClick:this._getClickHandler(l.props.value,l.props.onClick),use:m&&'selectedUse' in this.props?this.props.selectedUse:l.props.use,depressed:m&&'selectedDepressed' in this.props?this.props.selectedDepressed:l.props.depressed});},this);return c('React').createElement(c('XUIButtonGroup.react'),this.props,k);},_getClickHandler:function j(k,l){var m=this.props;return function(){if(m.onValueChange)m.onValueChange(k);if(l)l.apply(this,arguments);};}});f.exports=i;}),null);
__d("TopicFeedsConstant",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={DEFAULT_PHOTO_AUTO_TAGGING_DELAY:3000,DEFAULT_PHOTO_POLLING_DURATION:10000,DEFAULT_PHOTO_POLLING_INTERVAL:1000,DEFAULT_TEXT_AUTO_TAGGING_DELAY:3000,DEFAULT_COMPOSER_TOPIC_LIMIT:3,TOPIC_CONFIDENCE_USER_ADD:3,TOPIC_CONFIDENCE_USER_REMOVE:-1,TOPIC_CONFIDENCE_BOOTSTRAP:2};f.exports=h;}),null);
__d('JobsActionsTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:JobsActionsLoggerConfig',this.$JobsActionsTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:JobsActionsLoggerConfig',this.$JobsActionsTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$JobsActionsTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$JobsActionsTypedLogger1=babelHelpers['extends']({},this.$JobsActionsTypedLogger1,j);return this;};h.prototype.setActionTarget=function(j){this.$JobsActionsTypedLogger1.action_target=j;return this;};h.prototype.setActionTime=function(j){this.$JobsActionsTypedLogger1.action_time=j;return this;};h.prototype.setActionType=function(j){this.$JobsActionsTypedLogger1.action_type=j;return this;};h.prototype.setApplicationID=function(j){this.$JobsActionsTypedLogger1.application_id=j;return this;};h.prototype.setEmployerID=function(j){this.$JobsActionsTypedLogger1.employer_id=j;return this;};h.prototype.setFilteredCategories=function(j){this.$JobsActionsTypedLogger1.filtered_categories=c('GeneratedLoggerUtils').serializeVector(j);return this;};h.prototype.setJobID=function(j){this.$JobsActionsTypedLogger1.job_id=j;return this;};h.prototype.setJobMetadata=function(j){this.$JobsActionsTypedLogger1.job_metadata=c('GeneratedLoggerUtils').serializeMap(j);return this;};h.prototype.setMechanism=function(j){this.$JobsActionsTypedLogger1.mechanism=j;return this;};h.prototype.setName=function(j){this.$JobsActionsTypedLogger1.name=j;return this;};h.prototype.setPaginationIndex=function(j){this.$JobsActionsTypedLogger1.pagination_index=j;return this;};h.prototype.setPostMetadata=function(j){this.$JobsActionsTypedLogger1.post_metadata=c('GeneratedLoggerUtils').serializeMap(j);return this;};h.prototype.setRefererMechanism=function(j){this.$JobsActionsTypedLogger1.referer_mechanism=j;return this;};h.prototype.setRefererSurface=function(j){this.$JobsActionsTypedLogger1.referer_surface=j;return this;};h.prototype.setSurface=function(j){this.$JobsActionsTypedLogger1.surface=j;return this;};h.prototype.setTargetID=function(j){this.$JobsActionsTypedLogger1.target_id=j;return this;};h.prototype.setVC=function(j){this.$JobsActionsTypedLogger1.vc=j;return this;};h.prototype.setWaterfallSessionID=function(j){this.$JobsActionsTypedLogger1.waterfall_session_id=j;return this;};h.prototype.updateExtraData=function(j){j=c('nullthrows')(c('GeneratedLoggerUtils').serializeMap(j));c('GeneratedLoggerUtils').checkExtraDataFieldNames(j,i);this.$JobsActionsTypedLogger1=babelHelpers['extends']({},this.$JobsActionsTypedLogger1,j);return this;};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l);};var i={action_target:true,action_time:true,action_type:true,application_id:true,employer_id:true,filtered_categories:true,job_id:true,job_metadata:true,mechanism:true,name:true,pagination_index:true,post_metadata:true,referer_mechanism:true,referer_surface:true,surface:true,target_id:true,vc:true,waterfall_session_id:true};f.exports=h;}),null);
__d('PhotoUploadFacerecWaterfallTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:PhotoUploadFacerecWaterfallLoggerConfig',this.$PhotoUploadFacerecWaterfallTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:PhotoUploadFacerecWaterfallLoggerConfig',this.$PhotoUploadFacerecWaterfallTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$PhotoUploadFacerecWaterfallTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1=babelHelpers['extends']({},this.$PhotoUploadFacerecWaterfallTypedLogger1,j);return this;};h.prototype.setEvent=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.event=j;return this;};h.prototype.setFaceBoxID=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.face_box_id=j;return this;};h.prototype.setPhotoFbid=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.photo_fbid=j;return this;};h.prototype.setRecognizedUser=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.recognized_user=j;return this;};h.prototype.setTaggedUser=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.tagged_user=j;return this;};h.prototype.setVC=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.vc=j;return this;};var i={event:true,face_box_id:true,photo_fbid:true,recognized_user:true,tagged_user:true,vc:true};f.exports=h;}),null);
__d('TopicFeedsComposerTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:TopicFeedsComposerLoggerConfig',this.$TopicFeedsComposerTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:TopicFeedsComposerLoggerConfig',this.$TopicFeedsComposerTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$TopicFeedsComposerTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$TopicFeedsComposerTypedLogger1=babelHelpers['extends']({},this.$TopicFeedsComposerTypedLogger1,j);return this;};h.prototype.setClassifySessionID=function(j){this.$TopicFeedsComposerTypedLogger1.classify_session_id=j;return this;};h.prototype.setClientEventTimeMs=function(j){this.$TopicFeedsComposerTypedLogger1.client_event_time_ms=j;return this;};h.prototype.setComposerFeedID=function(j){this.$TopicFeedsComposerTypedLogger1.composer_feed_id=j;return this;};h.prototype.setComposerID=function(j){this.$TopicFeedsComposerTypedLogger1.composer_id=j;return this;};h.prototype.setEntryPointRef=function(j){this.$TopicFeedsComposerTypedLogger1.entry_point_ref=j;return this;};h.prototype.setEvent=function(j){this.$TopicFeedsComposerTypedLogger1.event=j;return this;};h.prototype.setIsPredictionApplied=function(j){this.$TopicFeedsComposerTypedLogger1.is_prediction_applied=j;return this;};h.prototype.setLinkAttachmentCount=function(j){this.$TopicFeedsComposerTypedLogger1.link_attachment_count=j;return this;};h.prototype.setPhotoAttachmentCount=function(j){this.$TopicFeedsComposerTypedLogger1.photo_attachment_count=j;return this;};h.prototype.setPhotoUploadToPostDuration=function(j){this.$TopicFeedsComposerTypedLogger1.photo_upload_to_post_duration=j;return this;};h.prototype.setPredictionCount=function(j){this.$TopicFeedsComposerTypedLogger1.prediction_count=j;return this;};h.prototype.setPredictionDuration=function(j){this.$TopicFeedsComposerTypedLogger1.prediction_duration=j;return this;};h.prototype.setPredictionErrorReason=function(j){this.$TopicFeedsComposerTypedLogger1.prediction_error_reason=j;return this;};h.prototype.setPredictionIsSuccessful=function(j){this.$TopicFeedsComposerTypedLogger1.prediction_is_successful=j;return this;};h.prototype.setSequenceNumber=function(j){this.$TopicFeedsComposerTypedLogger1.sequence_number=j;return this;};h.prototype.setTargetType=function(j){this.$TopicFeedsComposerTypedLogger1.target_type=j;return this;};h.prototype.setTopicAdded=function(j){this.$TopicFeedsComposerTypedLogger1.topic_added=j;return this;};h.prototype.setTopicRemoved=function(j){this.$TopicFeedsComposerTypedLogger1.topic_removed=j;return this;};h.prototype.setTopicsAutoTagged=function(j){this.$TopicFeedsComposerTypedLogger1.topics_auto_tagged=c('GeneratedLoggerUtils').serializeVector(j);return this;};h.prototype.setTopicsTagged=function(j){this.$TopicFeedsComposerTypedLogger1.topics_tagged=c('GeneratedLoggerUtils').serializeVector(j);return this;};h.prototype.setTopicsUserAdded=function(j){this.$TopicFeedsComposerTypedLogger1.topics_user_added=c('GeneratedLoggerUtils').serializeVector(j);return this;};h.prototype.setTopicsUserRemoved=function(j){this.$TopicFeedsComposerTypedLogger1.topics_user_removed=c('GeneratedLoggerUtils').serializeVector(j);return this;};h.prototype.setVC=function(j){this.$TopicFeedsComposerTypedLogger1.vc=j;return this;};var i={classify_session_id:true,client_event_time_ms:true,composer_feed_id:true,composer_id:true,entry_point_ref:true,event:true,is_prediction_applied:true,link_attachment_count:true,photo_attachment_count:true,photo_upload_to_post_duration:true,prediction_count:true,prediction_duration:true,prediction_error_reason:true,prediction_is_successful:true,sequence_number:true,target_type:true,topic_added:true,topic_removed:true,topics_auto_tagged:true,topics_tagged:true,topics_user_added:true,topics_user_removed:true,vc:true};f.exports=h;}),null);
__d('ReactComposerBoostedPostLazyButton.react',['Bootloader','React','ReactDOM'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.componentDidMount=function(){'use strict';c('Bootloader').loadModules(["BoostedPostDialogButton.react"],function(k){c('ReactDOM').render(c('React').createElement(k,this.props),c('ReactDOM').findDOMNode(this.refs.boostButtonContainer));}.bind(this),'ReactComposerBoostedPostLazyButton.react');};j.prototype.render=function(){'use strict';return (c('React').createElement('span',{ref:'boostButtonContainer'}));};function j(){'use strict';h.apply(this,arguments);}f.exports=j;}),null);
__d('ReactComposerPagesBootloader',['Bootloader'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={statusAttachment:function i(j){c('Bootloader').loadModules(["ReactComposerStatusAttachmentContainer.react","PagesComposerPostButton.react"],j,'ReactComposerPagesBootloader');},mediaAttachment:function i(j){c('Bootloader').loadModules(["ReactComposerMediaAttachmentContainer.react","PagesComposerPostButton.react"],j,'ReactComposerPagesBootloader');},qandaAttachment:function i(j){c('Bootloader').loadModules(["ReactComposerQAndAAttachmentContainer.react","PagesComposerPostButton.react"],j,'ReactComposerPagesBootloader');},questionAttachment:function i(j){c('Bootloader').loadModules(["ReactComposerQuestionAttachmentContainer.react","PagesComposerPostButton.react"],j,'ReactComposerPagesBootloader');},extraAttachment:function i(j){c('Bootloader').loadModules(["PagesComposerExtraAttachmentContainer.react","PagesComposerPostButton.react"],j,'ReactComposerPagesBootloader');},ctaAttachment:function i(j){c('Bootloader').loadModules(["ReactComposerCTAAttachmentContainer.react","PagesComposerPostButton.react"],j,'ReactComposerPagesBootloader');}};f.exports=h;}),null);
__d('ReactComposerAsyncRequest',['ReactComposerActions','ReactComposerPostUtilsCore','AsyncRequest'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('AsyncRequest'));i=h&&h.prototype;function j(k,l){'use strict';i.constructor.call(this,l);this.$ReactComposerAsyncRequest1=k;i.setHandler.call(this,this.$ReactComposerAsyncRequest4.bind(this));i.setErrorHandler.call(this,this.$ReactComposerAsyncRequest5.bind(this));i.setFinallyHandler.call(this,this.$ReactComposerAsyncRequest6.bind(this));}j.prototype.setHandler=function(k){'use strict';this.$ReactComposerAsyncRequest2=k;return this;};j.prototype.setErrorHandler=function(k){'use strict';this.$ReactComposerAsyncRequest3=k;return this;};j.prototype.$ReactComposerAsyncRequest4=function(k){'use strict';setTimeout(function(){var l=k.payload&&k.payload.isPostPending;if(!l)c('ReactComposerPostUtilsCore').handlePostSucceeded(this.$ReactComposerAsyncRequest1);this.$ReactComposerAsyncRequest2&&this.$ReactComposerAsyncRequest2(k);}.bind(this),0);};j.prototype.$ReactComposerAsyncRequest5=function(k){'use strict';setTimeout(function(){c('ReactComposerActions').postError(this.$ReactComposerAsyncRequest1,k);this.$ReactComposerAsyncRequest3&&this.$ReactComposerAsyncRequest3(k);}.bind(this),0);};j.prototype.$ReactComposerAsyncRequest6=function(k){'use strict';setTimeout(function(){return c('ReactComposerActions').postFinally(this.$ReactComposerAsyncRequest1,k);}.bind(this),0);};f.exports=j;}),null);
__d('ReactComposerAutosSellActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({REGISTER_AUTOS_COMPOSER:null,SAVE_YEAR:null,SAVE_ODOMETER:null,SAVE_MAKE:null,SAVE_MODEL:null,SAVE_VIN:null,SELECT_TYPEAHEAD:null,SAVE_ODOMETER_UNIT:null,SET_SELL_CONFIG:null},'ReactComposerAutosSellActionType');}),null);
__d('ReactComposerAutosSellStore.react',['Assert','ReactComposerAutosSellActionType','ReactComposerStoreBase','ReactComposerSellStore'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=['807311116002614','1558493264400524'],k=4,l=8,m=255,n=255,o=17;h=babelHelpers.inherits(p,c('ReactComposerStoreBase'));i=h&&h.prototype;function p(){'use strict';var q;i.constructor.call(this,function(){return {showAutosForSellOptions:false,year:'',odometer:'',odometerUnits:'kilometers',make:'',model:'',vin:''};},function(r){switch(r.type){case c('ReactComposerAutosSellActionType').SAVE_YEAR:q&&q.$ReactComposerAutosSellStore1(r);break;case c('ReactComposerAutosSellActionType').SAVE_ODOMETER:q&&q.$ReactComposerAutosSellStore2(r);break;case c('ReactComposerAutosSellActionType').SAVE_ODOMETER_UNIT:q&&q.$ReactComposerAutosSellStore3(r);break;case c('ReactComposerAutosSellActionType').SAVE_MAKE:q&&q.$ReactComposerAutosSellStore4(r);break;case c('ReactComposerAutosSellActionType').SAVE_MODEL:q&&q.$ReactComposerAutosSellStore5(r);break;case c('ReactComposerAutosSellActionType').SAVE_VIN:q&&q.$ReactComposerAutosSellStore6(r);break;case c('ReactComposerAutosSellActionType').SET_SELL_CONFIG:q&&q.$ReactComposerAutosSellStore7(r);break;}});q=this;}p.prototype.getMaxCharactersForYear=function(q){'use strict';return k;};p.prototype.getMaxCharactersForOdometer=function(q){'use strict';return l;};p.prototype.getMaxCharactersForMake=function(q){'use strict';return m;};p.prototype.getMaxCharactersForModel=function(q){'use strict';return n;};p.prototype.getNumCharactersForVIN=function(q){'use strict';return o;};p.prototype.getYear=function(q){'use strict';return this.getComposerData(q).year;};p.prototype.getOdometerValue=function(q){'use strict';return this.getComposerData(q).odometer;};p.prototype.getMake=function(q){'use strict';return this.getComposerData(q).make;};p.prototype.getModel=function(q){'use strict';return this.getComposerData(q).model;};p.prototype.getVIN=function(q){'use strict';return this.getComposerData(q).vin;};p.prototype.getCategoryInfo=function(q){'use strict';c('Assert').isTruthy(j.length>0,'Constant has an unexpected value');var r=j[0],s=c('ReactComposerSellStore').getCategoryTextForID(q,r);if(s&&s.length>0)return [r,s];return null;};p.prototype.getOdometerUnits=function(q){'use strict';return this.getComposerData(q).odometerUnits;};p.prototype.isUnitSelected=function(q){'use strict';return !!this.getComposerData(q).saveOdometerUnit;};p.prototype.isYearSelected=function(q){'use strict';return !!this.getComposerData(q).saveYear;};p.prototype.showAutosSpecificFields=function(q){'use strict';var r=c('ReactComposerSellStore').getCategoryID(q);return r!==null&&j.indexOf(r)!==-1&&c('ReactComposerSellStore').showAutosForSellOptions(q);};p.prototype.$ReactComposerAutosSellStore2=function(q){'use strict';var r=this.validateAction(q,['composerID','odometer']),s=r[0],t=r[1];if(/^\d*$/.test(t)&&t.length<=l){var u=this.getComposerData(s),v=parseInt(t.substring(0,l),10);u.odometer=v>0?v+'':'';this.emitChange(s);}};p.prototype.$ReactComposerAutosSellStore1=function(q){'use strict';var r=this.validateAction(q,['composerID','year']),s=r[0],t=r[1];if(t===''||/^[1-2][0-9]{0,3}$/.test(t)){var u=this.getComposerData(s);u.year=t;this.emitChange(s);}};p.prototype.$ReactComposerAutosSellStore4=function(q){'use strict';var r=this.validateAction(q,['composerID','make']),s=r[0],t=r[1],u=this.getComposerData(s);u.make=t.substring(0,m);this.emitChange(s);};p.prototype.$ReactComposerAutosSellStore5=function(q){'use strict';var r=this.validateAction(q,['composerID','model']),s=r[0],t=r[1],u=this.getComposerData(s);u.model=t.substring(0,n);this.emitChange(s);};p.prototype.$ReactComposerAutosSellStore6=function(q){'use strict';var r=this.validateAction(q,['composerID','vin']),s=r[0],t=r[1];if(/^[0-9a-zA-Z]*$/.test(t)&&t.length<=o){var u=this.getComposerData(s);u.vin=t.toUpperCase();this.emitChange(s);}};p.prototype.$ReactComposerAutosSellStore3=function(q){'use strict';var r=this.validateAction(q,['composerID','odometerUnit']),s=r[0],t=r[1],u=this.getComposerData(s);u.odometerUnit=t;this.emitChange(s);};p.prototype.$ReactComposerAutosSellStore7=function(q){'use strict';var r=this.validateAction(q,['composerID','config']),s=r[0],t=r[1],u=this.getComposerData(s),v=t.autosCategory;u.showAutosForSellOptions=v.showAutosForSellOptions;u.odometerUnits=v.autosOdometerUnits;this.emitChange(s);};f.exports=new p();}),null);
__d('ReactComposerCTAActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({ADD_OPTION:null,SET_CTA_CONFIG:null,HAS_PHOTO:null,NEEDS_PHOTO:null},'ReactComposerCTAActionType');}),null);
__d('ReactComposerCTAStore',['ReactComposerCTAActionType','ReactComposerEvents','ReactComposerStoreBase','DOM'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {ctaType:'',ctaURI:'',hasPhoto:c('ReactComposerCTAActionType').NEEDS_PHOTO};},function(l){switch(l.type){case c('ReactComposerCTAActionType').SET_CTA_CONFIG:k&&k.$ReactComposerCTAStore1(l);break;case c('ReactComposerCTAActionType').HAS_PHOTO:k&&k.$ReactComposerCTAStore2(l);break;case c('ReactComposerCTAActionType').NEEDS_PHOTO:k&&k.$ReactComposerCTAStore3(l);break;default:break;}});k=this;}j.prototype.$ReactComposerCTAStore2=function(k){'use strict';var l=this.getComposerData(k.composerID);l.hasPhoto=c('ReactComposerCTAActionType').HAS_PHOTO;this.emitChange(k.composerID);};j.prototype.$ReactComposerCTAStore3=function(k){'use strict';var l=this.getComposerData(k.composerID);l.hasPhoto=c('ReactComposerCTAActionType').NEEDS_PHOTO;this.emitChange(k.composerID);};j.prototype.removeListeners=function(){'use strict';this.removeAllListeners(c('ReactComposerEvents').CHANGE);};j.prototype.hasCTAPhoto=function(k){'use strict';return this.getComposerData(k).hasPhoto===c('ReactComposerCTAActionType').HAS_PHOTO;};j.prototype.getCTAType=function(k){'use strict';return this.getComposerData(k).ctaType;};j.prototype.getCTAURI=function(k){'use strict';return this.getComposerData(k).ctaURI;};j.prototype.getCTAData=function(k){'use strict';return {type:this.getComposerData(k).ctaType,value:{link:this.getComposerData(k).ctaURI,is_cta_share_post:true}};};j.prototype.getCTAMarkup=function(k){'use strict';return this.getComposerData(k).ctaMarkup;};j.prototype.getAttachmentConfig=function(k){'use strict';var l=this.getComposerData(k);if(!l.ctaMarkup)return null;var m=l.ctaMarkup,n=l.ctaAttachmentConfig,o=c('DOM').scry(m,'input[name="attachment[params][images][0]"]').pop(),p=c('DOM').scry(m,'input[name="attachment[params][title]"]').pop(),q=c('DOM').scry(m,'input[name="attachment[params][summary]"]').pop();if(o){if(!n.params.images)n.params.images=[];n.params.images[0]=o.value;}if(p)n.params.title=p.value;if(q)n.params.summary=q.value;return n;};j.prototype.$ReactComposerCTAStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','config']),m=l[0],n=l[1],o=this.getComposerData(m);o.ctaType=n.ctaType;o.ctaURI=n.ctaURI;o.ctaMarkup=n.markup;o.ctaAttachmentConfig=n.attachmentConfig;this.emitChange(m);};f.exports=new j();}),null);
__d('ReactComposerFileActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({RESET:null,SAVE_DROPBOX_FILE:null,SAVE_FILE:null,SET_FILE_CONFIG:null},'ReactComposerFileActionType');}),null);
__d('ReactComposerFileStore',['fbt','ReactComposerFileActionType','ReactComposerStoreBase'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('ReactComposerStoreBase'));j=i&&i.prototype;function k(){'use strict';var l;j.constructor.call(this,function(){return {dialogAppURL:null,dropboxActionEndpoint:null,dropboxAppID:null,dropboxEnabled:null,dropboxFileID:null,file:null,maxFileUploadString:null,selectedDropboxFileName:l&&l.$ReactComposerFileStore1(),selectedFileName:l&&l.$ReactComposerFileStore1()};},function(m){switch(m.type){case c('ReactComposerFileActionType').RESET:l&&l.$ReactComposerFileStore2(m);break;case c('ReactComposerFileActionType').SAVE_DROPBOX_FILE:l&&l.$ReactComposerFileStore3(m);break;case c('ReactComposerFileActionType').SAVE_FILE:l&&l.$ReactComposerFileStore4(m);break;case c('ReactComposerFileActionType').SET_FILE_CONFIG:l&&l.$ReactComposerFileStore5(m);break;}});l=this;}k.prototype.getDialogAppURL=function(l){'use strict';return this.getComposerData(l).dialogAppURL;};k.prototype.getDropboxActionEndpoint=function(l){'use strict';return this.getComposerData(l).dropboxActionEndpoint;};k.prototype.getDropboxAppID=function(l){'use strict';return this.getComposerData(l).dropboxAppID;};k.prototype.getDropboxEnabled=function(l){'use strict';return this.getComposerData(l).dropboxEnabled;};k.prototype.getDropboxFileID=function(l){'use strict';return this.getComposerData(l).dropboxFileID;};k.prototype.getFile=function(l){'use strict';return this.getComposerData(l).file;};k.prototype.getMaxFileUploadSize=function(l){'use strict';return this.getComposerData(l).maxFileUploadSize;};k.prototype.getMaxFileUploadString=function(l){'use strict';return this.getComposerData(l).maxFileUploadString;};k.prototype.getSelectedDropboxFileName=function(l){'use strict';return this.getComposerData(l).selectedDropboxFileName;};k.prototype.getSelectedFileName=function(l){'use strict';return this.getComposerData(l).selectedFileName;};k.prototype.getURI=function(l){'use strict';return this.hasFile(l)?'/ajax/groups/files/upload':'/ajax/groups/files/dropbox_publish';};k.prototype.hasDropboxFile=function(l){'use strict';return !!this.getComposerData(l).dropboxFileID;};k.prototype.hasFile=function(l){'use strict';return !!this.getComposerData(l).file;};k.prototype.isFileSelected=function(l){'use strict';var m=this.getComposerData(l);return !!m.file||!!m.dropboxFileID;};k.prototype.$ReactComposerFileStore1=function(){'use strict';return h._("No file chosen");};k.prototype.$ReactComposerFileStore2=function(l){'use strict';var m=this.validateAction(l,'composerID'),n=this.getComposerData(m);n.file=n.dropboxFileID=null;n.selectedFileName=n.selectedDropboxFileName=this.$ReactComposerFileStore1();this.emitChange(l.composerID);};k.prototype.$ReactComposerFileStore3=function(l){'use strict';var m=this.validateAction(l,['composerID','id','name']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.dropboxFileID=o;q.selectedDropboxFileName=p;this.emitChange(n);};k.prototype.$ReactComposerFileStore4=function(l){'use strict';var m=this.validateAction(l,['composerID','file','name']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.file=o;q.selectedFileName=p;this.emitChange(l.composerID);};k.prototype.$ReactComposerFileStore5=function(l){'use strict';var m=this.validateAction(l,['composerID','config']),n=m[0],o=m[1],p=this.getComposerData(n);p.dialogAppURL=o.dialogAppURL;p.dropboxActionEndpoint=o.dropboxActionEndpoint;p.dropboxAppID=o.dropboxAppID;p.dropboxEnabled=o.dropboxEnabled;p.maxFileUploadSize=o.maxFileUploadSize;p.maxFileUploadString=o.maxFileUploadString;this.emitChange(l.composerID);};f.exports=new k();}),null);
__d('ReactComposerMarkdownActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({ENABLE_MARKDOWN:null,HIDE_INTERCEPT:null,SHOW_INTERCEPT:null},'ReactComposerMarkdownActionType');}),null);
__d('ReactComposerMarkdownStore',['ReactComposerMarkdownActionType','ReactComposerStoreBase'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){var k;i.constructor.call(this,function(){return {showIntercept:false,markdownEnabled:false};},function(l){switch(l.type){case c('ReactComposerMarkdownActionType').SHOW_INTERCEPT:k&&k.$ReactComposerMarkdownStore1(l);break;case c('ReactComposerMarkdownActionType').HIDE_INTERCEPT:k&&k.$ReactComposerMarkdownStore2(l);break;case c('ReactComposerMarkdownActionType').ENABLE_MARKDOWN:k&&k.$ReactComposerMarkdownStore3(l);break;}});k=this;}j.prototype.showIntercept=function(k){return this.getComposerData(k).showIntercept;};j.prototype.isMarkdownEnabled=function(k){return this.getComposerData(k).markdownEnabled;};j.prototype.$ReactComposerMarkdownStore1=function(k){var l=this.validateAction(k,['composerID']),m=this.getComposerData(l);m.showIntercept=true;this.emitChange(l);};j.prototype.$ReactComposerMarkdownStore2=function(k){var l=this.validateAction(k,['composerID']),m=this.getComposerData(l);m.showIntercept=false;this.emitChange(l);};j.prototype.$ReactComposerMarkdownStore3=function(k){var l=this.validateAction(k,['composerID']),m=this.getComposerData(l);m.markdownEnabled=true;this.emitChange(l);};f.exports=new j();}),null);
__d('ReactComposerAudienceActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({SET_AUDIENCE:null,SET_AUDIENCE_ELEMENT:null,SET_AUDIENCE_INSTANCE:null,SET_PRIVACYX_NULL_DANGEROUS:null},'ReactComposerAudienceActionTypes');}),null);
__d('ReactComposerAudienceStore',['csx','invariant','ReactComposerActionStore','ReactComposerAudienceActionTypes','$','DOM'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,c('ReactComposerActionStore'));k=j&&j.prototype;function l(){'use strict';var m;k.constructor.call(this,function(){return {audience:null,audienceElement:null,audienceInstance:null,legacyAudience:null,privacyxNullDangerous:false};},function(n){switch(n.type){case c('ReactComposerAudienceActionTypes').SET_AUDIENCE:m&&m.$ReactComposerAudienceStore1(n);break;case c('ReactComposerAudienceActionTypes').SET_AUDIENCE_ELEMENT:m&&m.$ReactComposerAudienceStore2(n);break;case c('ReactComposerAudienceActionTypes').SET_AUDIENCE_INSTANCE:m&&m.$ReactComposerAudienceStore3(n);break;case c('ReactComposerAudienceActionTypes').SET_PRIVACYX_NULL_DANGEROUS:m&&m.$ReactComposerAudienceStore4(n);break;}});m=this;}l.prototype.getAudience=function(m){'use strict';if(this.getPrivacyxNullDangerous(m))return null;var n=c('DOM').scry(c('$')(m),"._5dd8");!(n.length<2)?i(0):void 0;var o=n[0];if(o){var p=c('DOM').scry(o,'input[name="privacyx"]');!(p.length<2)?i(0):void 0;if(p.length===1)return p[0].value;}return this.getComposerData(m).audience;};l.prototype.getLegacyAudience=function(m){'use strict';return this.getComposerData(m).legacyAudience;};l.prototype.getAudienceElement=function(m){'use strict';return this.getComposerData(m).audienceElement;};l.prototype.getAudienceInstance=function(m){'use strict';return this.getComposerData(m).audienceInstance;};l.prototype.getPrivacyxNullDangerous=function(m){'use strict';return this.getComposerData(m).privacyxNullDangerous;};l.prototype.$ReactComposerAudienceStore1=function(m){'use strict';var n=this.validateAction(m,'composerID'),o=this.getComposerData(n);o.audience=m.audience;o.legacyAudience=m.legacyAudience;this.emitChange(n);};l.prototype.$ReactComposerAudienceStore2=function(m){'use strict';var n=this.validateAction(m,['composerID','audienceElement']),o=n[0],p=n[1],q=this.getComposerData(o);q.audienceElement=p;this.emitChange(o);};l.prototype.$ReactComposerAudienceStore3=function(m){'use strict';var n=this.validateAction(m,'composerID'),o=this.getComposerData(n);o.audienceInstance=m.audienceInstance;this.emitChange(n);};l.prototype.$ReactComposerAudienceStore4=function(m){'use strict';var n=this.validateAction(m,'composerID'),o=this.getComposerData(n);o.privacyxNullDangerous=m.privacyxNullDangerous;this.emitChange(n);};f.exports=new l();}),null);
__d('ReactComposerCustomConfigActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({SET_IS_FEED_ONLY_POST:null},'ReactComposerCustomConfigActionType');}),null);
__d('ReactComposerCustomConfigStore',['ReactComposerStoreBase','ReactComposerCustomConfigActionType'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {isFeedOnlyPost:false};},function(l){switch(l.type){case c('ReactComposerCustomConfigActionType').SET_IS_FEED_ONLY_POST:k&&k.$ReactComposerCustomConfigStore1(l);break;}});k=this;}j.prototype.isFeedOnlyPost=function(k){'use strict';return this.getComposerData(k).isFeedOnlyPost;};j.prototype.$ReactComposerCustomConfigStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','isFeedOnlyPost']),m=l[0],n=l[1],o=this.getComposerData(m);o.isFeedOnlyPost=n;this.emitChange(m);};f.exports=new j();}),null);
__d('ReactComposerLocationAttachmentActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({LOCATION_ATTACHMENT_ENABLED:null,FETCH_LOCATION_ATTACHMENT:null,SET_MINUTIAE_ACTION_CONTEXT:null,SET_LOCATION_MARKUP:null},'ReactComposerLocationAttachmentActionType');}),null);
__d("XReactComposerLocationAttachmentController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/location\/attachment\/",{composer_id:{type:"String",required:true},location_id:{type:"String",required:true},target_id:{type:"String",required:true}});}),null);
__d('ReactComposerLocationAttachmentStore',['ReactComposerAttachmentActionType','ReactComposerAttachmentType','ReactComposerLocationAttachmentActionType','ReactComposerStoreBase','XReactComposerLocationAttachmentController','AsyncRequest'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {isEnabled:false,isFetching:false,markup:null,pendingRequest:null,minutiaeTaggedPlace:null,isTimeline:false};},function(l){switch(l.type){case c('ReactComposerLocationAttachmentActionType').LOCATION_ATTACHMENT_ENABLED:k&&k.$ReactComposerLocationAttachmentStore1(l);break;case c('ReactComposerLocationAttachmentActionType').FETCH_LOCATION_ATTACHMENT:k&&k.$ReactComposerLocationAttachmentStore2(l);break;case c('ReactComposerLocationAttachmentActionType').SET_MINUTIAE_ACTION_CONTEXT:k&&k.$ReactComposerLocationAttachmentStore3(l);break;case c('ReactComposerLocationAttachmentActionType').SET_LOCATION_MARKUP:k&&k.$ReactComposerLocationAttachmentStore4(l);break;case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:k&&k.$ReactComposerLocationAttachmentStore5(l);break;}});k=this;}j.prototype.isEnabled=function(k){'use strict';return this.getComposerData(k).isEnabled;};j.prototype.getMarkup=function(k){'use strict';return this.getComposerData(k).markup;};j.prototype.getMinutiaeTaggedPlace=function(k){'use strict';return this.getComposerData(k).minutiaeTaggedPlace;};j.prototype.getIsTimeline=function(k){'use strict';return this.getComposerData(k).isTimeline;};j.prototype.isFetching=function(k){'use strict';return this.getComposerData(k).isFetching;};j.prototype.$ReactComposerLocationAttachmentStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','enabled']),m=l[0],n=l[1],o=this.getComposerData(m);o.isEnabled=n;};j.prototype.$ReactComposerLocationAttachmentStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','locationID','targetID']),m=l[0],n=l[1],o=l[2];if(!this.isEnabled(m))return;var p=this.getComposerData(m);p.isFetching=true;var q=c('XReactComposerLocationAttachmentController').getURIBuilder().setString('composer_id',m).setString('location_id',n).setString('target_id',o).getURI();p.pendingRequest=new (c('AsyncRequest'))(q).setFinallyHandler(function(){p.isFetching=false;p.pendingRequest=null;this.emitChange(m);}.bind(this));p.pendingRequest.send();this.emitChange(m);};j.prototype.$ReactComposerLocationAttachmentStore3=function(k){'use strict';var l=this.validateAction(k,['composerID','objectID','isTimeline']),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m);p.minutiaeTaggedPlace=n;p.isTimeline=o;this.emitChange(m);};j.prototype.$ReactComposerLocationAttachmentStore4=function(k){'use strict';var l=this.validateAction(k,['composerID','markup']),m=l[0],n=l[1],o=this.getComposerData(m);o.markup=n;this.emitChange(m);};j.prototype.$ReactComposerLocationAttachmentStore5=function(k){'use strict';var l=this.validateAction(k,['composerID','id']),m=l[0],n=l[1];if(n===c('ReactComposerAttachmentType').STATUS)return;var o=this.getComposerData(m);o.markup=null;o.isFetching=false;o.pendingRequest&&o.pendingRequest.abandon();this.emitChange(m);};f.exports=new j();}),null);
__d('ReactComposerPerfLogger',['ComposerType','ComposerXSessionIDs','MarauderLogger'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={},i=c('ComposerType').NORMAL,j={logEvent:function k(l,m){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],o=h[m],p=c('ComposerXSessionIDs').getSessionID(m);if(!o||!p)return;if(n.logOncePerSession){if(!o.loggedEventTypes[p])o.loggedEventTypes[p]={};if(o.loggedEventTypes[p][l])return;o.loggedEventTypes[p][l]=true;}var q=babelHelpers['extends']({},n.extraData,{composer_type:i,target_type:o.targetType,target_id:o.targetID,ref:o.entryPointRef});c('MarauderLogger').log(l,'composer',q,undefined,undefined,p);},registerComposer:function k(l,m,n,o){h[l.id]={targetID:o,targetType:m,entryPointRef:n,loggedEventTypes:{}};},getInstance:function k(l){return h[l];}};f.exports=j;}),null);
__d("XReactComposerScrapedAttachmentController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/scraper\/",{composer_id:{type:"String",required:true},target_id:{type:"String",required:true},scrape_url:{type:"String",required:true},carousel_params:{type:"String"},entry_point:{type:"String",required:true},source_attachment:{type:"String",defaultValue:""}});}),null);
__d("XReactComposerShareAttachmentController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/share_attachment\/",{composer_id:{type:"String",required:true},target_id:{type:"String",required:true},share_type:{type:"Int",required:true},share_params:{type:"String",required:true},source_attachment:{type:"String",defaultValue:""}});}),null);
__d('ReactComposerScrapedAttachmentStore',['ActorURI','CallToActionLinkFormats','ReactComposerAttachmentActionType','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerScrapedAttachmentActionType','ReactComposerStoreBase','XReactComposerScrapedAttachmentController','XReactComposerShareAttachmentController','AsyncRequest','PagesComposerCarouselPostChildAttachmentAttributes','PagesComposerCarouselPostLogAttributes','DOM'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {markup:null,attachmentConfig:{},enabled:false,isScraping:false,permissiveMatch:null,sourceAttachment:null};},function(l){switch(l.type){case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPE_ENABLED:k&&k.$ReactComposerScrapedAttachmentStore1(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_PERMISSIVE_MATCH_SETTED:k&&k.$ReactComposerScrapedAttachmentStore2(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPE_INTENDED:k&&k.$ReactComposerScrapedAttachmentStore3(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SHARE_SELECTED:k&&k.$ReactComposerScrapedAttachmentStore4(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPED:k&&k.$ReactComposerScrapedAttachmentStore5(l);break;case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:k&&k.$ReactComposerScrapedAttachmentStore6(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_CAROUSEL_UPLOAD:k&&k.$ReactComposerScrapedAttachmentStore7(l);}});k=this;}j.prototype.isEnabled=function(k){'use strict';return this.getComposerData(k).isEnabled;};j.prototype.hasAttachment=function(k){'use strict';return !!this.getMarkup(k);};j.prototype.isScraping=function(k){'use strict';return this.getComposerData(k).isScraping;};j.prototype.getMarkup=function(k){'use strict';return this.getComposerData(k).markup;};j.prototype.isReadOnly=function(k){'use strict';var l=this.getComposerData(k);return l.attachmentConfig&&l.attachmentConfig.readOnly;};j.prototype.getAttachmentConfig=function(k){'use strict';var l=this.getComposerData(k);if(!l.markup)return null;if(!l.attachmentConfig.readOnly){var m=c('DOM').scry(l.markup,'input[name="attachment[params][images][0]"]').pop(),n=c('DOM').scry(l.markup,'input[name="attachment[params][title]"]').pop(),o=c('DOM').scry(l.markup,'input[name="attachment[params][summary]"]').pop();if(m!=null){if(l.attachmentConfig.params.images===undefined)l.attachmentConfig.params.images=[];l.attachmentConfig.params.images[0]=m.value;}if(n!=null)l.attachmentConfig.params.title=n.value;if(o!=null)l.attachmentConfig.params.summary=o.value;var p=c('DOM').scry(l.markup,'input[name="attachment[carousel_log]['+c('PagesComposerCarouselPostLogAttributes').USE_CAROUSEL_COMPOSER+']"]').pop();if(p!=null&&p.value==='1'){this.$ReactComposerScrapedAttachmentStore8(l);this.$ReactComposerScrapedAttachmentStore9(l);}this.$ReactComposerScrapedAttachmentStore10(l);}return l.attachmentConfig;};j.prototype.$ReactComposerScrapedAttachmentStore10=function(k){'use strict';var l={},m=Object.keys(c('PagesComposerCarouselPostLogAttributes'));for(var n=0;n<m.length;n++){var o=c('PagesComposerCarouselPostLogAttributes')[m[n]],p=c('DOM').scry(k.markup,'input[name="attachment[carousel_log]['+o+']"]').pop();if(!p)continue;l[o]=p.value;}if(Object.keys(l).length!==0)k.attachmentConfig.carousel_log=l;};j.prototype.$ReactComposerScrapedAttachmentStore8=function(k){'use strict';k.attachmentConfig.params.child_attachments={};var l=Object.keys(c('PagesComposerCarouselPostChildAttachmentAttributes')),m=0,n={};while(true){var o=false,p=0;n={};for(p=0;p<l.length;p++){var q=c('DOM').scry(k.markup,'input[name="attachment[params][child_attachments]['+m+']['+c('PagesComposerCarouselPostChildAttachmentAttributes')[l[p]]+']"]').pop();if(q==null)continue;n[c('PagesComposerCarouselPostChildAttachmentAttributes')[l[p]]]=q.value;o=true;}if(!o)break;k.attachmentConfig.params.child_attachments[m]=n;m++;}};j.prototype.$ReactComposerScrapedAttachmentStore9=function(k){'use strict';var l=k.attachmentConfig.params.child_attachments;if(!l)return;var m=null,n=0;for(var o in l)if(l.hasOwnProperty(o))if(l[o].selected==='1'){n+=1;if(n>1)return;if(l[o].video_id)m=l[o];}if(m){k.attachmentConfig.params.carousel_video_lpp={};Object.assign(k.attachmentConfig.params.carousel_video_lpp,{video_id:m.video_id,publish:true,link_title:m.name,link_description:m.description,cta_type:m.cta_type?m.cta_type:'NO_BUTTON',cta_link:m.link,cta_link_format:c('CallToActionLinkFormats').VIDEO_LPP});}};j.prototype.getPermissiveMatch=function(k){'use strict';return this.getComposerData(k).permissiveMatch;};j.prototype.$ReactComposerScrapedAttachmentStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','enabled']),m=l[0],n=l[1],o=this.getComposerData(m);o.isEnabled=n;};j.prototype.$ReactComposerScrapedAttachmentStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','permissiveMatch']),m=l[0],n=l[1],o=this.getComposerData(m);o.permissiveMatch=n;this.emitChange(k.composerID);};j.prototype.$ReactComposerScrapedAttachmentStore3=function(k){'use strict';var l=this.validateAction(k,['composerID','targetID','value','entryPoint','actorID']),m=l[0],n=l[1],o=l[2],p=l[3],q=l[4];if(!this.isEnabled(m))return;var r=this.getComposerData(k.composerID);r.isScraping=true;var s=c('ReactComposerAttachmentStore').getSelectedAttachmentID(m),t=c('XReactComposerScrapedAttachmentController').getURIBuilder().setString('composer_id',m).setString('target_id',n).setString('scrape_url',o).setString('entry_point',p).setString('source_attachment',s).getURI();t=c('ActorURI').create(t,q);new (c('AsyncRequest'))(t).send();this.emitChange(k.composerID);};j.prototype.$ReactComposerScrapedAttachmentStore5=function(k){'use strict';if(!this.isEnabled(k.composerID))return;var l=this.getComposerData(k.composerID);l.markup=k.markup;l.attachmentConfig=k.attachmentConfig;l.isScraping=false;l.sourceAttachment=c('ReactComposerAttachmentStore').getSelectedAttachmentID(k.composerID);this.emitChange(k.composerID);};j.prototype.$ReactComposerScrapedAttachmentStore6=function(k){'use strict';var l=this.getComposerData(k.composerID);if(k.id===l.sourceAttachment)return;l.markup=null;l.attachmentConfig={};l.isScraping=false;l.sourceAttachment=null;this.emitChange(k.composerID);};j.prototype.$ReactComposerScrapedAttachmentStore7=function(k){'use strict';var l=this.validateAction(k,['composerID','targetID','scrapeUrl','carouselParams','entryPoint','actorID']),m=l[0],n=l[1],o=l[2],p=l[3],q=l[4],r=l[5],s=this.getComposerData(k.composerID);s.isScraping=true;var t=c('ReactComposerAttachmentStore').getSelectedAttachmentID(m),u=c('XReactComposerScrapedAttachmentController').getURIBuilder().setString('composer_id',m).setString('target_id',n).setString('scrape_url',o).setString('carousel_params',p).setString('entry_point',q).setString('source_attachment',t).getURI();u=c('ActorURI').create(u,r);new (c('AsyncRequest'))(u).send();this.emitChange(k.composerID);};j.prototype.$ReactComposerScrapedAttachmentStore4=function(k){'use strict';var l=this.validateAction(k,['composerID','targetID','actorID','shareType','shareParams']),m=l[0],n=l[1],o=l[2],p=l[3],q=l[4];if(!this.isEnabled(m))return;var r=this.getComposerData(m);r.isScraping=true;var s=c('ReactComposerAttachmentStore').getSelectedAttachmentID(m),t=c('XReactComposerShareAttachmentController').getURIBuilder().setString('composer_id',m).setString('target_id',n).setInt('share_type',p).setString('share_params',JSON.stringify(q)).setString('source_attachment',s).getURI();t=c('ActorURI').create(t,o);new (c('AsyncRequest'))(t).send();this.emitChange(m);};f.exports=new j();}),null);
__d('SlideshowImageUtil',['invariant','SlideshowConstants','immutable'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('SlideshowConstants').formats,j='-',k=24,l=1.3,m=10,n=460,o=32,p=.8,q='x',r=1.778,s=1,t={shouldCropImages:function u(v){var w=v[0].width,x=v[0].height;for(var y=v,z=Array.isArray(y),aa=0,y=z?y:y[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var ba;if(z){if(aa>=y.length)break;ba=y[aa++];}else{aa=y.next();if(aa.done)break;ba=aa.value;}var ca=ba;if(ca.width!==w||ca.height!==x)return true;}return false;},getCrops:function u(v,w,x){var y,z=this.calculateDefaultCoordinates(v,x);return y={},y[w]=z,y;},calculateCropsForFormat:function u(v,w,x,y){if(!w.length)return new (c('immutable').Map)();switch(x){case i.Original:var z=w[0],aa=y.get(z.key),ba=aa.height,ca=aa.width;w.forEach(function(da){v=v.set(da.key,this.getCrops(y.get(da.key),ca+q+ba,ca/ba));}.bind(this));break;case i.Wide:w.forEach(function(da){v=v.set(da.key,this.getCrops(y.get(da.key),x,r));}.bind(this));break;case i.Square:w.forEach(function(da){v=v.set(da.key,this.getCrops(y.get(da.key),x,s));}.bind(this));break;default:}return v;},calculateDefaultCoordinates:function u(v,w){var x=void 0,y=void 0;if(v.width/w>v.height){x=v.height;y=v.height*w;}else{y=v.width;x=v.width/w;}var z=(v.width-y)/2,aa=(v.height-x)/2,ba=Math.floor(z)-z,ca=Math.floor(aa)-aa;return [[z+ba,aa+ca],[Math.round(z+y+ba),Math.round(aa+x+ca)]];},getPreviewBoxDimensions:function u(v,w,x){var y=w,z=w;if(v.length>0){var aa=v[0],ba=Object.keys(aa)[0];switch(ba){case c('SlideshowConstants').formats.Wide:y=w/x;break;case c('SlideshowConstants').formats.Square:break;default:var ca=ba.split(q),da=Number(ca[0]),ea=Number(ca[1]);if(da>ea){y=Math.floor(z*ea/da);}else z=Math.floor(y*da/ea);break;}}return {width:z,height:y};},getFullSizeImageBoxCroppingSpec:function u(v,w){var x=w.width/w.height,y=this.calculateDefaultCoordinates(v,x);!(y.length===2)?h(0):void 0;return {format:c('SlideshowConstants').formats.Original,topLeft:y[0],bottomRight:y[1]};},getDefaultCroppingSpec:function u(v){var w=this.calculateDefaultCoordinates(v,1);!(w.length===2)?h(0):void 0;return {format:c('SlideshowConstants').formats.Square,topLeft:w[0],bottomRight:w[1]};},getHorizontalAlignmentForAPI:function u(v){var w=v.split(j);return w[1];},getFontSize:function u(v){return Math.floor(k*v);},getFontWeight:function u(v){return v?'bold':'normal';},getLineHeight:function u(){return l;},getOpacity:function u(){return p;},getTextoverlayMaxEdge:function u(v,w){return v-o*w*2-m*w*2;},getTextoverlayPadding:function u(v){return m*v;},getTextoverlayMargin:function u(v){return o*v;},getScaleMultiplierFromCrops:function u(v){var w=Object.keys(v)[0],x=w.split(q),y=Number(x[0]),z=Number(x[1]);return t.getScaleMultiplier(y,z);},getScaleMultiplier:function u(v,w){return Math.max(v/n,w/n);},getOuterTextboxCoordinatesForAPI:function u(v,w,x){var y=Object.keys(v)[0],z=y.split(q),aa=Number(z[0]),ba=Number(z[1]),ca=t.calculateTextboxCoordinates(ba,aa,w,x);return [Math.floor(ca.marginLeft),Math.floor(ba-ca.marginTop-ca.textHeight),Math.ceil(ca.marginLeft+ca.textWidth),Math.ceil(ba-ca.marginTop)];},getInnerTextboxCoordinatesForAPI:function u(v,w,x){var y=Object.keys(v)[0],z=y.split(q),aa=Number(z[0]),ba=Number(z[1]),ca=t.calculateTextboxCoordinates(ba,aa,w,x),da=t.getTextoverlayPadding(x)-4,ea={marginLeft:ca.marginLeft+da,marginTop:ca.marginTop,textHeight:ca.textHeight,textWidth:ca.textWidth-2*da};return [Math.floor(ea.marginLeft),Math.floor(ba-ea.marginTop-ea.textHeight),Math.ceil(ea.marginLeft+ea.textWidth),Math.ceil(ba-ea.marginTop)];},calculateTextboxCoordinates:function u(v,w,x,y){var z=x.text_alignment.split(j),aa=z[1],ba=z[0],ca=t.getFontSize(y),da=t.getTextoverlayMaxEdge(w,y),ea=t.getTextoverlayMaxEdge(v,y),fa=document.createElement('div');fa.textContent=x.textoverlay_content?x.textoverlay_content:'';fa.style.visibility='hidden';fa.style.display='inline-block';fa.style.wordWrap='break-word';fa.style.whiteSpace='pre-wrap';fa.style.fontFamily=x.font;fa.style.fontWeight=t.getFontWeight(x.bold);fa.style.fontSize=ca+'px';fa.style.textAlign=aa;fa.style.maxWidth=da+'px';fa.style.maxHeight=ea+'px';fa.style.lineHeight=t.getLineHeight()*ca+'px';fa.style.padding=t.getTextoverlayPadding(y)+'px';document.body.appendChild(fa);var ga=fa.clientWidth,ha=fa.clientHeight;document.body.removeChild(fa);var ia=o*y,ja=o*y,ka=w-o*y,la=v-o*y;if(aa=='center'){ia=Math.min((w-ga)/2,ka);}else if(aa=='right')ia=Math.min(w-o*y-ga,ka);if(ba=='center'){ja=Math.min((v-ha)/2,la);}else if(ba=='bottom')ja=Math.min(v-o*y-ha,la);return {marginLeft:ia,marginTop:ja,textHeight:ha,textWidth:ga};}};f.exports=t;}),null);
__d('ReactComposerSelectedImagesStore',['ReactComposerDispatcher','ReactComposerMediaUploadActionType','ReactComposerMediaUploadStore','ReactComposerPhotoStore','ReactComposerSlideshowActionType','ReactComposerStoreBase','SlideshowConstants','SlideshowImageUtil','immutable','mergeDeepInto'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=1.778,k='x',l=1,m=c('SlideshowConstants').formats,n=c('SlideshowConstants').max_photo_num;h=babelHelpers.inherits(o,c('ReactComposerStoreBase'));i=h&&h.prototype;o.prototype.$ReactComposerSelectedImagesStore1=function(p,q,r){var s;if(p.isLoading)return {};var t=c('SlideshowImageUtil').calculateDefaultCoordinates({width:p.width,height:p.height},r);return s={},s[q]=t,s;};o.prototype.$ReactComposerSelectedImagesStore2=function(p,q,r){var s=r;if(!s)s=this.getComposerData(p).format;return this.$ReactComposerSelectedImagesStore3(q,s);};o.prototype.$ReactComposerSelectedImagesStore3=function(p,q){if(!p.length)return [];switch(q){case m.Original:var r=p[0];return p.map(function(s){return this.$ReactComposerSelectedImagesStore1(s,r.width+k+r.height,r.width/r.height);}.bind(this));case m.Wide:return p.map(function(s){return this.$ReactComposerSelectedImagesStore1(s,q,j);}.bind(this));case m.Square:return p.map(function(s){return this.$ReactComposerSelectedImagesStore1(s,q,l);}.bind(this));default:return [];}};function o(){var p=void 0;i.constructor.call(this,function(){return {selectedImages:[],imagesCrops:[],editState:null,format:c('SlideshowConstants').formats.Original,removedUploadIDs:[],addedUploadIDs:[]};},function(q){switch(q.type){case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_ENQUEUED:c('ReactComposerDispatcher').waitFor([c('ReactComposerMediaUploadStore').getDispatchToken()]);p&&p.$ReactComposerSelectedImagesStore4(q);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_DONE:c('ReactComposerDispatcher').waitFor([c('ReactComposerPhotoStore').getDispatchToken()]);p&&p.$ReactComposerSelectedImagesStore5(q);break;case c('ReactComposerSlideshowActionType').IMAGES_SELECT_CONFIRM:p&&p.$ReactComposerSelectedImagesStore6(q);break;case c('ReactComposerSlideshowActionType').IMAGE_REMOVE:p&&p.$ReactComposerSelectedImagesStore7(q);break;case c('ReactComposerSlideshowActionType').REORDER_IMAGES:p&&p.$ReactComposerSelectedImagesStore8(q);break;case c('ReactComposerSlideshowActionType').FORMAT_CHANGE:p&&p.$ReactComposerSelectedImagesStore9(q);break;case c('ReactComposerSlideshowActionType').TOGGLE_SLIDESHOW_DIALOG:p&&p.$ReactComposerSelectedImagesStore10(q);break;case c('ReactComposerSlideshowActionType').HIDE_SLIDESHOW_EDIT_FIELD:p&&p.$ReactComposerSelectedImagesStore11(q);break;case c('ReactComposerSlideshowActionType').SHOW_EDIT_SLIDESHOW_DIALOG:p&&p.$ReactComposerSelectedImagesStore12(q);break;case c('ReactComposerSlideshowActionType').CLOSE_EDIT_SLIDESHOW_DIALOG:p&&p.$ReactComposerSelectedImagesStore13(q);break;case c('ReactComposerSlideshowActionType').CREATE:p&&p.$ReactComposerSelectedImagesStore14(q);break;default:break;}});p=this;}o.prototype.$ReactComposerSelectedImagesStore4=function(p){var q=p.composerID,r=this.getComposerData(q),s=c('ReactComposerMediaUploadStore').getUploads(q),t=this.addNewImagesFromPhotoUploads(s,r.selectedImages,r.removedUploadIDs);r.selectedImages=r.selectedImages.concat(t);if(r.editState!==null)r.addedUploadIDs=r.addedUploadIDs.concat(t.map(function(u){return u.key;}));this.emitChange(q);};o.prototype.$ReactComposerSelectedImagesStore5=function(p){var q=p.composerID,r=this.getComposerData(q),s=c('ReactComposerPhotoStore').getPhotos(q);r.selectedImages=this.replacePhotoUploadsFromPhotos(s,r.selectedImages);r.imagesCrops=this.$ReactComposerSelectedImagesStore2(q,r.selectedImages);this.emitChange(q);};o.prototype.$ReactComposerSelectedImagesStore11=function(p){var q=p.composerID,r=this.getComposerData(q);r.selectedImages=[];r.imagesCrops=[];this.emitChange(q);};o.prototype.$ReactComposerSelectedImagesStore10=function(p){var q=p.composerID,r=this.getComposerData(q);if(!p.shouldShowSlideshowDialog){r.selectedImages=[];r.imagesCrops=[];}this.emitChange(q);};o.prototype.$ReactComposerSelectedImagesStore6=function(p){var q=p.composerID,r=this.getComposerData(q);r.selectedImages=r.selectedImages.concat(p.selectedImages);r.imagesCrops=this.$ReactComposerSelectedImagesStore2(q,r.selectedImages);this.emitChange(q);};o.prototype.$ReactComposerSelectedImagesStore7=function(p){var q=p.composerID,r=this.getComposerData(q);if(r.editState!==null)r.removedUploadIDs.push(p.removeImage.key);var s=r.selectedImages.filter(function(t){return t.key!==p.removeImage.key;});r.selectedImages=s;r.imagesCrops=this.$ReactComposerSelectedImagesStore2(q,s);this.emitChange(q);};o.prototype.$ReactComposerSelectedImagesStore8=function(p){var q=p.composerID,r=this.getComposerData(q),s=p.data,t=s.fromIndex,u=s.toIndex,v=r.selectedImages.slice(0),w=Object.assign({},v[t]);v[t].remove=true;v.splice(t>u?u:u+1,0,w);v=v.filter(function(x){return !x.remove;});r.selectedImages=v;r.imagesCrops=this.$ReactComposerSelectedImagesStore2(q,v);this.emitChange(q);};o.prototype.$ReactComposerSelectedImagesStore9=function(p){var q=p.composerID,r=this.getComposerData(q);r.format=p.format;r.imagesCrops=this.$ReactComposerSelectedImagesStore2(q,r.selectedImages,p.format);this.emitChange(q);};o.prototype.$ReactComposerSelectedImagesStore12=function(p){var q=p.composerID,r=this.getComposerData(q),s={};c('mergeDeepInto')(s,r);r.editState=s;this.emitChange(q);};o.prototype.$ReactComposerSelectedImagesStore13=function(p){var q=p.composerID,r=this.getComposerData(q),s=r.editState;r.selectedImages=s.selectedImages;r.imagesCrops=s.imagesCrops;r.format=s.format;r.editState=null;r.removedUploadIDs=[];r.addedUploadIDs=[];this.emitChange(q);};o.prototype.$ReactComposerSelectedImagesStore14=function(p){var q=p.composerID,r=this.getComposerData(q);r.editState=null;r.removedUploadIDs=[];r.addedUploadIDs=[];this.emitChange(q);};o.prototype.getImagesFromPhotoUploads=function(p){var q=[];p.forEach(function(r){q.push({height:null,isLoading:true,key:r.id,url:null,width:null});});return q;};o.prototype.addNewImagesFromPhotoUploads=function(p,q,r){var s=this.getImagesFromPhotoUploads(p),t=s.filter(function(u){var v=q.findIndex(function(x){return x.key===u.key;}),w=r.findIndex(function(x){return x===u.key;});return v===-1&&w===-1;});return t;};o.prototype.replacePhotoUploadsFromPhotos=function(p,q){return (q.map(function(r){var s=r,t=p.find(function(u){return u.uploadID===r.key;});if(t!=null)s={height:t.height,isLoading:false,key:t.uploadID,photoID:t.id,thumbSrc:t.thumbSrc,url:t.imageSrc,width:t.width};return s;}));};o.prototype.getPhotoIDs=function(p){var q=this.getComposerData(p);return q.selectedImages.map(function(r){return r.photoID;}).slice(0,n);};o.prototype.getRemovedUploadIDs=function(p){return this.getComposerData(p).removedUploadIDs;};o.prototype.getAddedUploadIDs=function(p){return this.getComposerData(p).addedUploadIDs;};o.prototype.getSelectedImages=function(p){return this.getComposerData(p).selectedImages;};o.prototype.getThumbnailSrc=function(p){var q=this.getComposerData(p).selectedImages;if(q.length>0)return q[0].thumbSrc;return null;};o.prototype.getImagesCrops=function(p){return this.getComposerData(p).imagesCrops;};o.prototype.getNumberOfImages=function(p){return Math.min(this.getComposerData(p).selectedImages.length,n);};o.prototype.getFormat=function(p){return this.getComposerData(p).format;};f.exports=new o();}),null);
__d('SlideshowFlowTypes',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={SETTINGS_TAB:'SETTINGS_TAB',MUSIC_TAB:'MUSIC_TAB',FRAMES_TAB:'FRAMES_TAB'};f.exports={SlideshowTabKey:h};}),null);
__d('ReactComposerSlideshowStore',['ReactComposerSlideshowActionType','ReactComposerSlideshowPlacement','ReactComposerStoreBase','SlideshowConstants','SlideshowFlowTypes','mergeDeepInto'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('SlideshowFlowTypes').SlideshowTabKey;h=babelHelpers.inherits(k,c('ReactComposerStoreBase'));i=h&&h.prototype;function k(){'use strict';var l;i.constructor.call(this,function(){return {durationInMS:1000,editState:null,isSlideshowSelected:false,placement:c('ReactComposerSlideshowPlacement').PHOTO_VIDEO_TAB,selectedTab:j.SETTINGS_TAB,shouldShowSlideshowDialog:false,transitionInMS:c('SlideshowConstants').transitions.None};},function(m){switch(m.type){case c('ReactComposerSlideshowActionType').CREATE:l&&l.$ReactComposerSlideshowStore1(m);break;case c('ReactComposerSlideshowActionType').SHOW_SLIDESHOW_EDIT_FIELD:l&&l.$ReactComposerSlideshowStore2(m);break;case c('ReactComposerSlideshowActionType').HIDE_SLIDESHOW_EDIT_FIELD:l&&l.$ReactComposerSlideshowStore3(m);break;case c('ReactComposerSlideshowActionType').TOGGLE_SLIDESHOW_DIALOG:l&&l.$ReactComposerSlideshowStore4(m);break;case c('ReactComposerSlideshowActionType').TRANSITION_CHANGE:l&&l.$ReactComposerSlideshowStore5(m);break;case c('ReactComposerSlideshowActionType').DURATION_CHANGE:l&&l.$ReactComposerSlideshowStore6(m);break;case c('ReactComposerSlideshowActionType').SHOW_EDIT_SLIDESHOW_DIALOG:l&&l.$ReactComposerSlideshowStore7(m);break;case c('ReactComposerSlideshowActionType').CLOSE_EDIT_SLIDESHOW_DIALOG:l&&l.$ReactComposerSlideshowStore8(m);break;case c('ReactComposerSlideshowActionType').SELECT_TAB:l&&l.$ReactComposerSlideshowStore9(m);break;default:break;}});l=this;}k.prototype.$ReactComposerSlideshowStore1=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.isSlideshowSelected=true;n.shouldShowSlideshowDialog=false;n.editState=null;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore9=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.selectedTab=l.tab;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore2=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.isSlideshowSelected=true;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore3=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.isSlideshowSelected=false;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore4=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.shouldShowSlideshowDialog=l.shouldShowSlideshowDialog;n.placement=l.placement;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore5=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.transitionInMS=l.transitionInMS;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore6=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.durationInMS=l.durationInMS;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore7=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m),o={};c('mergeDeepInto')(o,n);n.editState=o;n.shouldShowSlideshowDialog=true;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore8=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.shouldShowSlideshowDialog=false;n.isSlideshowSelected=true;var o=n.editState;n.durationInMS=o.durationInMS;n.transitionInMS=o.transitionInMS;n.editState=null;this.emitChange(m);};k.prototype.isSlideshowSelected=function(l){'use strict';return this.getComposerData(l).isSlideshowSelected;};k.prototype.isEditing=function(l){'use strict';return this.getComposerData(l).editState!==null;};k.prototype.shouldShowSlideshowDialog=function(l){'use strict';return this.getComposerData(l).shouldShowSlideshowDialog;};k.prototype.getPlacement=function(l){'use strict';return this.getComposerData(l).placement;};k.prototype.getDurationInMS=function(l){'use strict';return this.getComposerData(l).durationInMS;};k.prototype.getTotalLength=function(l,m){'use strict';return this.getDurationInMS(l)*m+this.getTransitionInMS(l)*m;};k.prototype.getTransitionInMS=function(l){'use strict';return this.getComposerData(l).transitionInMS;};k.prototype.getSelectedTab=function(l){'use strict';return this.getComposerData(l).selectedTab;};f.exports=new k();}),null);
__d('ReactComposerLoggingStore',['invariant','ReactComposerActionTypes','ReactComposerAlbumActionType','ReactComposerAttachmentActionType','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerDispatcher','ReactComposerFeatureType','ReactComposerLoggingQueue','ReactComposerPerfLogger','ReactComposerPhotoActionType','ReactComposerPhotoStore','ReactComposerMediaUploadActionType','ReactComposerMediaUploadStore','ReactComposerMediaUploadType','ReactComposerScrapedAttachmentStore','ReactComposerSelectedImagesStore','ReactComposerSlideshowActionType','ReactComposerSlideshowStore','ReactComposerStatusStore','ReactComposerStore','ReactComposerStoreBase','ReactComposerTaggerActionType','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerVideoUploadActionType','ComposerPerfEvent','ComposerWaterfallEvent','ComposerXMarauderLogger','ComposerXSessionIDs','immutable','PhotosUploadWaterfallXMixin','PUWApplications','PUWMethods','PUWSteps','classWithMixins','mixin','performanceAbsoluteNow','nullthrows','PhotoUploadFacerecWaterfallTypedLogger','FacerecWaterfallEvent'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('classWithMixins')(c('ReactComposerStoreBase'),c('mixin')(c('PhotosUploadWaterfallXMixin'))));j=i&&i.prototype;function k(){'use strict';var l;j.constructor.call(this,function(){return {activated:false,perfTimes:{},sessionID:null,uniqueEvents:c('immutable').Map([[c('PUWSteps').CLIENT_PUBLISH_SUCCESS,false],[c('PUWSteps').CLIENT_FLOW_SUCCESS,false]])};},function(m){l&&l.handler(m);});l=this;}k.prototype.handler=function(l){'use strict';var m=this.getComposerData(l.composerID);if(!m.activated)return;if(l.suppressWaterfallLogging)return;switch(l.type){case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:this.$ReactComposerLoggingStore1(l);break;case c('ReactComposerActionTypes').COMPOSER_ENTRY:this.$ReactComposerLoggingStore2(l);break;case c('ReactComposerAttachmentActionType').SET_BOOTLOADED:if(c('ReactComposerDispatcher').isDispatching())c('ReactComposerDispatcher').waitFor([c('ReactComposerAttachmentStore').getDispatchToken()]);this.$ReactComposerLoggingStore3(l);break;case c('ReactComposerAttachmentActionType').SET_BOOTSTRAPPED:if(c('ReactComposerDispatcher').isDispatching())c('ReactComposerDispatcher').waitFor([c('ReactComposerAttachmentStore').getDispatchToken()]);this.$ReactComposerLoggingStore4(l);break;case c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_INPUT_CLICKED:this.$ReactComposerLoggingStore5(l);break;case c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_INPUT_DONE:this.$ReactComposerLoggingStore6(l);break;case c('ReactComposerAlbumActionType').CREATE_ALBUM_SELECTOR_CLICKED:this.$ReactComposerLoggingStore7(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_ENQUEUED:this.$ReactComposerLoggingStore8(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_STARTED:this.$ReactComposerLoggingStore9(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_DONE:this.$ReactComposerLoggingStore10(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_FAILED:this.$ReactComposerLoggingStore11(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZER_UNAVAILABLE:this.$ReactComposerLoggingStore12(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_UPLOADING:this.$ReactComposerLoggingStore13(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_DONE:this.$ReactComposerLoggingStore14(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_FAILED:this.$ReactComposerLoggingStore15(l);break;case c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_REMOVE:this.$ReactComposerLoggingStore16(l);break;case c('ReactComposerPhotoActionType').PHOTO_REMOVE:this.$ReactComposerLoggingStore17(l);break;case c('ReactComposerMediaUploadActionType').VIDEO_UPLOAD_ENQUEUED:this.$ReactComposerLoggingStore18(l);break;case c('ReactComposerVideoUploadActionType').VIDEO_UPLOAD_ADD:this.$ReactComposerLoggingStore19(l);break;case c('ReactComposerVideoUploadActionType').VIDEO_UPLOAD_REMOVE:this.$ReactComposerLoggingStore20(l);break;case c('ReactComposerTaggerActionType').DESELECT_TAGGER:this.$ReactComposerLoggingStore21(l);break;case c('ReactComposerTaggerActionType').SET_SELECTED_TAGGER:if(c('ReactComposerDispatcher').isDispatching())c('ReactComposerDispatcher').waitFor([c('ReactComposerTaggerStore').getDispatchToken()]);this.$ReactComposerLoggingStore22(l);break;case c('ReactComposerTaggerActionType').SET_TAGGER_DATA:if(c('ReactComposerDispatcher').isDispatching())c('ReactComposerDispatcher').waitFor([c('ReactComposerTaggerStore').getDispatchToken()]);this.$ReactComposerLoggingStore23(l);break;case c('ReactComposerActionTypes').POST_STARTED:this.$ReactComposerLoggingStore24(l);break;case c('ReactComposerActionTypes').POST_SUCCEEDED:this.$ReactComposerLoggingStore25(l);break;case c('ReactComposerActionTypes').POST_ERROR:this.$ReactComposerLoggingStore26(l);break;case c('ReactComposerMediaUploadActionType').PHOTOS_SELECT:this.$ReactComposerLoggingStore27(l);break;case c('ReactComposerPhotoActionType').PHOTO_EDIT_STARTED:this.$ReactComposerLoggingStore28(l);break;case c('ReactComposerPhotoActionType').PHOTO_EDIT_FINISHED:this.$ReactComposerLoggingStore29(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RETRY:this.$ReactComposerLoggingStore30(l);break;case c('ReactComposerPhotoActionType').PHOTO_ADD_FACEBOX:this.$ReactComposerLoggingStore31(l);break;case c('ReactComposerPhotoActionType').PHOTO_RECOGNITION_ALL_FINISHED:this.$ReactComposerLoggingStore32(l);break;case c('ReactComposerSlideshowActionType').TOGGLE_SLIDESHOW_DIALOG:this.$ReactComposerLoggingStore33(l);break;case c('ReactComposerSlideshowActionType').HIDE_SLIDESHOW_EDIT_FIELD:this.$ReactComposerLoggingStore34(l);break;default:}};k.prototype.getSessionID=function(l){'use strict';return c('ComposerXSessionIDs').getSessionID(l);};k.prototype.isActivated=function(l){'use strict';return this.getComposerData(l).activated;};k.prototype.activate=function(l){'use strict';var m=this.getComposerData(l);m.activated=true;if(c('ReactComposerLoggingQueue').getLength()>0)this.$ReactComposerLoggingStore35();};k.prototype.$ReactComposerLoggingStore2=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore36(m,c('ComposerWaterfallEvent').COMPOSER_ENTRY,{logOncePerSession:true,extraData:{composer_entry_point_name:l.uiElementName}});};k.prototype.$ReactComposerLoggingStore1=function(l){'use strict';var m=this.validateAction(l,['id','currentAttachmentID','composerID']),n=m[0],o=m[1],p=m[2];if(c('ReactComposerAttachmentStore').isSelectedAttachmentActive(p))this.$ReactComposerLoggingStore2(l);if(this.$ReactComposerLoggingStore37(p,n)){this.$ReactComposerLoggingStore38(p,c('ComposerWaterfallEvent').SLIDESHOW_INTENT);}else if(this.$ReactComposerLoggingStore37(p,o))this.$ReactComposerLoggingStore38(p,c('ComposerWaterfallEvent').SLIDESHOW_CANCEL);};k.prototype.$ReactComposerLoggingStore3=function(l){'use strict';var m=this.validateAction(l,['id','composerID']),n=m[0],o=m[1];this.$ReactComposerLoggingStore39(o,c('ComposerPerfEvent').CLIENT_BOOTLOADED,{extraData:{attachment_type:n,duration:c('ReactComposerAttachmentStore').getBootloadDuration(o,n)}});};k.prototype.$ReactComposerLoggingStore4=function(l){'use strict';var m=this.validateAction(l,['id','composerID']),n=m[0],o=m[1];this.$ReactComposerLoggingStore39(o,c('ComposerPerfEvent').CLIENT_BOOTSTRAPPED,{extraData:{attachment_type:n,duration:c('ReactComposerAttachmentStore').getBootstrapDuration(o,n)}});};k.prototype.$ReactComposerLoggingStore7=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore36(m,c('ComposerWaterfallEvent').ALBUM_INTENT);};k.prototype.$ReactComposerLoggingStore33=function(l){'use strict';var m=this.validateAction(l,['composerID','shouldShowSlideshowDialog','photoCount','placement']),n=m[0],o=m[1],p=m[2],q=m[3];if(o){this.$ReactComposerLoggingStore38(n,c('ComposerWaterfallEvent').SLIDESHOW_INTENT,p,q);}else this.$ReactComposerLoggingStore38(n,c('ComposerWaterfallEvent').SLIDESHOW_CANCEL,p,q);};k.prototype.$ReactComposerLoggingStore34=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore38(m,c('ComposerWaterfallEvent').SLIDESHOW_CANCEL);};k.prototype.$ReactComposerLoggingStore5=function(l){'use strict';var m=this.validateAction(l,['composerID','sourceLoggingName']),n=m[0],o=m[1];this.$ReactComposerLoggingStore40(n,c('ReactComposerFeatureType').MEDIA,o);this.$ReactComposerLoggingStore36(n,c('ComposerWaterfallEvent').MEDIA_INTENT);this.$ReactComposerLoggingStore41(n,c('PUWSteps').CLIENT_FLOW_BEGIN,null,{logOncePerSession:true});this.$ReactComposerLoggingStore41(n,c('PUWSteps').CLIENT_SELECT_BEGIN);};k.prototype.$ReactComposerLoggingStore6=function(l){'use strict';var m=this.validateAction(l,['composerID','sourceLoggingName']),n=m[0],o=m[1];this.$ReactComposerLoggingStore42(n,c('ReactComposerFeatureType').MEDIA,o);};k.prototype.$ReactComposerLoggingStore8=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore36(m,c('ComposerWaterfallEvent').PHOTO_ADD);this.$ReactComposerLoggingStore43(m,c('ReactComposerFeatureType').MEDIA);};k.prototype.$ReactComposerLoggingStore9=function(l){'use strict';var m=this.validateAction(l,['composerID','loggingData']),n=m[0],o=m[1];this.$ReactComposerLoggingStore41(n,c('PUWSteps').CLIENT_PROCESS_BEGIN,o);};k.prototype.$ReactComposerLoggingStore10=function(l){'use strict';var m=this.validateAction(l,['composerID','loggingData']),n=m[0],o=m[1];this.$ReactComposerLoggingStore41(n,c('PUWSteps').CLIENT_PROCESS_SUCCESS,o);};k.prototype.$ReactComposerLoggingStore11=function(l){'use strict';var m=this.validateAction(l,['composerID','loggingData']),n=m[0],o=m[1];this.$ReactComposerLoggingStore41(n,c('PUWSteps').CLIENT_PROCESS_FAIL,o);};k.prototype.$ReactComposerLoggingStore12=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore41(m,c('PUWSteps').CLIENT_PROCESS_UNAVAILABLE);};k.prototype.$ReactComposerLoggingStore13=function(l){'use strict';var m=this.validateAction(l,['composerID','fileUpload']),n=m[0],o=m[1];this.$ReactComposerLoggingStore41(n,c('PUWSteps').CLIENT_TRANSFER_BEGIN,{bytes:o.getFile().size});};k.prototype.$ReactComposerLoggingStore14=function(l){'use strict';var m=this.validateAction(l,['composerID','fileUpload','timeToUpload']),n=m[0],o=m[1],p=m[2];this.$ReactComposerLoggingStore36(n,c('ComposerWaterfallEvent').PHOTO_ADD_SUCCESS);this.$ReactComposerLoggingStore41(n,c('PUWSteps').CLIENT_TRANSFER_SUCCESS,{bytes:o.getFile().size,auto_retry_count:o.getRetryCount(),dt:p,custom_tags:{manual_retry:!!o.getFile().manuallyRetried}});};k.prototype.$ReactComposerLoggingStore15=function(l){'use strict';var m=this.validateAction(l,['composerID','fileUpload','error','timeToUpload']),n=m[0],o=m[1],p=m[2],q=m[3];this.$ReactComposerLoggingStore36(n,c('ComposerWaterfallEvent').PHOTO_ADD_FAILURE);this.$ReactComposerLoggingStore41(n,c('PUWSteps').CLIENT_TRANSFER_FAIL,{bytes:o.getFile().size,error_code:p.code,error_info:p.description,auto_retry_count:o.getRetryCount(),dt:q,custom_tags:{manual_retry:!!o.getFile().manuallyRetried}});};k.prototype.$ReactComposerLoggingStore16=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore36(m,c('ComposerWaterfallEvent').PHOTO_REMOVE);this.$ReactComposerLoggingStore43(m,c('ReactComposerFeatureType').MEDIA);this.$ReactComposerLoggingStore41(m,c('PUWSteps').CLIENT_TRANSFER_CANCEL);};k.prototype.$ReactComposerLoggingStore17=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore36(m,c('ComposerWaterfallEvent').PHOTO_REMOVE);this.$ReactComposerLoggingStore43(m,c('ReactComposerFeatureType').MEDIA);};k.prototype.$ReactComposerLoggingStore18=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore43(m,c('ReactComposerFeatureType').MEDIA);};k.prototype.$ReactComposerLoggingStore19=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore36(m,c('ComposerWaterfallEvent').VIDEO_ADD);};k.prototype.$ReactComposerLoggingStore20=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore36(m,c('ComposerWaterfallEvent').VIDEO_REMOVE);this.$ReactComposerLoggingStore43(m,c('ReactComposerFeatureType').MEDIA);};k.prototype.$ReactComposerLoggingStore21=function(l){'use strict';var m=this.validateAction(l,['composerID','taggerID','sourceLoggingName']),n=m[0],o=m[1],p=m[2],q=this.$ReactComposerLoggingStore44(o);!(q!==null)?h(0):void 0;if(q)this.$ReactComposerLoggingStore42(n,q,p);};k.prototype.$ReactComposerLoggingStore22=function(l){'use strict';var m=this.validateAction(l,['composerID','sourceLoggingName']),n=m[0],o=m[1],p=c('ReactComposerTaggerStore').getSelectedTagger(n),event=null;switch(p){case c('ReactComposerTaggerType').PEOPLE:this.$ReactComposerLoggingStore40(n,c('ReactComposerFeatureType').WITH_TAG,o);event=c('ComposerWaterfallEvent').FRIEND_TAG_INTENT;break;case c('ReactComposerTaggerType').LOCATION:this.$ReactComposerLoggingStore40(n,c('ReactComposerFeatureType').LOCATION,o);event=c('ComposerWaterfallEvent').LOCATION_INTENT;break;case c('ReactComposerTaggerType').ACTIVITY:this.$ReactComposerLoggingStore40(n,c('ReactComposerFeatureType').MINUTIAE,o);event=c('ComposerWaterfallEvent').MINUTIAE_INTENT;break;case c('ReactComposerTaggerType').MARKDOWN:event=c('ComposerWaterfallEvent').MARKDOWN_INTENT;break;default:break;}if(event===null)return;this.$ReactComposerLoggingStore36(n,event);};k.prototype.$ReactComposerLoggingStore23=function(l){'use strict';var m=this.validateAction(l,['composerID','taggerID','sourceLoggingName']),n=m[0],o=m[1],p=m[2],q=this.$ReactComposerLoggingStore44(o);!(q!==null)?h(0):void 0;if(q)this.$ReactComposerLoggingStore43(n,q,p);};k.prototype.$ReactComposerLoggingStore24=function(l){'use strict';var m=this.validateAction(l,'composerID'),n=this.getComposerData(m);n.perfTimes.postStartTime=c('performanceAbsoluteNow')();this.$ReactComposerLoggingStore36(m,c('ComposerWaterfallEvent').COMPOSER_POST);if(this.$ReactComposerLoggingStore45(m)){this.$ReactComposerLoggingStore41(m,c('PUWSteps').CLIENT_PUBLISH_BEGIN,this.$ReactComposerLoggingStore46(m));c('ReactComposerPhotoStore').getPhotos(m).forEach(function(o){o.faceboxes.forEach(function(p){return (new (c('PhotoUploadFacerecWaterfallTypedLogger'))().setEvent(c('FacerecWaterfallEvent').CLIENT_PHOTO_PUBLISHED).setPhotoFbid(o.id).setFaceBoxID(p.id).setRecognizedUser(p.recognizedSubjectID).setTaggedUser(p.taggedSubjectID).log());});});}};k.prototype.$ReactComposerLoggingStore25=function(l){'use strict';var m=this.validateAction(l,'composerID'),n=this.getComposerData(m),o=c('ReactComposerAttachmentStore').getSelectedAttachmentID(m);this.$ReactComposerLoggingStore36(m,c('ComposerWaterfallEvent').COMPOSER_POST_SUCCESS);this.$ReactComposerLoggingStore39(m,c('ComposerPerfEvent').CLIENT_POST_SUCCEEDED,{extraData:{attachment_type:c('ReactComposerAttachmentStore').getSelectedAttachmentID(m),duration:c('performanceAbsoluteNow')()-n.perfTimes.postStartTime}});if(this.$ReactComposerLoggingStore37(m,o)){this.$ReactComposerLoggingStore38(m,c('ComposerWaterfallEvent').SLIDESHOW_POST);}else if(this.$ReactComposerLoggingStore45(m)){var p=this.$ReactComposerLoggingStore46(m);this.$ReactComposerLoggingStore41(m,c('PUWSteps').CLIENT_PUBLISH_SUCCESS,p);this.$ReactComposerLoggingStore41(m,c('PUWSteps').CLIENT_FLOW_SUCCESS);}};k.prototype.$ReactComposerLoggingStore26=function(l){'use strict';var m=this.validateAction(l,'composerID'),n=this.getComposerData(m);this.$ReactComposerLoggingStore36(m,c('ComposerWaterfallEvent').COMPOSER_POST_FAILURE);this.$ReactComposerLoggingStore39(m,c('ComposerPerfEvent').CLIENT_POST_FAILED,{extraData:{attachment_type:c('ReactComposerAttachmentStore').getSelectedAttachmentID(m),duration:c('performanceAbsoluteNow')()-n.perfTimes.postStartTime}});if(this.$ReactComposerLoggingStore45(m)){var o=l.response,p=Object.assign(this.$ReactComposerLoggingStore46(m),{error_code:o&&o.getError&&o.getError(),error_info:o&&o.getErrorDescription&&o.getErrorDescription()});this.$ReactComposerLoggingStore41(m,c('PUWSteps').CLIENT_PUBLISH_FAIL,p);}};k.prototype.$ReactComposerLoggingStore27=function(l){'use strict';var m=this.validateAction(l,['composerID','numPhotos','method']),n=m[0],o=m[1],p=m[2],q={method:p,volume:o};this.$ReactComposerLoggingStore41(n,c('PUWSteps').CLIENT_FLOW_BEGIN,null,{logOncePerSession:true});if(p!==c('PUWMethods').FILE_SELECTOR)this.$ReactComposerLoggingStore41(n,c('PUWSteps').CLIENT_SELECT_BEGIN);this.$ReactComposerLoggingStore41(n,c('PUWSteps').CLIENT_SELECT_SUCCESS,q);};k.prototype.$ReactComposerLoggingStore28=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore41(m,c('PUWSteps').CLIENT_PHOTO_EDIT_BEGIN);};k.prototype.$ReactComposerLoggingStore29=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore41(m,c('PUWSteps').CLIENT_PHOTO_EDIT_SUCCESS);};k.prototype.$ReactComposerLoggingStore30=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore41(m,c('PUWSteps').CLIENT_TRANSFER_MANUAL_RETRY);};k.prototype.$ReactComposerLoggingStore31=function(l){'use strict';var m=this.validateAction(l,['photoID','facebox']),n=m[0],o=m[1],p=o.bestRecognition,q=null;if(p)q=p.subjectID;new (c('PhotoUploadFacerecWaterfallTypedLogger'))().setEvent(c('FacerecWaterfallEvent').RECOGNITION_RECEIVED_BY_CLIENT).setPhotoFbid(n).setFaceBoxID(o.id).setRecognizedUser(q).log();};k.prototype.$ReactComposerLoggingStore32=function(l){'use strict';var m=this.validateAction(l,['photos','facerecWaterfallEvent']),n=m[0],o=m[1];n.forEach(function(p){new (c('PhotoUploadFacerecWaterfallTypedLogger'))().setEvent(c('nullthrows')(o)).setPhotoFbid(p).log();});};k.prototype.$ReactComposerLoggingStore37=function(l,m){'use strict';if(!m)return false;var n=m===c('ReactComposerAttachmentType').MEDIA,o=c('ReactComposerSlideshowStore').isSlideshowSelected(l);return n&&o;};k.prototype.$ReactComposerLoggingStore45=function(l){'use strict';var m=c('ReactComposerAttachmentStore').getIsAttachmentSelected(l,c('ReactComposerAttachmentType').MEDIA),n=c('ReactComposerMediaUploadStore').getUploadsOfType(l,c('ReactComposerMediaUploadType').PHOTO);return m&&!!n.size;};k.prototype.$ReactComposerLoggingStore46=function(l){'use strict';var m=c('ReactComposerTaggerStore').getTaggerData(l,c('ReactComposerTaggerType').PEOPLE)||[],n=c('ReactComposerMediaUploadStore').getTotalNumberOfStickersOnPhotos(l);return {volume:c('ReactComposerPhotoStore').getPhotos(l).size,with_tag_count:m.length,sticker_count:n};};k.prototype.$ReactComposerLoggingStore40=function(l,m,n){'use strict';this.$ReactComposerLoggingStore36(l,c('ComposerWaterfallEvent').FEATURE_INTENT,{extraData:{feature_type:m,source:n}});};k.prototype.$ReactComposerLoggingStore43=function(l,m,n){'use strict';this.$ReactComposerLoggingStore36(l,c('ComposerWaterfallEvent').FEATURE_UPDATE,{extraData:{feature_type:m,source:n}});};k.prototype.$ReactComposerLoggingStore42=function(l,m,n){'use strict';this.$ReactComposerLoggingStore36(l,c('ComposerWaterfallEvent').FEATURE_DONE,{extraData:{feature_type:m,source:n}});};k.prototype.$ReactComposerLoggingStore36=function(l,event){var m=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];'use strict';var n=this.getComposerData(l);if(n.uniqueEvents.has(event)){if(n.uniqueEvents.get(event))return;n.uniqueEvents=n.uniqueEvents.set(event,true);}m.extraData=Object.assign({is_markdown_enabled:!!c('ReactComposerTaggerStore').getTaggerData(l,c('ReactComposerTaggerType').MARKDOWN).isMarkdown,payload:this.$ReactComposerLoggingStore47(l)},m.extraData);c('ComposerXMarauderLogger').logEvent(event,l,m);};k.prototype.$ReactComposerLoggingStore39=function(l,event){var m=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];'use strict';var n=this.getComposerData(l);if(n.uniqueEvents.has(event)){if(n.uniqueEvents.get(event))return;n.uniqueEvents=n.uniqueEvents.set(event,true);}c('ReactComposerPerfLogger').logEvent(event,l,m);};k.prototype.$ReactComposerLoggingStore41=function(l,m,n,o,p){'use strict';var q=this.getComposerData(l);if(q.uniqueEvents.has(m)){if(q.uniqueEvents.get(m))return;q.uniqueEvents=q.uniqueEvents.set(m,true);}this.logPUWStep(m,this.getSessionID(l),c('PUWApplications').WEB_REACT_COMPOSER,c('ReactComposerStore').getRef(l),n,o,p);};k.prototype.$ReactComposerLoggingStore38=function(l,m,n,o){'use strict';this.$ReactComposerLoggingStore36(l,m,{extraData:{photo_count:n?n:c('ReactComposerSelectedImagesStore').getNumberOfImages(l),placement:o?o:c('ReactComposerSlideshowStore').getPlacement(l)}});};k.prototype.$ReactComposerLoggingStore35=function(){'use strict';while(c('ReactComposerLoggingQueue').getLength()>0){var l=c('ReactComposerLoggingQueue').pop();this.handler(l);}};k.prototype.$ReactComposerLoggingStore47=function(l){'use strict';return {character:c('ReactComposerStatusStore').getTextLength(l),location_tag:c('ReactComposerTaggerStore').hasLocationTag(l),implicit_location:c('ReactComposerTaggerStore').hasImplicitLocation(l),minutiae:c('ReactComposerTaggerStore').hasMinutiae(l),with_who_tag:c('ReactComposerTaggerStore').getNumberOfWithWhoTags(l),photo:c('ReactComposerMediaUploadStore').getNonsphericalPhotoCount(l),three_sixty_photo:c('ReactComposerMediaUploadStore').getSphericalPhotoCount(l),video:c('ReactComposerMediaUploadStore').getUploadsCount(l,c('ReactComposerMediaUploadType').VIDEO),shared_link:c('ReactComposerScrapedAttachmentStore').hasAttachment(l)?1:0};};k.prototype.$ReactComposerLoggingStore44=function(l){'use strict';switch(l){case c('ReactComposerTaggerType').PEOPLE:return c('ReactComposerFeatureType').WITH_TAG;case c('ReactComposerTaggerType').LOCATION:return c('ReactComposerFeatureType').LOCATION;case c('ReactComposerTaggerType').ACTIVITY:return c('ReactComposerFeatureType').MINUTIAE;case c('ReactComposerTaggerType').MARKDOWN:return c('ReactComposerFeatureType').MARKDOWN;default:return null;}};f.exports=new k();}),null);
__d('ReactComposerMinutiaeAttachmentActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({FETCH_ATTACHMENT:null,SET_EXPLICIT_LOCATION:null,SET_MARKUP:null},'ReactComposerMinutiaeAttachmentActionType');}),null);
__d("XReactComposerMinutiaeAttachmentController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/minutiae\/attachment\/",{composer_id:{type:"String",required:true},action_id:{type:"String",required:true},object_id:{type:"String",required:true},target_id:{type:"String",required:true},is_timeline:{type:"Bool",defaultValue:false},explicit_place_tag_id:{type:"String"}});}),null);
__d('ReactComposerMinutiaeAttachmentStore',['ReactComposerAttachmentActionType','ReactComposerAttachmentType','ReactComposerMinutiaeAttachmentActionType','ReactComposerStoreBase','XReactComposerMinutiaeAttachmentController','AsyncRequest'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {isFetching:false,markup:null,pendingRequest:null,explicitLocation:null};},function(l){switch(l.type){case c('ReactComposerMinutiaeAttachmentActionType').FETCH_ATTACHMENT:k&&k.$ReactComposerMinutiaeAttachmentStore1(l);break;case c('ReactComposerMinutiaeAttachmentActionType').SET_MARKUP:k&&k.$ReactComposerMinutiaeAttachmentStore2(l);break;case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:k&&k.$ReactComposerMinutiaeAttachmentStore3(l);break;case c('ReactComposerMinutiaeAttachmentActionType').SET_EXPLICIT_LOCATION:k&&k.$ReactComposerMinutiaeAttachmentStore4(l);break;}});k=this;}j.prototype.getMarkup=function(k){'use strict';return this.getComposerData(k).markup;};j.prototype.isFetching=function(k){'use strict';return this.getComposerData(k).isFetching;};j.prototype.$ReactComposerMinutiaeAttachmentStore4=function(k){'use strict';var l=this.validateAction(k,['composerID','explicitLocation']),m=l[0],n=l[1],o=this.getComposerData(m);o.explicitLocation=n;this.emitChange(m);};j.prototype.$ReactComposerMinutiaeAttachmentStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','actionID','objectID','targetID','isTimeline']),m=l[0],n=l[1],o=l[2],p=l[3],q=l[4],r=this.getComposerData(m);r.isFetching=true;var s=c('XReactComposerMinutiaeAttachmentController').getURIBuilder().setString('composer_id',m).setString('action_id',n).setString('object_id',o).setString('target_id',p).setBool('is_timeline',q);if(r.explicitLocation)s.setString('explicit_place_tag_id',r.explicitLocation);r.pendingRequest=new (c('AsyncRequest'))(s.getURI()).setFinallyHandler(function(){r.isFetching=false;r.pendingRequest=null;this.emitChange(m);}.bind(this));r.pendingRequest.send();this.emitChange(m);};j.prototype.$ReactComposerMinutiaeAttachmentStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','markup']),m=l[0],n=l[1],o=this.getComposerData(m);o.markup=n;this.emitChange(m);};j.prototype.$ReactComposerMinutiaeAttachmentStore3=function(k){'use strict';var l=this.validateAction(k,['composerID','id']),m=l[0],n=l[1];if(n===c('ReactComposerAttachmentType').STATUS)return;var o=this.getComposerData(m);o.markup=null;o.isFetching=false;o.pendingRequest&&o.pendingRequest.abandon();this.emitChange(m);};f.exports=new j();}),null);
__d('MentionsInputUtility',['DraftEntity','createEditorStateWithEntities'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=new RegExp(/@\[(\d+):((\\\]|[^\]])+)\]/g),i=new RegExp(/@\[(\d+):(\d+):((\\\]|[^\]])+)\]/g),j=function l(m){var n=m.replace(i,'@[$1:$3]'),o=[],p;while(p=h.exec(n)){var q=p[2].replace(/\\:/g,':').replace(/\\]/g,']').replace(/\n/g,''),r={uid:p[1],text:q,offset:p.index,length:q.length,weakreference:false,entity:{uid:p[1],weakreference:false}};o.push(r);n=n.substr(0,r.offset)+r.text+n.substr(r.offset+p[0].length);h.lastIndex=r.offset+r.length;}return {text:n,ranges:o};},k=function l(m,n){var o=this.parseTextWithMentions(m),p=o.text,q=o.ranges;return c('createEditorStateWithEntities')({text:p,ranges:q,decorator:n,entityCreationFn:function r(s){return c('DraftEntity').create('MENTION','IMMUTABLE',{id:s.uid,isWeak:s.weakreference});},splitIntoBlocks:true,allowUndo:true});};f.exports={createFromTextWithMentions:k,parseTextWithMentions:j};}),null);
__d('ReactComposerMultilingualStatusActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({MOUNTED_MULTILINGUAL_STATUS:null,MULTILINGUAL_PROMPT_CLICK:null,MULTILINGUAL_PROMPT_CLOSE:null,LANGUAGE_CREATED:null,LANGUAGE_CHANGED:null,LANGUAGE_REMOVED:null,SET_LANGUAGE_EDITOR_STATE:null,SET_SPECIFIED_POST_LANGUAGE:null,PREFILL_MULTILINGUAL_DATA:null},'ReactComposerMultilingualStatusActionType');}),null);
__d('ReactComposerMultilingualStatusStore',['ReactComposerMultilingualStatusActionType','ReactComposerStoreBase','MentionsInputUtility','getMentionsInputDecorator','getMentionsTextForContentState','immutable'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('immutable').Record({languageDialect:null,editorState:null});h=babelHelpers.inherits(k,c('ReactComposerStoreBase'));i=h&&h.prototype;function k(){'use strict';var l;i.constructor.call(this,function(){return {statuses:c('immutable').List(),specifiedPostLanguage:''};},function(m){switch(m.type){case c('ReactComposerMultilingualStatusActionType').MOUNTED_MULTILINGUAL_STATUS:l&&l.$ReactComposerMultilingualStatusStore1(m);break;case c('ReactComposerMultilingualStatusActionType').LANGUAGE_CREATED:l&&l.$ReactComposerMultilingualStatusStore2(m);break;case c('ReactComposerMultilingualStatusActionType').LANGUAGE_REMOVED:l&&l.$ReactComposerMultilingualStatusStore3(m);break;case c('ReactComposerMultilingualStatusActionType').LANGUAGE_CHANGED:l&&l.$ReactComposerMultilingualStatusStore4(m);break;case c('ReactComposerMultilingualStatusActionType').SET_LANGUAGE_EDITOR_STATE:l&&l.$ReactComposerMultilingualStatusStore5(m);break;case c('ReactComposerMultilingualStatusActionType').SET_SPECIFIED_POST_LANGUAGE:l&&l.$ReactComposerMultilingualStatusStore6(m);break;case c('ReactComposerMultilingualStatusActionType').PREFILL_MULTILINGUAL_DATA:l&&l.$ReactComposerMultilingualStatusStore7(m);break;}});l=this;}k.prototype.getAllPostDialects=function(l){'use strict';var m=this.getLanguageDialects(l);m.push(this.getSpecifiedPostLanguage(l));return m;};k.prototype.getSpecifiedPostLanguage=function(l){'use strict';return this.getComposerData(l).specifiedPostLanguage;};k.prototype.getLanguageDialects=function(l){'use strict';return this.getStatuses(l).map(function(m){return m.languageDialect;}).toArray();};k.prototype.getEditorStates=function(l){'use strict';return this.getStatuses(l).map(function(m){return m.editorState;}).toArray();};k.prototype.getMessages=function(l){'use strict';return this.getStatuses(l).map(function(m){return this.$ReactComposerMultilingualStatusStore8(m);}.bind(this)).toArray();};k.prototype.getMessage=function(l,m){'use strict';var n=this.getStatus(l,m);return this.$ReactComposerMultilingualStatusStore8(n);};k.prototype.getStatuses=function(l){'use strict';return this.getComposerData(l).statuses;};k.prototype.getStatus=function(l,m){'use strict';var n=this.getComposerData(l),o=this.$ReactComposerMultilingualStatusStore9(n.statuses,m);return n.statuses.get(o);};k.prototype.getPostData=function(l){'use strict';var m=this.getMessages(l);if(m.length===0)return {};return {multilingual_specified_lang:this.getSpecifiedPostLanguage(l),multilingual_status_langs:this.getLanguageDialects(l),multilingual_statuses:m};};k.prototype.$ReactComposerMultilingualStatusStore9=function(l,m){'use strict';var n=l.findIndex(function(o){return (o.languageDialect===m);});if(n===-1)throw new Error('Undefined status language dialect: '+m);return n;};k.prototype.$ReactComposerMultilingualStatusStore8=function(l){'use strict';var m=l.editorState.getCurrentContent();return c('getMentionsTextForContentState')(m);};k.prototype.$ReactComposerMultilingualStatusStore2=function(l){'use strict';var m=this.validateAction(l,['composerID','languageDialect','languageConfig']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n),r=new j({languageDialect:o,editorState:p.editorState});q.statuses=q.statuses.push(r);this.emitChange(n);};k.prototype.$ReactComposerMultilingualStatusStore3=function(l){'use strict';var m=this.validateAction(l,['composerID','languageDialect']),n=m[0],o=m[1],p=this.getComposerData(n),q=this.$ReactComposerMultilingualStatusStore9(p.statuses,o);p.statuses=p.statuses.splice(q,1);this.emitChange(n);};k.prototype.$ReactComposerMultilingualStatusStore4=function(l){'use strict';var m=this.validateAction(l,['composerID','oldLanguageDialect','newLanguageDialect']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n),r=this.$ReactComposerMultilingualStatusStore9(q.statuses,o);q.statuses=q.statuses.set(r,new j({languageDialect:p,editorState:q.statuses.get(r).editorState}));this.emitChange(n);};k.prototype.$ReactComposerMultilingualStatusStore5=function(l){'use strict';var m=this.validateAction(l,['composerID','languageDialect','editorState']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n),r=this.$ReactComposerMultilingualStatusStore9(q.statuses,o);q.statuses=q.statuses.set(r,new j({languageDialect:o,editorState:p}));this.emitChange(n);};k.prototype.$ReactComposerMultilingualStatusStore1=function(l){'use strict';this.$ReactComposerMultilingualStatusStore6(l);};k.prototype.$ReactComposerMultilingualStatusStore6=function(l){'use strict';var m=this.validateAction(l,['composerID','languageDialect']),n=m[0],o=m[1],p=this.getComposerData(n);p.specifiedPostLanguage=o;this.emitChange(n);};k.prototype.$ReactComposerMultilingualStatusStore7=function(l){'use strict';var m=this.validateAction(l,['composerID','multilingualData']),n=m[0],o=m[1],p=this.getComposerData(n);p.specifiedPostLanguage=o.specifiedDialect;o.multilingualStatuses.forEach(function(q){p.statuses=p.statuses.push(new j({languageDialect:q.dialect,editorState:c('MentionsInputUtility').createFromTextWithMentions(q.message,c('getMentionsInputDecorator')())}));});this.emitChange(n);};f.exports=new k();}),null);
__d('ReactComposerProfileBadgeActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({SET_HAS_PROFILE_BADGE:null},'ReactComposerProfileBadgeActionType');}),null);
__d('ReactComposerProfileBadgeStore',['ReactComposerStoreBase','ReactComposerTaggerType','ReactComposerProfileBadgeActionType','ReactComposerTaggerActionType'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {hasProfileBadge:false};},function(l){switch(l.type){case c('ReactComposerTaggerActionType').SET_TAGGER_DATA:case c('ReactComposerTaggerActionType').SET_SELECTED_TAGGER:case c('ReactComposerTaggerActionType').DESELECT_TAGGER:k&&k.$ReactComposerProfileBadgeStore1(l);break;case c('ReactComposerProfileBadgeActionType').SET_HAS_PROFILE_BADGE:k&&k.$ReactComposerProfileBadgeStore2(l);break;}});k=this;}j.prototype.hasProfileBadge=function(k){'use strict';return this.getComposerData(k).hasProfileBadge;};j.prototype.$ReactComposerProfileBadgeStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','taggerID']),m=l[0],n=l[1];if(n!==c('ReactComposerTaggerType').ACTIVITY)return;var o=this.getComposerData(m);o.hasProfileBadge=true;this.emitChange(m);};j.prototype.$ReactComposerProfileBadgeStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','hasProfileBadge']),m=l[0],n=l[1],o=this.getComposerData(m);o.hasProfileBadge=n;this.emitChange(m);};f.exports=new j();}),null);
__d('ReactComposerPromptsActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({SET_MINUTIAE_DATA:null,SET_PROMPT_DATA:null,SET_PROMPT_XHP:null},'ReactComposerPromptsActionTypes');}),null);
__d('ReactComposerPromptsStore',['ReactComposerPromptsActionTypes','ReactComposerStoreBase'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {promptData:null,promptXHP:null};},function(l){k&&k.handler(l);});k=this;}j.prototype.handler=function(k){'use strict';switch(k.type){case c('ReactComposerPromptsActionTypes').SET_MINUTIAE_DATA:this.$ReactComposerPromptsStore1(k);break;case c('ReactComposerPromptsActionTypes').SET_PROMPT_DATA:this.$ReactComposerPromptsStore2(k);break;case c('ReactComposerPromptsActionTypes').SET_PROMPT_XHP:this.$ReactComposerPromptsStore3(k);break;default:}};j.prototype.$ReactComposerPromptsStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','minutiaeData']),m=l[0],n=l[1],o=this.getComposerData(m);o.minutiaeData=n;};j.prototype.getMinutiaeData=function(k){'use strict';return this.getComposerData(k).minutiaeData;};j.prototype.$ReactComposerPromptsStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','promptData']),m=l[0],n=l[1],o=this.getComposerData(m);o.promptData=n;};j.prototype.getPromptData=function(k){'use strict';return this.getComposerData(k).promptData;};j.prototype.$ReactComposerPromptsStore3=function(k){'use strict';var l=this.validateAction(k,['composerID','promptXHP']),m=l[0],n=l[1],o=this.getComposerData(m);o.promptXHP=n;this.emitChange(m);};j.prototype.getPromptXHP=function(k){'use strict';return this.getComposerData(k).promptXHP;};f.exports=new j();}),null);
__d("XSlideshowAudioAsyncController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/slideshow\/audio\/",{});}),null);
__d("XSlideshowStorylineMoodAsyncController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/slideshow\/storyline_mood\/",{});}),null);
__d("XSlideshowStorylineMoodUploadController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/slideshow\/storyline_mood\/upload\/",{});}),null);
__d("XSlideshowVideoFrameImagesAsyncController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/slideshow\/frame_images\/",{request_type:{type:"Enum",enumType:0},video_id:{type:"FBID"}});}),null);
__d('SlideshowDataManager',['AsyncRequest','SlideshowConstants','SlideshowFrameImagesRequestType','XSlideshowAudioAsyncController','XSlideshowStorylineMoodAsyncController','XSlideshowStorylineMoodUploadController','XSlideshowVideoFrameImagesAsyncController'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();h.prototype.fetchAudioSource=function(i,j){var k=c('SlideshowConstants').audio_ids[i];if(!k)return;var l=c('XSlideshowAudioAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(l).setData({audio_id:k}).setMethod('POST').setHandler(function(m){return j(m.payload);}).send();};h.prototype.fetchStorylineMoodSource=function(i,j,k){var l=c('XSlideshowStorylineMoodAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(l).setData({storyline_mood_id:i,total_length:j}).setMethod('POST').setHandler(function(m){return k(m.payload);}).send();};h.prototype.fetchStorylineMoodFiles=function(i){var j=c('XSlideshowStorylineMoodAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(j).setMethod('GET').setReadOnly(true).setHandler(function(k){return i(this.getStorylineMoodFiles(k.payload));}.bind(this)).send();};h.prototype.getStorylineMoodFiles=function(i){var j=[];Object.keys(i).forEach(function(k){j.push({moodID:k,fileName:i[k].fileName,categories:i[k].categories,source:null});});return j;};h.prototype.scheduleFrameImagesAsyncJob=function(i){var j=c('XSlideshowVideoFrameImagesAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(j).setData({request_type:c('SlideshowFrameImagesRequestType').SCHEDULE_ASYNC_JOB,video_id:i}).setMethod('POST').send();};h.prototype.fetchVideoFrameImages=function(i,j){var k=c('XSlideshowVideoFrameImagesAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(k).setData({request_type:c('SlideshowFrameImagesRequestType').FETCH_FRAME_IMAGES,video_id:j}).setMethod('POST').setHandler(function(l){return i(l.payload);}).send();};h.prototype.uploadAudioFile=function(i){if(!i||!i.input||!i.input.files.length)return;var j=c('XSlideshowStorylineMoodUploadController').getURIBuilder().getURI(),k=new FormData();k.append('audio_file',i.input.files[0]);new (c('AsyncRequest'))().setURI(j).setRawData(k).setMethod('POST').send();i.clear();};function h(){}f.exports=new h();}),null);
__d('SlideshowUtil',['SlideshowConstants','SlideshowImageUtil'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=1000,i='_',j=2,k={getDurationParam:function l(m,n,o){var p=Math.min(m,c('SlideshowConstants').max_photo_num),q=h*n,r=o*(p-1),s=Math.floor((q-r)/p);return {durationInMS:s,transitionInMS:o};},getAudioFileNameWithSecs:function l(m,n,o){var p=Math.min(o,c('SlideshowConstants').max_photo_num),q=n*p/h;return this.getAudioFileParam(m,q);},getAudioFileParam:function l(m,n){if(m===c('SlideshowConstants').audio_files.None)return m;var o=c('SlideshowConstants').audio_lengths;for(var p=0;p<o.length;p++){var q=o[p];if(n<=q)return m+i+q;}return m+i+o[o.length-1];},getTotalLengthInSec:function l(m,n){var o=Math.min(n,c('SlideshowConstants').max_photo_num);return Math.round(m*o/h);},getTotalNumFramesFromVideo:function l(){return c('SlideshowConstants').frames_from_video.default_num_selected_frames+j;},getSelectedFramesFromVideo:function l(m,n){var o=m.length>=n+2?2:0,p=m.length-o,q=o==2?1:0,r=p+q,s=[],t=Math.max(1,(p-1)/(n-1));while(q<r){s.push(m[Math.floor(q)]);q+=t;}return s;},convertHexToRGB:function l(m){if(!m)return null;m=m.replace('#','');var n=parseInt(m.substring(0,2),16),o=parseInt(m.substring(2,4),16),p=parseInt(m.substring(4,6),16);return [Math.round(255*c('SlideshowImageUtil').getOpacity()),n,o,p];},getTextoverlayParam:function l(m,n){if(!m.textoverlay_content)return [{text_content:' ',textbox_coordinates:[0,0,0,0]}];var o=c('SlideshowImageUtil').getScaleMultiplierFromCrops(n);return [{background_color:k.convertHexToRGB(m.background_color),text_content:' ',textbox_coordinates:c('SlideshowImageUtil').getOuterTextboxCoordinatesForAPI(n,m,o)},{text_content:m.textoverlay_content,textbox_coordinates:c('SlideshowImageUtil').getInnerTextboxCoordinatesForAPI(n,m,o),text_color:k.convertHexToRGB(m.font_color),text_font:m.font,text_weight:m.bold,text_halign:c('SlideshowImageUtil').getHorizontalAlignmentForAPI(m.text_alignment),text_size:c('SlideshowImageUtil').getFontSize(o)}];}};f.exports=k;}),null);
__d('ReactComposerSlideshowAudioStore',['ReactComposerDispatcher','ReactComposerMediaUploadActionType','ReactComposerSelectedImagesStore','ReactComposerSlideshowActionType','ReactComposerSlideshowActions','ReactComposerSlideshowStore','ReactComposerStoreBase','SlideshowConstants','SlideshowDataManager','SlideshowMusicCategory','SlideshowUtil','mergeDeepInto','immutable'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {audioFile:c('SlideshowConstants').audio_files.None,audioFileSource:c('SlideshowConstants').audio_source_none,audioFileToSource:c('immutable').Map({NONE:c('SlideshowConstants').audio_source_none}),editState:null,isPreviewPlaying:false,selectedMusicCategory:c('SlideshowMusicCategory').ALL_TRACKS,selectedStorylineMood:null,storylineMoodFiles:[],storylineMoodIDToSource:new (c('immutable').Map)()};},function(l){switch(l.type){case c('ReactComposerSlideshowActionType').IMAGES_SELECT_CONFIRM:k&&k.$ReactComposerSlideshowAudioStore1(l);k&&k.$ReactComposerSlideshowAudioStore2(l);break;case c('ReactComposerSlideshowActionType').AUDIO_CHANGE:k&&k.$ReactComposerSlideshowAudioStore3(l);k&&k.$ReactComposerSlideshowAudioStore2(l);break;case c('ReactComposerSlideshowActionType').STORYLINE_MOOD_CHANGE:k&&k.$ReactComposerSlideshowAudioStore4(l);k&&k.$ReactComposerSlideshowAudioStore1(l,function(){c('ReactComposerSlideshowActions').previewStateChange(l.composerID,true);});break;case c('ReactComposerSlideshowActionType').SHOW_EDIT_SLIDESHOW_DIALOG:k&&k.$ReactComposerSlideshowAudioStore5(l);break;case c('ReactComposerSlideshowActionType').CLOSE_EDIT_SLIDESHOW_DIALOG:k&&k.$ReactComposerSlideshowAudioStore6(l);break;case c('ReactComposerSlideshowActionType').DURATION_CHANGE:k&&k.$ReactComposerSlideshowAudioStore1(l);k&&k.$ReactComposerSlideshowAudioStore2(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_ENQUEUED:case c('ReactComposerSlideshowActionType').IMAGE_REMOVE:k&&k.$ReactComposerSlideshowAudioStore1(l);k&&k.$ReactComposerSlideshowAudioStore2(l);break;case c('ReactComposerSlideshowActionType').SET_STORYLINE_MOOD_FILES:k&&k.$ReactComposerSlideshowAudioStore7(l);break;case c('ReactComposerSlideshowActionType').AUDIO_SOURCE_CHANGE:k&&k.$ReactComposerSlideshowAudioStore8(l);break;case c('ReactComposerSlideshowActionType').STORYLINE_MOOD_SOURCE_CHANGE:k&&k.$ReactComposerSlideshowAudioStore9(l);break;case c('ReactComposerSlideshowActionType').AUDIO_SOURCE_MAP_CHANGE:k&&k.$ReactComposerSlideshowAudioStore10(l);break;case c('ReactComposerSlideshowActionType').STORYLINE_MOOD_SOURCE_MAP_CHANGE:k&&k.$ReactComposerSlideshowAudioStore11(l);break;case c('ReactComposerSlideshowActionType').MUSIC_CATEGORY_SELECT:k&&k.$ReactComposerSlideshowAudioStore12(l);break;case c('ReactComposerSlideshowActionType').PREVIEW_STATE_CHANGE:k&&k.$ReactComposerSlideshowAudioStore13(l);break;default:break;}});k=this;}j.prototype.$ReactComposerSlideshowAudioStore2=function(k){'use strict';var l=k.composerID;c('ReactComposerDispatcher').waitFor([c('ReactComposerSlideshowStore').getDispatchToken()]);var m=c('ReactComposerSlideshowStore').getDurationInMS(l),n=this.getComposerData(l),o=this.getNumberOfImages(l),p=c('SlideshowUtil').getAudioFileNameWithSecs(n.audioFile,m,o),q=n.audioFileToSource;if(!q.get(p)){c('SlideshowDataManager').fetchAudioSource(p,function(r){c('ReactComposerSlideshowActions').changeAudioFileSource(l,r);q=q.set(p,r);c('ReactComposerSlideshowActions').changeAudioSourceMap(l,q);});return;}n.audioFileSource=q.get(p);this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore1=function(k,l){'use strict';var m=k.composerID,n=this.getComposerData(m),o=n.selectedStorylineMood;if(!o)return;var p=o.moodID,q=this.getNumberOfImages(m),r=this.getTotalLength(m,q),s=this.getStorylineMoodIDToSource(m);c('SlideshowDataManager').fetchStorylineMoodSource(p,r,function(t){c('ReactComposerSlideshowActions').changeStorylineMoodIDSource(m,t);s=s.set(p,t);c('ReactComposerSlideshowActions').changeStorylineMoodSourceMap(m,s);if(l)l();});n.selectedStorylineMood.source=s.get(p);this.emitChange(m);};j.prototype.$ReactComposerSlideshowAudioStore3=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.audioFile=k.audioFile;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore12=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.selectedMusicCategory=k.selectedMusicCategory;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore8=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);if(m.audioFileSource!==k.audioFileSource)m.isPreviewPlaying=false;m.audioFileSource=k.audioFileSource;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore10=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.audioFileToSource=k.audioFileToSource;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore5=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l),n={};c('mergeDeepInto')(n,m);m.editState=n;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore6=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l),n=m.editState;m.audioFile=n.audioFile;m.audioFileSource=n.audioFileSource;m.selectedStorylineMood=n.selectedStorylineMood;m.selectedMusicCategory=n.selectedMusicCategory;m.editState=null;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore4=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.selectedStorylineMood=k.selectedStorylineMood;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore9=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);if(!m.selectedStorylineMood)return;m.selectedStorylineMood.source=k.storylineMoodIDSource;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore11=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.storylineMoodIDToSource=k.storylineMoodIDToSource;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore13=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.isPreviewPlaying=k.isPreviewPlaying;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore7=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.storylineMoodFiles=k.storylineMoodFiles;this.emitChange(l);};j.prototype.getAudioFile=function(k){'use strict';return this.getComposerData(k).audioFile;};j.prototype.getAudioFileSource=function(k){'use strict';return this.getComposerData(k).audioFileSource;};j.prototype.getNumberOfImages=function(k){'use strict';c('ReactComposerDispatcher').waitFor([c('ReactComposerSelectedImagesStore').getDispatchToken()]);return c('ReactComposerSelectedImagesStore').getNumberOfImages(k);};j.prototype.getStorylineMoodFiles=function(k){'use strict';return this.getComposerData(k).storylineMoodFiles;};j.prototype.getSelectedStorylineMood=function(k){'use strict';return this.getComposerData(k).selectedStorylineMood;};j.prototype.getStorylineMoodIDToSource=function(k){'use strict';return this.getComposerData(k).storylineMoodIDToSource;};j.prototype.getSelectedMusicCategory=function(k){'use strict';return this.getComposerData(k).selectedMusicCategory;};j.prototype.getIsPreviewPlaying=function(k){'use strict';return this.getComposerData(k).isPreviewPlaying;};j.prototype.getTotalLength=function(k,l){'use strict';c('ReactComposerDispatcher').waitFor([c('ReactComposerSlideshowStore').getDispatchToken()]);return c('ReactComposerSlideshowStore').getTotalLength(k,l);};f.exports=new j();}),null);
__d('ReactComposerTopicFeedsTaggerActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({USER_ADD_TAG:null,USER_REMOVE_TAG:null,PREFILL_TAGS:null,SERVER_UPDATE_TAGS:null,SET_COMPOSER_FEED_ID:null,SET_PHOTO_AUTO_TAGGING_DELAY:null,SET_PHOTO_POLLING_DURATION:null,SET_PHOTO_POLLING_INTERVAL:null,SET_TAGGER_MOUNTED:null,SET_TEXT_AUTO_TAGGING_DELAY:null,SET_RESHARE_URL:null,SET_DARK_LAUNCH:null,SET_TARGET_ID:null},'ReactComposerTopicFeedsTaggerActionType');}),null);
__d('ReactComposerTopicFeedsTaggerActions',['ReactComposerTopicFeedsTaggerActionType','ReactComposerDispatcher'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();h.prototype.addTag=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,topicID:j,type:c('ReactComposerTopicFeedsTaggerActionType').USER_ADD_TAG});};h.prototype.removeTag=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,topicID:j,type:c('ReactComposerTopicFeedsTaggerActionType').USER_REMOVE_TAG});};h.prototype.setDarkLaunch=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,isDarkLaunch:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_DARK_LAUNCH});};h.prototype.setPhotoAutoTaggingDelay=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,delay:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_PHOTO_AUTO_TAGGING_DELAY});};h.prototype.setPhotoPollingDuration=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,duration:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_PHOTO_POLLING_DURATION});};h.prototype.setPhotoPollingInterval=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,interval:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_PHOTO_POLLING_INTERVAL});};h.prototype.setTaggerMounted=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,isMounted:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_TAGGER_MOUNTED});};h.prototype.setTextAutoTaggingDelay=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,delay:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_TEXT_AUTO_TAGGING_DELAY});};h.prototype.updateTags=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,topics:j,type:c('ReactComposerTopicFeedsTaggerActionType').SERVER_UPDATE_TAGS});};h.prototype.prefillTags=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,topicIDs:j,type:c('ReactComposerTopicFeedsTaggerActionType').PREFILL_TAGS});};h.prototype.setComposerFeedID=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,composerFeedID:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_COMPOSER_FEED_ID});};h.prototype.setReshareURL=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,reshareURL:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_RESHARE_URL});};h.prototype.setTargetID=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,targetID:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_TARGET_ID});};function h(){'use strict';}f.exports=new h();}),null);
__d("XFeedTopicClassifierController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/feed\/topic\/classifier\/",{message:{type:"String",defaultValue:""},place_tag_id:{type:"FBID"},photo_ids:{type:"FBIDVector"},captions:{type:"StringVector"},urls:{type:"StringVector"},session_id:{type:"String"},tagged_profile_ids:{type:"FBIDVector"},mention_ids:{type:"FBIDVector"},mentions:{type:"HackType"},minutiae_action_id:{type:"FBID"},minutiae_object_id:{type:"FBID"},minutiae_object_string:{type:"String"},target_ent_id:{type:"FBID"},topics:{type:"HackType"},use_new_form:{type:"Bool",defaultValue:false},classification_session_id:{type:"String"},sequence_number:{type:"Int"}});}),null);
__d('ReactComposerTopicFeedsAutoTaggingRequester',['AsyncRequest','ReactComposerLoggingStore','ReactComposerMediaUploadType','ReactComposerMediaUploadStore','ReactComposerScrapedAttachmentStore','ReactComposerStatusStore','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerTopicFeedsTaggerActions','ReactComposerTopicFeedsTaggerStore','DraftEntity','EditorState','Map','TopicFeedsComposerTypedLogger','XFeedTopicClassifierController','emptyFunction','uuid'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=5000;function i(){'use strict';this.$ReactComposerTopicFeedsAutoTaggingRequester1=new (c('Map'))();this.$ReactComposerTopicFeedsAutoTaggingRequester2=new (c('Map'))();this.$ReactComposerTopicFeedsAutoTaggingRequester3=new (c('Map'))();this.$ReactComposerTopicFeedsAutoTaggingRequester4=Date.now();}i.prototype.sendThrottledRequest=function(j,k){'use strict';if(this.$ReactComposerTopicFeedsAutoTaggingRequester1.has(j))return;this.$ReactComposerTopicFeedsAutoTaggingRequester1.set(j,setTimeout(function(){this.sendImmediateRequest(j);this.$ReactComposerTopicFeedsAutoTaggingRequester1['delete'](j);}.bind(this),k||h));};i.prototype.sendPhotoPollingRequest=function(j,k,l){'use strict';this.$ReactComposerTopicFeedsAutoTaggingRequester5(j);var m=[];for(var n=l;n<=k;n+=l)m.push(setTimeout(function(){return this.sendImmediateRequest(j);}.bind(this),n));this.$ReactComposerTopicFeedsAutoTaggingRequester2.set(j,m);};i.prototype.$ReactComposerTopicFeedsAutoTaggingRequester5=function(j){'use strict';var k=this.$ReactComposerTopicFeedsAutoTaggingRequester2.get(j);if(k){k.forEach(function(l){clearTimeout(l);});this.$ReactComposerTopicFeedsAutoTaggingRequester2['delete'](j);}};i.prototype.sendImmediateRequest=function(j){'use strict';var k=c('ReactComposerStatusStore').getMessageText(j),l=c('ReactComposerTaggerStore').getTaggerData(j,c('ReactComposerTaggerType').LOCATION),m=l.place&&l.place.getUniqueID(),n=c('ReactComposerMediaUploadStore').getUploadsOfType(j,c('ReactComposerMediaUploadType').PHOTO).map(function(ca){return ca.photoID;}).toArray().filter(function(ca){return ca;}),o=null,p=c('ReactComposerTopicFeedsTaggerStore').getReshareURL(j);if(!p)p=c('ReactComposerScrapedAttachmentStore').getMarkup(j)&&c('ReactComposerScrapedAttachmentStore').getPermissiveMatch(j);if(p)o=[p];var q=this.$ReactComposerTopicFeedsAutoTaggingRequester6(c('ReactComposerStatusStore').getEditorState(j)),r=c('ReactComposerTaggerStore').getTaggerData(j,c('ReactComposerTaggerType').PEOPLE)||[],s=r.map(function(ca){return ca.getUniqueID();}),t=c('ReactComposerTaggerStore').getTaggerData(j,c('ReactComposerTaggerType').ACTIVITY),u=null,v=null,w=null;if(t&&t.action&&t.object){u=t.action.getUniqueID();if(isNaN(t.object.getUniqueID())){w=t.object.getUniqueID();}else v=t.object.getUniqueID();}var x=c('ReactComposerTopicFeedsTaggerStore').getNextPredictionSequenceNumber(j),y=c('ReactComposerTopicFeedsTaggerStore').getTargetID(j),z=c('uuid')(),aa=Date.now(),ba=c('XFeedTopicClassifierController').getURIBuilder().setString('message',k).setFBID('place_tag_id',m).setFBIDVector('photo_ids',n).setHackType('mentions',q).setFBIDVector('tagged_profile_ids',s).setStringVector('urls',o).setString('session_id',c('ReactComposerLoggingStore').getSessionID(j)).setFBID('minutiae_action_id',u).setFBID('minutiae_object_id',v).setString('minutiae_object_string',w).setFBID('target_ent_id',y).setHackType('topics',c('ReactComposerTopicFeedsTaggerStore').getComposerData(j).topicsInfoList.toArray()).setString('classification_session_id',z).setInt('sequence_number',x).getURI();new (c('AsyncRequest'))(ba).setHandler(function(ca){return this.$ReactComposerTopicFeedsAutoTaggingRequester7(ca,j,z,aa,x);}.bind(this)).send();new (c('TopicFeedsComposerTypedLogger'))().setEvent('topic_feeds_composer_predict_start').setComposerID(c('ReactComposerLoggingStore').getSessionID(j)).setClassifySessionID(z).setLinkAttachmentCount(o?o.length:0).setPhotoAttachmentCount(n?n.length:0).setSequenceNumber(x).setClientEventTimeMs(Date.now()).log();};i.prototype.clearAllPendingRequests=function(j){'use strict';if(!this.$ReactComposerTopicFeedsAutoTaggingRequester1.has(j))return;clearTimeout(this.$ReactComposerTopicFeedsAutoTaggingRequester1.get(j));this.$ReactComposerTopicFeedsAutoTaggingRequester5(j);this.$ReactComposerTopicFeedsAutoTaggingRequester1['delete'](j);this.$ReactComposerTopicFeedsAutoTaggingRequester4=Date.now();};i.prototype.updatePostStatus=function(j,k){'use strict';this.$ReactComposerTopicFeedsAutoTaggingRequester3.set(j,k);};i.prototype.$ReactComposerTopicFeedsAutoTaggingRequester7=function(j,k,l,m,n){'use strict';if(!j||!j.payload){new (c('TopicFeedsComposerTypedLogger'))().setEvent('topic_feeds_composer_predict_finish').setComposerID(c('ReactComposerLoggingStore').getSessionID(k)).setClassifySessionID(l).setPredictionDuration(Date.now()-m).setPredictionIsSuccessful(false).setPredictionErrorReason(j?'No data':'No payload').setSequenceNumber(n).setClientEventTimeMs(Date.now()).setIsPredictionApplied(false).log();return;}var o=null,p=true;if(this.$ReactComposerTopicFeedsAutoTaggingRequester3.get(k)){p=false;o='This post has already been submitted.';}else if(m<this.$ReactComposerTopicFeedsAutoTaggingRequester4){p=false;o='Classify start time < Last Request Timestamp';}new (c('TopicFeedsComposerTypedLogger'))().setEvent('topic_feeds_composer_predict_finish').setComposerID(c('ReactComposerLoggingStore').getSessionID(k)).setClassifySessionID(l).setTopicsAutoTagged(j.payload.map(function(q){return q.feed_id;})).setPredictionDuration(Date.now()-m).setPredictionIsSuccessful(true).setPredictionCount(j.payload.length).setSequenceNumber(n).setClientEventTimeMs(Date.now()).setIsPredictionApplied(p).setPredictionErrorReason(o).log();if(p){this.$ReactComposerTopicFeedsAutoTaggingRequester4=m;c('ReactComposerTopicFeedsTaggerActions').updateTags(k,j.payload);}};i.prototype.$ReactComposerTopicFeedsAutoTaggingRequester6=function(j){'use strict';if(!j)return [];var k=j.getCurrentContent(),l=[];k.getBlockMap().forEach(function(m){m.findEntityRanges(c('emptyFunction').thatReturnsTrue,function(n,o){var p=m.getEntityAt(n);if(!p)return;var q=c('DraftEntity').get(p);if(q.getType()!=='MENTION')return;l.push({mention_id:q.getData().id,mention_type:q.getData().type,offset:n,length:o-n});});});return l;};f.exports=new i();}),null);
__d('ReactComposerTopicFeedsTaggerStore',['invariant','ReactComposerActionTypes','ReactComposerDispatcher','ReactComposerMediaUploadActionType','ReactComposerMediaUploadStore','ReactComposerScrapedAttachmentActionType','ReactComposerStatusActionType','ReactComposerStoreBase','ReactComposerTaggerActionType','ReactComposerTaggerType','ReactComposerTopicFeedsTaggerActionType','ReactComposerTopicFeedsAutoTaggingRequester','immutable','TopicFeedsConstant'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('TopicFeedsConstant').DEFAULT_PHOTO_AUTO_TAGGING_DELAY,l=c('TopicFeedsConstant').DEFAULT_PHOTO_POLLING_DURATION,m=c('TopicFeedsConstant').DEFAULT_PHOTO_POLLING_INTERVAL,n=c('TopicFeedsConstant').DEFAULT_TEXT_AUTO_TAGGING_DELAY,o=c('TopicFeedsConstant').TOPIC_CONFIDENCE_USER_ADD,p=c('TopicFeedsConstant').TOPIC_CONFIDENCE_USER_REMOVE,q=c('TopicFeedsConstant').TOPIC_CONFIDENCE_BOOTSTRAP;i=babelHelpers.inherits(r,c('ReactComposerStoreBase'));j=i&&i.prototype;function r(){'use strict';var s=void 0;j.constructor.call(this,function(){return {autoTaggingEnabled:true,photoAutoTaggingDelay:k,photoPollingDuration:l,photoPollingInterval:m,reshareURL:null,sequenceCounter:0,topicsInfoList:c('immutable').List(),taggerEnabled:false,targetID:null,textAutoTaggingDelay:n};},function(t){if(!s)return;var u=s.validateAction(t,'composerID');if(!s.getIsTaggerEnabled(u)&&!s.$ReactComposerTopicFeedsTaggerStore1(t))return;switch(t.type){case c('ReactComposerTopicFeedsTaggerActionType').SET_TAGGER_MOUNTED:s.$ReactComposerTopicFeedsTaggerStore2(t);break;case c('ReactComposerTopicFeedsTaggerActionType').USER_ADD_TAG:s.$ReactComposerTopicFeedsTaggerStore3(t);break;case c('ReactComposerTopicFeedsTaggerActionType').USER_REMOVE_TAG:s.$ReactComposerTopicFeedsTaggerStore4(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SERVER_UPDATE_TAGS:s.$ReactComposerTopicFeedsTaggerStore5(t);break;case c('ReactComposerTopicFeedsTaggerActionType').PREFILL_TAGS:s.$ReactComposerTopicFeedsTaggerStore6(t);break;case c('ReactComposerStatusActionType').SET_EDITOR_STATE:s.$ReactComposerTopicFeedsTaggerStore7(t);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_DONE:c('ReactComposerDispatcher').waitFor([c('ReactComposerMediaUploadStore').getDispatchToken()]);s.$ReactComposerTopicFeedsTaggerStore8(t);break;case c('ReactComposerActionTypes').POST_STARTED:s.$ReactComposerTopicFeedsTaggerStore9(t);break;case c('ReactComposerActionTypes').POST_ERROR:s.$ReactComposerTopicFeedsTaggerStore10(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_COMPOSER_FEED_ID:s.$ReactComposerTopicFeedsTaggerStore11(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_TEXT_AUTO_TAGGING_DELAY:s.$ReactComposerTopicFeedsTaggerStore12(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_PHOTO_AUTO_TAGGING_DELAY:s.$ReactComposerTopicFeedsTaggerStore13(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_PHOTO_POLLING_DURATION:s.$ReactComposerTopicFeedsTaggerStore14(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_PHOTO_POLLING_INTERVAL:s.$ReactComposerTopicFeedsTaggerStore15(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_DARK_LAUNCH:s.$ReactComposerTopicFeedsTaggerStore16(t);break;case c('ReactComposerTaggerActionType').SET_TAGGER_DATA:s.$ReactComposerTopicFeedsTaggerStore17(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_RESHARE_URL:s.$ReactComposerTopicFeedsTaggerStore18(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_TARGET_ID:s.$ReactComposerTopicFeedsTaggerStore19(t);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPED:s.$ReactComposerTopicFeedsTaggerStore20(t);break;}});s=this;}r.prototype.getComposerFeedID=function(s){'use strict';return this.getComposerData(s).composerFeedID;};r.prototype.getUserAddedTopics=function(s){'use strict';return this.getComposerData(s).topicsInfoList.filter(function(t){return t.confidence===o;}).map(function(t){return t.feed_id;});};r.prototype.getUserRemovedTopics=function(s){'use strict';return this.getComposerData(s).topicsInfoList.filter(function(t){return t.confidence===p;}).map(function(t){return t.feed_id;});};r.prototype.getTaggedTopics=function(s){'use strict';return this.getComposerData(s).topicsInfoList.filter(function(t){return t.confidence>0;}).map(function(t){return t.feed_id;});};r.prototype.getIsTaggerEnabled=function(s){'use strict';return this.getComposerData(s).taggerEnabled;};r.prototype.getIsDarkLaunch=function(s){'use strict';return this.getComposerData(s).isDarkLaunch;};r.prototype.getReshareURL=function(s){'use strict';return this.getComposerData(s).reshareURL;};r.prototype.getTargetID=function(s){'use strict';return this.getComposerData(s).targetID;};r.prototype.getNextPredictionSequenceNumber=function(s){'use strict';return ++this.getComposerData(s).sequenceCounter;};r.prototype.$ReactComposerTopicFeedsTaggerStore1=function(s){'use strict';return (s.type===c('ReactComposerTopicFeedsTaggerActionType').SET_TAGGER_MOUNTED||s.type===c('ReactComposerTopicFeedsTaggerActionType').PREFILL_TAGS);};r.prototype.$ReactComposerTopicFeedsTaggerStore2=function(s){'use strict';var t=this.validateAction(s,['composerID','isMounted']),u=t[0],v=t[1],w=this.getComposerData(u);w.taggerEnabled=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore3=function(s){'use strict';var t=this.validateAction(s,['composerID','topicID']),u=t[0],v=t[1],w=this.getComposerData(u),x={feed_id:v,confidence:o,context:''},y=w.topicsInfoList.findIndex(function(aa){return aa.feed_id===v;});if(y>=0){var z=w.topicsInfoList.get(y);!(z.confidence===p)?h(0):void 0;x.context=z.context;w.topicsInfoList=w.topicsInfoList['delete'](y);}w.topicsInfoList=w.topicsInfoList.push(x);w.autoTaggingEnabled=false;c('ReactComposerTopicFeedsAutoTaggingRequester').clearAllPendingRequests(u);this.emitChange(u);};r.prototype.$ReactComposerTopicFeedsTaggerStore4=function(s){'use strict';var t=this.validateAction(s,['composerID','topicID']),u=t[0],v=t[1],w=this.getComposerData(u),x=w.topicsInfoList.findIndex(function(z){return z.feed_id===v;});!(x>=0)?h(0):void 0;var y={feed_id:v,confidence:p,context:w.topicsInfoList.get(x).context};w.topicsInfoList=w.topicsInfoList['delete'](x);w.topicsInfoList=w.topicsInfoList.push(y);c('ReactComposerTopicFeedsAutoTaggingRequester').clearAllPendingRequests(u);c('ReactComposerTopicFeedsAutoTaggingRequester').sendImmediateRequest(u);w.autoTaggingEnabled=false;this.emitChange(u);};r.prototype.$ReactComposerTopicFeedsTaggerStore5=function(s){'use strict';var t=this.validateAction(s,['composerID','topics']),u=t[0],v=t[1],w=this.getComposerData(u);if(w.autoTaggingEnabled){w.topicsInfoList=c('immutable').List(v);this.emitChange(u);}};r.prototype.$ReactComposerTopicFeedsTaggerStore6=function(s){'use strict';var t=this.validateAction(s,['composerID','topicIDs']),u=t[0],v=t[1],w=this.getComposerData(u);w.topicsInfoList=c('immutable').List(v.map(function(x){return {feed_id:x,confidence:q,context:''};}));this.emitChange(u);};r.prototype.$ReactComposerTopicFeedsTaggerStore7=function(s){'use strict';var t=this.validateAction(s,['composerID','editorState']),u=t[0],v=t[1];if(this.getComposerData(u).autoTaggingEnabled&&v.getCurrentContent().getPlainText().length>0)c('ReactComposerTopicFeedsAutoTaggingRequester').sendThrottledRequest(u,this.getComposerData(u).textAutoTaggingDelay);};r.prototype.$ReactComposerTopicFeedsTaggerStore11=function(s){'use strict';var t=this.validateAction(s,['composerID','composerFeedID']),u=t[0],v=t[1];this.getComposerData(u).composerFeedID=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore8=function(s){'use strict';var t=this.validateAction(s,'composerID');if(this.getComposerData(t).autoTaggingEnabled)c('ReactComposerTopicFeedsAutoTaggingRequester').sendPhotoPollingRequest(t,this.getComposerData(t).photoPollingDuration,this.getComposerData(t).photoPollingInterval);};r.prototype.$ReactComposerTopicFeedsTaggerStore9=function(s){'use strict';var t=this.validateAction(s,'composerID');c('ReactComposerTopicFeedsAutoTaggingRequester').clearAllPendingRequests(t);c('ReactComposerTopicFeedsAutoTaggingRequester').updatePostStatus(t,true);this.getComposerData(t).autoTaggingEnabled=false;};r.prototype.$ReactComposerTopicFeedsTaggerStore10=function(s){'use strict';var t=this.validateAction(s,'composerID');this.getComposerData(t).autoTaggingEnabled=true;c('ReactComposerTopicFeedsAutoTaggingRequester').updatePostStatus(t,false);};r.prototype.$ReactComposerTopicFeedsTaggerStore12=function(s){'use strict';var t=this.validateAction(s,['composerID','delay']),u=t[0],v=t[1];this.getComposerData(u).textAutoTaggingDelay=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore13=function(s){'use strict';var t=this.validateAction(s,['composerID','delay']),u=t[0],v=t[1];this.getComposerData(u).photoAutoTaggingDelay=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore14=function(s){'use strict';var t=this.validateAction(s,['composerID','duration']),u=t[0],v=t[1];this.getComposerData(u).photoPollingDuration=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore15=function(s){'use strict';var t=this.validateAction(s,['composerID','interval']),u=t[0],v=t[1];this.getComposerData(u).photoPollingInterval=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore17=function(s){'use strict';var t=this.validateAction(s,['composerID','taggerID','taggerData']),u=t[0],v=t[1],w=t[2];if(v===c('ReactComposerTaggerType').ACTIVITY&&w.object||v===c('ReactComposerTaggerType').PEOPLE&&w.length>0||v===c('ReactComposerTaggerType').LOCATION&&w.place)c('ReactComposerTopicFeedsAutoTaggingRequester').sendImmediateRequest(u);};r.prototype.$ReactComposerTopicFeedsTaggerStore16=function(s){'use strict';var t=this.validateAction(s,['composerID','isDarkLaunch']),u=t[0],v=t[1];this.getComposerData(u).isDarkLaunch=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore18=function(s){'use strict';var t=this.validateAction(s,['composerID','reshareURL']),u=t[0],v=t[1];this.getComposerData(u).reshareURL=v;c('ReactComposerTopicFeedsAutoTaggingRequester').sendImmediateRequest(u);};r.prototype.$ReactComposerTopicFeedsTaggerStore19=function(s){'use strict';var t=this.validateAction(s,['composerID','targetID']),u=t[0],v=t[1];this.getComposerData(u).targetID=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore20=function(s){'use strict';var t=this.validateAction(s,'composerID');c('ReactComposerTopicFeedsAutoTaggingRequester').sendImmediateRequest(t);};f.exports=new r();}),null);
__d('ReactComposerPostDataUtils',['AdsAPITargetFields','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerAudienceStore','ReactComposerCTAStore','ReactComposerCustomConfigStore','ReactComposerLocationAttachmentStore','ReactComposerLoggingStore','ReactComposerMarkdownStore','ReactComposerMediaUploadType','ReactComposerMinutiaeAttachmentStore','ReactComposerMultilingualStatusStore','ReactComposerPhotoStore','ReactComposerPostUtilsCore','ReactComposerProfileBadgeStore','ReactComposerPromptsStore','ReactComposerScrapedAttachmentStore','ReactComposerSessionMetricsStore','ReactComposerStatusStore','ReactComposerStore','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerSelectedImagesStore','ReactComposerSlideshowAudioStore','ReactComposerSlideshowStore','ReactComposerTopicFeedsTaggerStore','PagesComposerBoostedPostsStore','PhotoEditorLoggingConstants','PhotoEditorSaveStates','PlaceAttachmentSetting','PUWApplications','SlideshowUtil','SlideshowConstants','isNumberLike','StorySurfaces'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={getPostData:function i(j){var k=j.composerID,l=j.targetID,m=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').PEOPLE)||[],n=[],o=[];m.forEach(function(xa){n.push(xa.getTitle());o.push(xa.getUniqueID());});var p=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').PRODUCT)||[];p=p.filter(function(xa){return !xa.getAuxiliaryData().isFacebox;});var q=p.map(function(xa){return xa.getUniqueID();}),r=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').ACTIVITY),s=[],t=[],u=[],v;if(r&&r.action&&r.object){s.push(r.action.getUniqueID());v=r.actionIconID;if(c('isNumberLike')(r.object.getUniqueID())){t.push(r.object.getUniqueID());u.push('');}else u.push(r.object.getTitle());}var w=!c('ReactComposerMinutiaeAttachmentStore').getMarkup(k),x=c('ReactComposerLocationAttachmentStore').getMarkup(k)!==null?c('PlaceAttachmentSetting').SHOW_ATTACHMENT:c('PlaceAttachmentSetting').HIDE_ATTACHMENT,y=c('ReactComposerMultilingualStatusStore').getMessages(k),z=c('ReactComposerMultilingualStatusStore').getLanguageDialects(k),aa=c('ReactComposerMultilingualStatusStore').getSpecifiedPostLanguage(k),ba=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').LOCATION),ca=ba?ba.place:null,da=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').BACKDATE)||{},ea={year:this._sanitizeDateField(da.year),month:this._sanitizeDateField(da.month),day:this._sanitizeDateField(da.day),hour:this._sanitizeDateField(da.hour),minute:this._sanitizeDateField(da.minute)},fa=ba&&ba.implicitLocation?ba.implicitLocation.citypageid:null,ga=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').SPONSOR)||[],ha=[];ga.forEach(function(xa){ha.push(xa.getUniqueID());});var ia,ja=c('ReactComposerAudienceStore').getLegacyAudience(k);if(ja)ia=[{value:ja}];var ka=j.useHints,la=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').TARGETING),ma=la?ka?la.hints:la.targeting:null;if(ma){if(!ka&&ma.fan_of)ma.fan_of=ma.fan_of.map(function(xa){return xa.id;});if(ka&&ma[c('AdsAPITargetFields').INTERESTS])ma[c('AdsAPITargetFields').INTERESTS]=ma[c('AdsAPITargetFields').INTERESTS].map(function(xa){return xa.id;});}var na=la?la.gating:null;if(j.composerConfig.contextInfo.stopFeedDistributionDateFormatted){if(!ma)ma={};ma['relevant-until-date']=j.composerConfig.contextInfo.stopFeedDistributionDateFormatted;ma['relevant-until-time']=j.composerConfig.contextInfo.stopFeedDistributionTimeFormatted;}var oa=c('PagesComposerBoostedPostsStore').getConfig(k),pa=c('ReactComposerScrapedAttachmentStore').getAttachmentConfig(k);if(pa===null)pa=c('ReactComposerCTAStore').getAttachmentConfig(k);var qa=!!c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').MARKDOWN).isMarkdown||c('ReactComposerMarkdownStore').isMarkdownEnabled(k),ra=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').CONTENT_WARNINGS);if(ra!=null)ra=ra.map(function(xa){return xa.getUniqueID();});var sa=null;if(!c('ReactComposerTopicFeedsTaggerStore').getIsDarkLaunch(k))sa=c('ReactComposerTopicFeedsTaggerStore').getTaggedTopics(k).toArray();var ta=c('ReactComposerPromptsStore').getPromptData(k),ua=c('ReactComposerCustomConfigStore').isFeedOnlyPost(k)?[c('StorySurfaces').TIMELINE]:null,va=c('ReactComposerSessionMetricsStore').getComposerStartTime(k),wa=null;if(va)wa=Math.round((Date.now()-va)/1000);return Object.assign({action_type_id:s,attachment:pa,backdated_date:ea,boosted_post_config:oa,audience:ia,composer_session_id:c('ReactComposerLoggingStore').getSessionID(k),composer_session_duration:wa,composer_type:j.composerType,composertags_city:fa,composertags_place:ca&&ca.getUniqueID()||fa,composertags_place_name:ca&&ca.getTitle(),composertags_with:o,composertags_sponsors:ha,composertags_product_items:q,content_warnings:ra,feed_targeted_data:ma,feed_topics:sa,hide_object_attachment:w,icon_id:v,is_explicit_place:!!ca,is_markdown:qa,is_q_and_a:c('ReactComposerAttachmentStore').getIsAttachmentSelected(k,c('ReactComposerAttachmentType').QANDA),is_profile_badge_post:c('ReactComposerProfileBadgeStore').hasProfileBadge(k),multilingual_statuses:y,multilingual_status_langs:z,multilingual_specified_lang:aa,num_keystrokes:c('ReactComposerSessionMetricsStore').getKeystrokeCount(k),num_pastes:c('ReactComposerSessionMetricsStore').getPasteCount(k),object_id:t,object_str:u,place_attachment_setting:x,post_surfaces_blacklist:ua,privacyx:c('ReactComposerAudienceStore').getAudience(k),prompt_id:ta?ta.promptID:null,prompt_tracking_string:ta?ta.trackingString:null,ref:c('ReactComposerStore').getRef(k),tagger_session_id:ba&&ba.sessionID,target_type:c('ReactComposerStore').getTargetType(k),targeted_privacy_data:na,text_composertags_with:n,xhpc_message:c('ReactComposerStatusStore').getMessage(k),xhpc_message_text:c('ReactComposerStatusStore').getMessageText(k),is_forced_reshare_of_post:pa&&pa.reshare_original_post,xc_disable_config:{xc_disable_link:pa&&pa.readOnly}},this._getScrapedAttachmentData(pa),c('ReactComposerPostUtilsCore').getCoreData(k,j.composerConfig.contextInfo,l));},getMediaUploadsData:function i(j,k){var l=c('ReactComposerPhotoStore').getPhotos(j);k=k.filter(function(m){return m.mediaType===c('ReactComposerMediaUploadType').VIDEO?true:l.some(function(n){return n.id===m.photoID;});});return this.getMediaDataWithoutFiltering(j,k);},getMediaDataWithoutFiltering:function i(j,k){var l=k.map(function(o){return o.photoID;}).toArray(),m=c('ReactComposerSlideshowStore').isSlideshowSelected(j),n=null;if(m)n=this._getSlideshowSpec(j);return Object.assign({composer_unpublished_photo:l,qn:c('ReactComposerLoggingStore').getSessionID(j),slideshow_spec:n,waterfallxapp:c('PUWApplications').WEB_REACT_COMPOSER,xy_tags:this._getXYTagData(j)},this._getCreativeEditingToolsData(k));},_sanitizeDateField:function i(j){return !j||j===-1||j===0?null:j;},_getSlideshowSpec:function i(j){var k=c('ReactComposerSlideshowAudioStore').getAudioFile(j),l=c('ReactComposerSlideshowAudioStore').getSelectedStorylineMood(j),m=null;if(l!=null)m=l.moodID;var n=c('ReactComposerSlideshowStore').getDurationInMS(j),o=c('ReactComposerSlideshowStore').getTransitionInMS(j),p=c('ReactComposerSelectedImagesStore').getNumberOfImages(j),q=c('SlideshowUtil').getTotalLengthInSec(n,p),r=c('SlideshowUtil').getDurationParam(p,q,o);if(k)k=c('SlideshowUtil').getAudioFileParam(k,q);return {photo_ids:c('ReactComposerSelectedImagesStore').getPhotoIDs(j),images_crops:c('ReactComposerSelectedImagesStore').getImagesCrops(j),audio_file:k,photo_duration:r.durationInMS,photo_transition_duration:r.transitionInMS,storyline_mood_id:m};},_getXYTagData:function i(j){var k=c('ReactComposerPhotoStore').getAllTaggedFaceboxes(j).map(function(m){return {fbid:m.get('photoID'),x:m.get('x'),y:m.get('y'),name:m.get('taggedValue'),subject:m.get('taggedSubjectID'),from_facebox:true,source:m.get('isMagicTag')?'composerx_suggestions':'composerx_flyout'};}),l=c('ReactComposerPhotoStore').getAllXYTags(j).map(function(m){return {fbid:m.get('photoID'),x:m.get('x'),y:m.get('y'),name:m.get('name'),subject:m.get('subject'),from_facebox:m.get('from_facebox'),source:m.get('source')};});return k.concat(l);},_getCreativeEditingToolsData:function i(j){var k={},l={},m={},n={};j.forEach(function(p){var q=p.get('photoID'),r=c('PhotoEditorSaveStates').getLoggingData(p.get('originalPhotoID'));if(r){k[q]=r.hasFilter?true:null;l[q]=r.hasCrop?true:null;m[q]=r.textOverlays;n[q]=r.stickers;}});var o={};o[c('PhotoEditorLoggingConstants').COMPOSER_IMAGE_HAS_FILTER]=k;o[c('PhotoEditorLoggingConstants').COMPOSER_IMAGE_HAS_CROP]=l;o[c('PhotoEditorLoggingConstants').COMPOSER_IMAGE_TEXT_OVERLAY]=m;o[c('PhotoEditorLoggingConstants').COMPOSER_IMAGE_STICKER]=n;return o;},_getScrapedAttachmentData:function i(j){if(!j||!j.params||j.readOnly)return null;return {xc_share_params:JSON.stringify(j.params),xc_share_target_type:j.type,xc_share_images:j.params.images,xc_share_title:j.params.title,xc_share_summary:j.params.summary,xc_link_url:j.params.url};}};f.exports=h;}),null);
__d("PhotoEditorImageData",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j,k,l,m){"use strict";this.r=j;this.g=k;this.b=l;this.a=m;}h.fromArray=function(j,k){return new h(j[k],j[k+1],j[k+2],j[k+3]);};function i(j){"use strict";this.image_data=j;this.width=j.width;this.height=j.height;this.array=j.data;}i.prototype.getData=function(){"use strict";return this.image_data;};i.prototype.getWidth=function(){"use strict";return this.width;};i.prototype.getHeight=function(){"use strict";return this.height;};i.prototype.getPixel=function(j,k){"use strict";var l=this.getIndex(j,k);return h.fromArray(this.array,l);};i.prototype.setPixel=function(j,k,l){"use strict";var m=this.getIndex(j,k);this.array[m]=l.r;this.array[m+1]=l.g;this.array[m+2]=l.b;this.array[m+3]=l.a;};i.prototype.getIndex=function(j,k){"use strict";return 4*(j+k*this.width);};i.prototype.forEach=function(j){"use strict";for(var k=0;k<this.getWidth();k++)for(var l=0;l<this.getHeight();l++)this.setPixel(k,l,j(this.getPixel(k,l)));};i.Pixel=h;f.exports=i;}),null);
__d('PhotoEditorCanvas',['BlobFactory','DOM','PhotoEditorImageData','PhotoResizeModeConst','Vector','sprintf'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this._editor=i;this._canvas=c('DOM').create('canvas');this._ctx=this._canvas.getContext('2d');this._drawHandler=null;}h.prototype.setImageContent=function(i){'use strict';this._canvas.width=i.width;this._canvas.height=i.height;this._ctx.drawImage(i,0,0);return this;};h.prototype.drawGraphic=function(){'use strict';this._ctx.drawImage.apply(this._ctx,arguments);return this;};h.prototype.isBlobSupported=function(){'use strict';return !!this._canvas.toBlob;};h.prototype.getElement=function(){'use strict';return this._canvas;};h.prototype.getDimensions=function(){'use strict';return new (c('Vector'))(this._canvas.width,this._canvas.height,'document');};h.prototype.getWidth=function(){'use strict';return this._canvas.width;};h.prototype.getHeight=function(){'use strict';return this._canvas.height;};h.prototype.getContext=function(){'use strict';return this._ctx;};h.prototype.setWidth=function(i){'use strict';this._canvas.width=i;return this;};h.prototype.setHeight=function(i){'use strict';this._canvas.height=i;return this;};h.prototype.toBlob=function(i){'use strict';if(this.isBlobSupported()){this._canvas.toBlob(i);return;}this.getBlobFromDataURL(i);};h.prototype.getBlobFromDataURL=function(i){'use strict';var j=this.toDataURL('image/png'),k=j.match(/^data:(.*?);base64,/),l=k[1],m=j.substr(k[0].length),n=b.atob(m),o=new ArrayBuffer(n.length),p=new Uint8Array(o);for(var q=0;q<n.length;q++)p[q]=n.charCodeAt(q);var r=c('BlobFactory').getBlob([o],{type:l});i(r);};h.prototype.toBlobURL=function(i){'use strict';this.toBlob(function(j){i(b.URL.createObjectURL(j));});};h.prototype.toURL=function(i){'use strict';if(this.isBlobSupported()){this.toBlobURL(i);return;}i(this.toDataURL());};h.prototype.toDataURL=function(i){'use strict';return this._canvas.toDataURL(i);};h.prototype.resizedCopy=function(i,j){'use strict';var k=i.x/this.getWidth(),l=i.y/this.getHeight();if(j==c('PhotoResizeModeConst').CONTAIN){if(k>l){return this.scaledCopy(l);}else return this.scaledCopy(k);}else if(j==c('PhotoResizeModeConst').COVER){if(k<l){return this.scaledCopy(l);}else return this.scaledCopy(k);}else throw new Error('mode must be one of PhotoResizeModeConst');};h.prototype.scaledCopy=function(i){'use strict';var j=this._canvas.width*i,k=this._canvas.height*i;return new h().setWidth(j).setHeight(k).drawGraphic(this._canvas,0,0,j,k);};h.prototype.copy=function(){'use strict';return this.scaledCopy(1);};h.prototype.getPixelColor=function(i,j,k){'use strict';var l=new (c('PhotoEditorImageData'))(this.getImageData(i,j,1,1)).getPixel(0,0);if(k)l=k(l);return c('sprintf')('rgba(%s,%s,%s,%s)',l.r,l.g,l.b,l.a);};h.prototype.getImageData=function(i,j,k,l){'use strict';return this._ctx.getImageData(i||0,j||0,k||this.getWidth(),l||this.getHeight());};h.prototype.putImageData=function(i,j,k){'use strict';this._ctx.putImageData(i,j||0,k||0);return this;};h.prototype.toDataURI=function(){'use strict';return this._canvas.toDataURL('image/png');};h.prototype.toBase64=function(){'use strict';var i='data:image/png;base64,',j=this.toDataURI();return j.slice(i.length);};h.prototype.applyFilter=function(i,j){'use strict';this.putImageData(new i(this).run(j));};h.prototype.enableDrawing=function(i,j){'use strict';if(!this._editor)return;this.disableDrawing();this._drawHandler=new i(this._editor,j).start();return this._drawHandler;};h.prototype.setDrawingFillStyle=function(i){'use strict';if(!this._drawHandler)return;this._drawHandler.setFillStyle(i);};h.prototype.setFillStyle=function(i){'use strict';this._ctx.fillStyle=i;};h.prototype.disableDrawing=function(){'use strict';if(!this._drawHandler)return;this._drawHandler.stop();this._drawHandler=null;};h.prototype.clear=function(){'use strict';this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height);return this;};h.prototype.crop=function(i,j,k,l){'use strict';var m=new h().setWidth(k).setHeight(l);m.drawGraphic(this._canvas,Math.max(0,i),Math.max(0,j),k,l,0,0,k,l);this.setImageContent(m.getElement());return this;};h.prototype.fillText=function(i,j,k,l,m,n){'use strict';this._ctx.font=j;if(n){this._canvas.width=this._ctx.measureText(i).width;this._ctx.font=j;}this._ctx.textBaseline='top';this._ctx.fillStyle=k;this._ctx.fillText(i,l,m);return this;};h.prototype.fillCircle=function(i,j,k,l){'use strict';this._ctx.fillStyle=l||'black';this._ctx.beginPath();this._ctx.arc(i,j,k,0,Math.PI*2);this._ctx.closePath();this._ctx.fill();};h.prototype.fillRect=function(i,j,k,l,m){'use strict';this._ctx.fillStyle=m||'black';this._ctx.fillRect(i||0,j||0,k||this._canvas.width,l||this._canvas.height);return this;};f.exports=h;}),null);
__d('PhotoEditorFont',['PhotoEditorConfig','sprintf'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('PhotoEditorConfig').Constants;function i(j,k,l){'use strict';this.$PhotoEditorFont1=j||h.DEFAULT_FONT_FAMILY;this.$PhotoEditorFont2=k||h.DEFAULT_FONT_SIZE;this.$PhotoEditorFont3=l||h.DEFAULT_FONT_METRIC;}i.prototype.setFamily=function(j){'use strict';this.$PhotoEditorFont1=j;};i.prototype.getFamily=function(){'use strict';return this.$PhotoEditorFont1;};i.prototype.setSize=function(j){'use strict';this.$PhotoEditorFont2=j;};i.prototype.getSize=function(){'use strict';return this.$PhotoEditorFont2;};i.prototype.setMetric=function(j){'use strict';this.$PhotoEditorFont3=j;};i.prototype.getMetric=function(){'use strict';return this.$PhotoEditorFont3;};i.prototype.toString=function(){'use strict';return c('sprintf')('%s%s %s',this.$PhotoEditorFont2,this.$PhotoEditorFont3,this.$PhotoEditorFont1);};i.prototype.copy=function(){'use strict';return new i(this.$PhotoEditorFont1,this.$PhotoEditorFont2,this.$PhotoEditorFont3);};i.getDefault=function(){return new i();};f.exports=i;}),null);
__d('PhotoEditorGraphic',['cx','ArbiterMixin','PhotoEditorCanvas','CSS','DOM','Draggable','Event','PhotoEditorFont','Rect','SimpleDrag','Style','SubscriptionsHandler','UserAgent_DEPRECATED','Vector','clamp','emptyFunction','mixin','throttle'],(function a(b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q,r;if(c.__markCompiled)c.__markCompiled();var s=0,t=[],u=.7,v=.25,w=30,x=50,y=4,z=.8,aa=150,ba=5,ca=function ma(na){return {'-webkit-transform':na,'-moz-transform':na,'-ms-transform':na,transform:na};},da=function ma(na,oa){var pa=na.x*oa.x+na.y*oa.y,qa=pa/(na.magnitude()*oa.magnitude());qa=c('clamp')(qa,-1,1);var ra=Math.acos(qa)*(180/Math.PI),sa=na.x*oa.y-oa.x*na.y;if(sa<0)ra*=-1;return ra;};function ea(){'use strict';this.root=c('DOM').create('div');c('CSS').addClass(this.root,"_5g8y");c('CSS').addClass(this.root,"_5a2z");var ma=c('DOM').create('div');c('CSS').addClass(ma,"_2fb7");c('CSS').addClass(ma,"_5a2-");this.root.appendChild(ma);this.$FreeFormEditButton1=c('emptyFunction');this.$FreeFormEditButton2=c('emptyFunction');this.$FreeFormEditButton3=c('emptyFunction');var na=new (c('SimpleDrag'))(this.root);na.subscribe('start',function(oa,event){if(event.button!==0)return false;this.$FreeFormEditButton4=true;c('CSS').addClass(this.root,"_2fb8");this.$FreeFormEditButton1(event);}.bind(this));na.subscribe('update',c('throttle')(this.$FreeFormEditButton5,w,this));na.subscribe('end',function(oa,event){this.$FreeFormEditButton4=false;c('CSS').removeClass(this.root,"_2fb8");c('Style').apply(this.root,ca('translate(50%, -50%)'));this.$FreeFormEditButton2(event);}.bind(this));}ea.prototype.$FreeFormEditButton5=function(ma,event){'use strict';if(!this.$FreeFormEditButton4)return;this.$FreeFormEditButton3(event);};ea.prototype.setDragStartHandler=function(ma){'use strict';this.$FreeFormEditButton1=ma;return this;};ea.prototype.setDragMoveHandler=function(ma){'use strict';this.$FreeFormEditButton3=ma;return this;};ea.prototype.setDragEndHandler=function(ma){'use strict';this.$FreeFormEditButton2=ma;return this;};ea.prototype.getElement=function(){'use strict';return this.root;};function fa(){'use strict';this.$DOMDrawer1=new (c('Vector'))();this.$DOMDrawer2=new XMLSerializer();this.$DOMDrawer3=undefined;}fa.prototype.setDimensions=function(ma){'use strict';this.$DOMDrawer1=ma;return this;};fa.prototype.render=function(ma){'use strict';var na='<svg xmlns="http://www.w3.org/2000/svg" '+'width="'+this.$DOMDrawer1.x+'" '+'height="'+this.$DOMDrawer1.y+'">'+'<foreignObject width="100%" height="100%">'+'<div xmlns="http://www.w3.org/1999/xhtml">'+this.$DOMDrawer2.serializeToString(ma)+'</div>'+'</foreignObject>'+'</svg>',oa=new Image();oa.width=this.$DOMDrawer1.x;oa.height=this.$DOMDrawer1.y;oa.src=this.$DOMDrawer4(na);return oa;};fa.prototype.$DOMDrawer4=function(ma){'use strict';return 'data:image/svg+xml;base64,'+b.btoa(ma);};i=babelHelpers.inherits(ga,c('mixin')(c('ArbiterMixin')));j=i&&i.prototype;function ga(ma,na,oa){'use strict';j.constructor.call(this);this.id=s++;this.photoEditor=ma;t.push(this);this.root=c('DOM').create('div');this.maxWidth=na;this.maxHeight=oa;c('CSS').addClass(this.root,"_55gm");var pa=c('DOM').create('div');c('CSS').addClass(pa,"_5g8y");c('CSS').addClass(pa,"_bbn");var qa=c('DOM').create('div');c('CSS').addClass(qa,"_2fb7");c('CSS').addClass(qa,"_bbo");pa.appendChild(qa);this.root.appendChild(pa);this.$Graphic1=c('DOM').create('div');c('CSS').addClass(this.$Graphic1,"_5lzw");this.$Graphic1.appendChild(this.root);this.$Graphic2=new (c('Vector'))(0,0,'document');this.subscriptionsHandler=new (c('SubscriptionsHandler'))();this.subscriptionsHandler.addSubscriptions(c('Event').listen(pa,'click',this.remove.bind(this)),c('Event').listen(pa,'mousedown',function(event){c('CSS').addClass(pa,"_2fb8");event.stopPropagation();}),c('Event').listen(pa,'mouseleave',function(event){c('CSS').removeClass(pa,"_2fb8");}));}ga.prototype.serialize=function(){'use strict';var ma=this.getPos(),na=this.getDimensions(),oa=this.photoEditor.getCanvasDimensions();return {type:this.constructor,left:ma.x/oa.x,top:ma.y/oa.y,width:na.x/oa.x,height:na.y/oa.y,rotation:this.getRotation()};};ga.prototype.initFromSerializedState=function(ma){'use strict';var na=this.photoEditor.getCanvasDimensions();this.setDimensions(new (c('Vector'))(ma.width*na.x,ma.height*na.y));this.setPos(new (c('Vector'))(ma.left*na.x,ma.top*na.y));this.setRotation(ma.rotation);};ga.prototype.onActive=function(){'use strict';this.__draggable=this.__draggable||new (c('Draggable'))(this.$Graphic1).setUseAbsolute(true).setUseScroller(false).addHandle(this.root).setDragHandler(this.onDrag.bind(this)).setDropHandler(this.onDrop.bind(this));c('CSS').addClass(this.root,"_36w9");this.updateDraggableBoundingBox();};ga.prototype.onInactive=function(){'use strict';this.__draggable&&this.__draggable.destroy();this.__draggable=null;c('CSS').removeClass(this.root,"_36w9");};ga.prototype.updateDraggableBoundingBox=function(){'use strict';if(this.__draggable){var ma=this.getDimensions(),na=this.photoEditor.getGraphicsLayer(),oa=c('Vector').getElementPosition(na),pa=c('Vector').getElementDimensions(na),qa=new (c('Rect'))(oa.y-ma.y,oa.x+pa.x+ma.x,oa.y+pa.y+ma.y,oa.x-ma.x);this.__draggable.setBoundingBox(qa);}};ga.prototype.onBeforeSuddenTransformation=function(){'use strict';};ga.prototype.onAfterSuddenTransformation=function(){'use strict';};ga.prototype.getElement=function(){'use strict';return this.$Graphic1;};ga.prototype.getInitialDimensions=function(){'use strict';return new (c('Vector'))(this.maxWidth,this.maxHeight,'document').mul(v);};ga.prototype.getPos=function(){'use strict';return this.$Graphic2;};ga.prototype.getCenterPos=function(){'use strict';return this.getPos().add(this.getDimensions().div(2));};ga.prototype.getCenterCoordinates=function(){'use strict';return c('Vector').getElementPosition(this.$Graphic1).add(this.getDimensions().div(2));};ga.prototype.isRemoved=function(){'use strict';return !this.$Graphic1.parentNode;};ga.prototype.setPos=function(ma){'use strict';this.$Graphic2=ma;c('Style').apply(this.$Graphic1,{left:this.$Graphic2.x+'px',top:this.$Graphic2.y+'px'});};ga.prototype.updatePos=function(){'use strict';this.setPos(this.getNewPos());};ga.prototype.getNewPos=function(){'use strict';return new (c('Vector'))(c('Style').get(this.$Graphic1,'left'),c('Style').get(this.$Graphic1,'top'));};ga.prototype.setDimensions=function(ma){'use strict';c('Style').apply(this.root,{width:ma.x+'px',height:ma.y+'px'});this.updateDraggableBoundingBox();};ga.prototype.remove=function(event){'use strict';this.subscriptionsHandler.release();c('DOM').remove(this.$Graphic1);this.photoEditor.removeGraphic(this);};ga.prototype.getDrawableObj=function(){'use strict';};ga.prototype.getDimensions=function(){'use strict';return c('Vector').getElementDimensions(this.$Graphic1);};ga.prototype.getDimensionsForDrawable=function(){'use strict';return c('Vector').getElementDimensions(this.root);};ga.prototype.getRotation=function(){'use strict';return 0;};ga.prototype.setRotation=function(ma){'use strict';};ga.prototype.onDrag=function(ma){'use strict';};ga.prototype.onDrop=function(ma){'use strict';this.updatePos();};k=babelHelpers.inherits(ha,ga);l=k&&k.prototype;function ha(ma,na,oa,pa,qa){'use strict';l.constructor.call(this,ma,oa,pa);this.$ImageGraphic1=c('DOM').create('div');c('CSS').addClass(this.$ImageGraphic1,"_36wa");this.root.appendChild(this.$ImageGraphic1);this.$ImageGraphic2=oa/pa;this.$ImageGraphic3=0;this.$ImageGraphic4=0;this.$ImageGraphic5=true;this.$ImageGraphic6=true;this.$ImageGraphic7=Math.sqrt(2);this.$ImageGraphic8=false;this.$ImageGraphic9=new Image();this.$ImageGraphic9.crossOrigin='anonymous';c('Style').apply(this.$ImageGraphic9,{maxWidth:oa+'px',maxHeight:pa+'px'});c('CSS').addClass(this.root,"_55jn");c('CSS').addClass(this.root,'loading');this.$ImageGraphic10=c('DOM').create('div');c('CSS').addClass(this.$ImageGraphic10,"_5a2y");if(!qa)this.$ImageGraphic11();this.subscriptionsHandler.addSubscriptions(c('Event').listen(this.$ImageGraphic9,'load',this.$ImageGraphic12.bind(this)),c('Event').listen(this.root,'dragenter',c('Event').prevent),c('Event').listen(this.root,'dragover',c('Event').prevent),c('Event').listen(this.$ImageGraphic1,'mousedown',this.$ImageGraphic13.bind(this)));this.$ImageGraphic9.src=na;this.imageURL=na;this.setDimensions(this.getInitialDimensions());}ha.prototype.serialize=function(){'use strict';return babelHelpers['extends']({},l.serialize.call(this),{imageURL:this.imageURL});};ha.prototype.getDrawableObj=function(){'use strict';return this.$ImageGraphic9;};ha.prototype.onDragStart=function(ma){'use strict';l.onDragStart.call(this,ma);ma.dataTransfer.setData('text/plain',this.$ImageGraphic9.src);};ha.prototype.$ImageGraphic11=function(){'use strict';var ma=new ea();this.$ImageGraphic10.appendChild(ma.getElement());this.root.appendChild(this.$ImageGraphic10);this.subscriptionsHandler.addSubscriptions(c('Event').listen(ma.getElement(),'mousedown',function(event){event.stopPropagation();}));ma.setDragStartHandler(function(){this.$ImageGraphic14=this.getCenterCoordinates();this.$ImageGraphic15();}.bind(this)).setDragMoveHandler(this.$ImageGraphic16.bind(this)).setDragEndHandler(function(){this.$ImageGraphic3=this.$ImageGraphic4;this.$ImageGraphic17();this.$ImageGraphic18();}.bind(this));this.$ImageGraphic19=ma;};ha.prototype.$ImageGraphic16=function(event){'use strict';var ma=c('Vector').getEventPosition(event),na=this.getDimensions(),oa=na.magnitude(),pa=na.div(oa),qa=this.$ImageGraphic14,ra=qa.distanceTo(ma),sa=this.photoEditor.getCanvasDimensions(),ta=Math.max(sa.x,sa.y),ua=c('clamp')(ra*2,x,ta)*this.$ImageGraphic7,va=pa.mul(ua);va.x=va.y*this.$ImageGraphic20;var wa=va.sub(na);if(wa.magnitude()>y){var xa=this.getPos().sub(wa.div(2));this.setDimensions(va);this.setPos(xa);}if(this.$ImageGraphic5===true){var ya=ma.sub(qa),za=pa.mul(1,-1),ab=da(za,ya);this.$ImageGraphic21(ab);}this.updatePos();};ha.prototype.$ImageGraphic21=function(ma){'use strict';this.$ImageGraphic4=this.$ImageGraphic3+ma;c('Style').apply(this.$ImageGraphic1,ca('rotate('+this.$ImageGraphic4+'deg)'));this.$ImageGraphic22(this.$ImageGraphic23+ma);c('Style').apply(this.$ImageGraphic19.getElement(),ca('translate(50%, -50%) rotate('+ma+'deg)'));};ha.prototype.$ImageGraphic18=function(){'use strict';this.$ImageGraphic22(this.$ImageGraphic23);};ha.prototype.$ImageGraphic17=function(){'use strict';c('Style').set(this.$ImageGraphic10,'transition','transform 0.3s cubic-bezier(.08,.98,.15,1.09)');};ha.prototype.$ImageGraphic15=function(){'use strict';c('Style').set(this.$ImageGraphic10,'transition','');};ha.prototype.$ImageGraphic22=function(ma){'use strict';c('Style').apply(this.$ImageGraphic10,ca('rotate('+ma+'deg) '+'translateX('+this.getDimensions().magnitude()/(2*this.$ImageGraphic7)+'px) '+'rotate('+ -1*ma+'deg)'));};ha.prototype.$ImageGraphic13=function(event){'use strict';this.photoEditor.setActiveGraphic(this);};ha.prototype.$ImageGraphic12=function(){'use strict';c('CSS').removeClass(this.root,'loading');c('CSS').addClass(this.root,'loaded');this.$ImageGraphic2=this.$ImageGraphic9.width/this.$ImageGraphic9.height;var ma=new (c('PhotoEditorCanvas'))();ma.setImageContent(this.$ImageGraphic9);c('Style').set(this.$ImageGraphic1,'backgroundImage','url('+ma.toDataURL()+')');this.setDimensions(this.getDimensions());this.updatePos();this.inform('loaded');};ha.prototype.setPos=function(ma){'use strict';l.setPos.call(this,ma);var na=this.$ImageGraphic24();c('Style').apply(this.$ImageGraphic1,{left:na.x+'px',top:na.y+'px'});};ha.prototype.setDimensions=function(ma){'use strict';this.$ImageGraphic20=this.$ImageGraphic6?1:ma.x/ma.y;c('Style').apply(this.root,{height:(this.$ImageGraphic6?ma.x:ma.y)+'px',width:ma.x+'px'});this.$ImageGraphic23=-Math.atan2(ma.y,ma.x)*180/Math.PI;var na=this.getImageScale(),oa=new (c('Vector'))(ma.x,this.$ImageGraphic6?ma.x:ma.y).mul(na.x,na.y);c('Style').apply(this.$ImageGraphic1,{height:Math.round(oa.y)+'px',width:Math.round(oa.x)+'px'});this.$ImageGraphic18();this.updateDraggableBoundingBox();};ha.prototype.getImageScale=function(){'use strict';var ma=this.$ImageGraphic2>1?new (c('Vector'))(1,1/this.$ImageGraphic2):new (c('Vector'))(this.$ImageGraphic2,1);return ma.mul(u);};ha.prototype.$ImageGraphic24=function(){'use strict';var ma=this.getDimensions(),na=this.getDimensionsForDrawable();return ma.sub(na).div(2);};ha.prototype.getInitialDimensions=function(){'use strict';var ma=Math.min(this.maxWidth,this.maxHeight);return new (c('Vector'))(ma,ma,'document').mul(v);};ha.prototype.getDimensionsForDrawable=function(){'use strict';return c('Vector').getElementDimensions(this.$ImageGraphic1);};ha.prototype.getRotation=function(){'use strict';return this.$ImageGraphic4;};ha.prototype.setRotation=function(ma){'use strict';this.$ImageGraphic3=this.$ImageGraphic4=ma;c('Style').apply(this.$ImageGraphic1,ca('rotate('+this.$ImageGraphic3+'deg)'));};ha.prototype.setAllowRotation=function(ma){'use strict';this.$ImageGraphic5=ma;return this;};ha.prototype.setCircleBoundingBox=function(ma){'use strict';this.$ImageGraphic6=ma;this.$ImageGraphic7=ma?Math.sqrt(2):1;return this;};ha.prototype.onBeforeSuddenTransformation=function(){'use strict';this.$ImageGraphic15();};ha.prototype.onAfterSuddenTransformation=function(){'use strict';this.$ImageGraphic17();};m=babelHelpers.inherits(ia,ha);n=m&&m.prototype;function ia(ma,na,oa,pa,qa,ra){'use strict';n.constructor.call(this,ma,oa,pa,qa,ra);this.$StickerGraphic1=na;}ia.prototype.serialize=function(){'use strict';return babelHelpers['extends']({},n.serialize.call(this),{sticker_id:this.$StickerGraphic1});};o=babelHelpers.inherits(ja,ga);p=o&&o.prototype;function ja(ma,na,oa,pa,qa,ra,sa,ta,ua,va){'use strict';p.constructor.call(this,ma,ta,ua);this.$TextGraphic1=new Image();this.$TextGraphic2=pa;this.$TextGraphic3=new (c('PhotoEditorFont'))(oa);this.$TextGraphic4=null;this.$TextGraphic5=0;this.$TextGraphic6=1;this.$TextGraphic7=0;this.$TextGraphic8=new fa().setDimensions(ja.ImageSettings.DIMENSIONS);this.$TextGraphic9=ra;this.$TextGraphic10=c('DOM').create('textarea');c('Style').apply(this.$TextGraphic10,{position:'absolute',width:ja.ImageSettings.WIDTH+'px',padding:'0px',margin:'0px',border:'none',overflow:'hidden',resize:'none',background:'transparent'});var wa=c('DOM').create('div',{className:"_3bul"});c('Style').set(wa,'width',ja.ImageSettings.WIDTH+'px');wa.appendChild(this.$TextGraphic10);this.root.appendChild(wa);this.$TextGraphic11=qa||new (c('Vector'))(0,0,'document');this.focusInput=c('DOM').create('textarea',{className:"_5g78"});this.$TextGraphic12=c('DOM').create('div',{className:"_5l-2"});this.root.appendChild(this.focusInput);this.root.appendChild(this.$TextGraphic12);c('CSS').addClass(this.root,'loaded');c('CSS').addClass(this.root,"_5g79");this.subscriptionsHandler.addSubscriptions(c('Event').listen(this.$TextGraphic12,'click',function(){this.focusInput.focus();}.bind(this)),c('Event').listen(this.focusInput,'blur',function(){c('CSS').removeClass(this.root,"_5g7a");}.bind(this)),c('Event').listen(this.focusInput,'focus',function(){ma.setActiveGraphic(this);c('CSS').addClass(this.root,"_5g7a");this.adjustFontSizeFit();}.bind(this)),c('Event').listen(this.focusInput,'keyup',c('throttle')(this.$TextGraphic13,50,this)));if(!va)this.$TextGraphic14();var xa=Math.min(ta,ua)*z,ya=xa/ja.ImageSettings.WIDTH;this.$TextGraphic6=ya;this.$TextGraphic15=new (c('Vector'))(xa,ya*ja.ImageSettings.HEIGHT,'document');this.$TextGraphic15.setElementDimensions(this.root);this.updateText(na);}ja.prototype.getInitialDimensions=function(){'use strict';return this.$TextGraphic15;};ja.prototype.$TextGraphic16=function(event){'use strict';var ma=c('Vector').getEventPosition(event),na=this.getDimensions(),oa=na.magnitude(),pa=na.div(oa),qa=this.$TextGraphic17,ra=qa.distanceTo(ma),sa=this.photoEditor.getCanvasDimensions(),ta=Math.max(sa.x,sa.y),ua=c('clamp')(ra*2,x,ta),va=pa.mul(ua),wa=va.sub(na);if(wa.magnitude()>y){var xa=this.getPos().sub(wa.div(2));this.setDimensions(va);this.setPos(xa);}var ya=qa.sub(ma),za=da(na.mul(-1,1),ya);za=(za+360)%360;if(za%90<ba||za%90>90-ba)za=Math.round(za/90)*90;this.setRotation(za);this.updateDraggableBoundingBox();this.updatePos();};ja.prototype.$TextGraphic14=function(){'use strict';var ma=new ea();this.root.appendChild(ma.getElement());this.subscriptionsHandler.addSubscriptions(c('Event').listen(ma.getElement(),'mousedown',function(event){event.stopPropagation();}));ma.setDragStartHandler(function(){this.$TextGraphic17=this.getCenterCoordinates();}.bind(this)).setDragMoveHandler(this.$TextGraphic16.bind(this));};ja.prototype.$TextGraphic13=function(){'use strict';var ma=this.focusInput.value;if(ma.length>aa)this.focusInput.value=ma.substr(0,aa);this.updateText(this.focusInput.value);};ja.prototype.onActive=function(){'use strict';p.onActive.call(this);this.focusInput.focus();this.inform('focus');};ja.prototype.onInactive=function(){'use strict';p.onInactive.call(this);this.focusInput.blur();c('CSS').removeClass(this.root,"_5g7a");this.inform('blur');var ma=this.$TextGraphic4.replace(/^\s*/,'').replace(/\s*$/,'');if(!ma.length)this.remove();};ja.prototype.getRotation=function(){'use strict';return this.$TextGraphic5;};ja.prototype.setRotation=function(ma){'use strict';this.$TextGraphic5=ma;c('Style').apply(this.root,ca('rotate('+this.$TextGraphic5+'deg)'));};ja.prototype.setDimensions=function(ma){'use strict';this.$TextGraphic6=ma.x/ja.ImageSettings.WIDTH;c('Style').apply(this.root,{width:ma.x+'px',height:this.$TextGraphic6*ja.ImageSettings.HEIGHT+'px'});this.$TextGraphic18();};ja.prototype.getDrawableObj=function(){'use strict';return this.$TextGraphic1;};ja.prototype.getTextAlign=function(){'use strict';return this.$TextGraphic9;};ja.prototype.getText=function(){'use strict';return this.$TextGraphic4;};ja.prototype.getFillStyle=function(){'use strict';return this.$TextGraphic2;};ja.prototype.getFontFamily=function(){'use strict';return this.$TextGraphic3.getFamily();};ja.prototype.updateText=function(ma,na,oa){'use strict';if(oa)this.$TextGraphic2=oa;if(na)this.$TextGraphic3.setFamily(na);if(typeof ma==='string'){ma=ma.substr(0,aa);if(this.$TextGraphic4!=ma){this.focusInput.value=this.$TextGraphic4=ma;this.$TextGraphic10.innerText=this.$TextGraphic10.textContent=ma;}}c('Style').apply(this.focusInput,{textAlign:this.$TextGraphic9,color:this.$TextGraphic2,fontFamily:this.$TextGraphic3.getFamily()});c('Style').apply(this.$TextGraphic10,{textAlign:this.$TextGraphic9,font:this.$TextGraphic3.toString(),color:this.$TextGraphic2});this.adjustFontSizeFit();this.$TextGraphic1=this.$TextGraphic8.render(this.$TextGraphic10);};ja.prototype.adjustFontSizeFit=function(){'use strict';var ma=ja.ImageSettings.MAX_FONT;this.$TextGraphic3.setSize(ma);c('Style').apply(this.$TextGraphic10,{font:this.$TextGraphic3.toString(),height:'0px'});while(this.$TextGraphic10.scrollHeight>ja.ImageSettings.HEIGHT){this.$TextGraphic3.setSize(--ma);c('Style').set(this.$TextGraphic10,'font',this.$TextGraphic3.toString());}this.$TextGraphic7=(ja.ImageSettings.HEIGHT-this.$TextGraphic10.scrollHeight)/2;c('Style').apply(this.$TextGraphic10,{marginTop:this.$TextGraphic7+'px',marginBottom:this.$TextGraphic7+'px',height:this.$TextGraphic10.scrollHeight+'px'});this.$TextGraphic18();};ja.prototype.setFontSize=function(ma){'use strict';this.$TextGraphic3.setSize(ma);};ja.prototype.$TextGraphic18=function(){'use strict';var ma=this.$TextGraphic6,na=this.$TextGraphic10.clientHeight;setTimeout(function(){c('Style').apply(this.focusInput,{width:ja.ImageSettings.WIDTH*ma+'px',height:na*ma+'px',marginTop:this.$TextGraphic7*ma+'px',marginBottom:this.$TextGraphic7*ma+'px',fontSize:this.$TextGraphic3.getSize()*ma+'px'});}.bind(this),0);};ja.prototype.setTextAlign=function(ma){'use strict';this.$TextGraphic9=ma;this.updateText();return this;};ja.prototype.setText=function(ma){'use strict';this.updateText(ma);};ja.prototype.setFontFamily=function(ma){'use strict';this.$TextGraphic3.setFamily(ma);this.updateText();};ja.prototype.setFillStyle=function(ma){'use strict';this.$TextGraphic2=ma;this.updateText();};ja.prototype.getColorCoordinates=function(){'use strict';return new (c('Vector'))(this.$TextGraphic11.x,this.$TextGraphic11.y,'document');};ja.prototype.setColorCoordinates=function(ma){'use strict';this.$TextGraphic11=ma;};ja.prototype.serialize=function(){'use strict';return babelHelpers['extends']({},p.serialize.call(this),{text:this.$TextGraphic4,fontFamily:this.$TextGraphic3.getFamily(),fill:this.$TextGraphic2,textAlign:this.$TextGraphic9,colorCoordinates:{x:this.$TextGraphic11.x,y:this.$TextGraphic11.y}});};ja.prototype.initFromSerializedState=function(ma){'use strict';this.$TextGraphic9=ma.textAlign;this.$TextGraphic11=ma.colorCoordinates;this.updateText(ma.text,ma.fontFamily,ma.fill);p.initFromSerializedState.call(this,ma);};ja.ImageSettings={WIDTH:200,HEIGHT:120,MAX_FONT:30,DIMENSIONS:new (c('Vector'))(200,120)};q=babelHelpers.inherits(ka,ha);r=q&&q.prototype;ka.prototype.remove=function(){'use strict';r.remove.call(this);b.URL.revokeObjectURL(this.imageURL);};function ka(){'use strict';q.apply(this,arguments);}function la(ma,na){if(t[ma])t[ma].onDrop(na);}f.exports={Blob:ka,FreeFormEditButton:ea,Graphic:ga,Image:ha,onDrop:la,Sticker:ia,Text:ja};}),null);
__d('ProfilePicCanvas',['PhotoEditorCanvas'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this.$ProfilePicCanvas1=new (c('PhotoEditorCanvas'))();this.$ProfilePicCanvas1.setImageContent(i);this.$ProfilePicCanvas2=[];this.$ProfilePicCanvas3=1;}h.prototype.toBlob=function(i){'use strict';this.$ProfilePicCanvas4().toBlob(i);};h.prototype.addGraphic=function(i,j){'use strict';i.setPos(j);this.$ProfilePicCanvas2.push(i);};h.prototype.setResizeFactor=function(i){'use strict';this.$ProfilePicCanvas3=i;return this;};h.prototype.$ProfilePicCanvas5=function(){'use strict';return window.devicePixelRatio||1;};h.prototype.$ProfilePicCanvas6=function(i){'use strict';return i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1;};h.prototype.$ProfilePicCanvas4=function(){'use strict';var i=this.$ProfilePicCanvas1.getWidth(),j=new (c('PhotoEditorCanvas'))(),k=j.getContext();j.setImageContent(this.$ProfilePicCanvas1.getElement());var l=this.$ProfilePicCanvas5(),m=this.$ProfilePicCanvas6(k),n=l/m;if(n!==1){j=j.scaledCopy(n);k=j.getContext();k.scale(n,n);k.save();}var o,p;for(var q=0;q<this.$ProfilePicCanvas2.length;q++){o=this.$ProfilePicCanvas2[q];p=o.getPos();k.save();k.translate(p.x,p.y);j.drawGraphic(o.getDrawableObj(),0,0,i*this.$ProfilePicCanvas3,i*this.$ProfilePicCanvas3);k.restore();}return j;};f.exports=h;}),null);
__d('ProfilePictureOverlay',['invariant','immutable'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('immutable').Map,l=c('immutable').Record,m=l({id:'',name:'',src:new k()});i=babelHelpers.inherits(n,m);j=i&&i.prototype;n.fromObject=function(o){return new n(babelHelpers['extends']({},o,{src:new k(o.src)}));};n.prototype.getSrc=function(o){var p=this.src.get(o.toString());!p?h(0):void 0;return p;};function n(){i.apply(this,arguments);}f.exports=n;}),null);
__d('ReactComposerProfilePictureFrameActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({CROP_IMAGE:null,POST_START:null,POST_SUCCESS:null,SET_OVERLAYS:null,SET_PHOTO_DATA:null,SET_SCHEDULE_DATE:null,SET_SELECTED_ID:null},'ReactComposerProfilePictureFrameActionTypes');}),null);
__d("XPagesComposerPublishFrameCropController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/composer\/publish_frame\/crop\/",{height:{type:"Float"},overlay_id:{type:"Int"},width:{type:"Float"},x:{type:"Float"},y:{type:"Float"}});}),null);
__d('ReactComposerProfilePictureFrameStore',['fbt','invariant','ActorURI','AsyncUploadRequest','ReactComposerPhotoUpload','Event','ProfilePicCanvas','ProfilePictureOverlay','ReactComposerProfilePictureFrameActionTypes','ReactComposerStoreBase','Vector','XPagesComposerPublishFrameCropController','immutable','PhotoEditorGraphic','tidyEvent'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('immutable').List,m=c('PhotoEditorGraphic').Sticker;function n(p,q){var r=new Image();r.crossOrigin='anonymous';r.src=p;c('tidyEvent')([c('Event').listen(r,'load',function(){return q(r);})]);}j=babelHelpers.inherits(o,c('ReactComposerStoreBase'));k=j&&j.prototype;function o(){'use strict';var p=void 0;k.constructor.call(this,function(){return {croppedPhotoID:null,overlays:{},photoData:null,savingMessage:null,scheduledPostDate:null,selectedOverlayID:null};},function(q){if(p)p.$ReactComposerProfilePictureFrameStore1(q);});p=this;}o.prototype.getSavingMessage=function(p){'use strict';return this.getComposerData(p).savingMessage;};o.prototype.getCroppedPhotoID=function(p){'use strict';return this.getComposerData(p).croppedPhotoID;};o.prototype.getOverlays=function(p){'use strict';return this.getComposerData(p).overlays;};o.prototype.getPhotoData=function(p){'use strict';return this.getComposerData(p).photoData;};o.prototype.getSelectedOverlayID=function(p){'use strict';return this.getComposerData(p).selectedOverlayID;};o.prototype.getScheduledPostDate=function(p){'use strict';return this.getComposerData(p).scheduledPostDate;};o.prototype.getCroppedPhotoForUpload=function(p){'use strict';var q=this.getCroppedPhotoID(p);!q?i(0):void 0;return l([new (c('ReactComposerPhotoUpload'))({photoID:q,originalPhotoID:q})]);};o.prototype.$ReactComposerProfilePictureFrameStore1=function(p){'use strict';switch(p.type){case c('ReactComposerProfilePictureFrameActionTypes').SET_OVERLAYS:this.$ReactComposerProfilePictureFrameStore2(p);break;case c('ReactComposerProfilePictureFrameActionTypes').SET_PHOTO_DATA:this.$ReactComposerProfilePictureFrameStore3(p);break;case c('ReactComposerProfilePictureFrameActionTypes').SET_SELECTED_ID:this.$ReactComposerProfilePictureFrameStore4(p);break;case c('ReactComposerProfilePictureFrameActionTypes').CROP_IMAGE:this.$ReactComposerProfilePictureFrameStore5(p);break;case c('ReactComposerProfilePictureFrameActionTypes').POST_START:this.$ReactComposerProfilePictureFrameStore6(p);break;case c('ReactComposerProfilePictureFrameActionTypes').POST_SUCCESS:this.$ReactComposerProfilePictureFrameStore7(p);break;case c('ReactComposerProfilePictureFrameActionTypes').SET_SCHEDULE_DATE:this.$ReactComposerProfilePictureFrameStore8(p);break;}};o.prototype.$ReactComposerProfilePictureFrameStore8=function(p){'use strict';var q=this.getComposerData(p.composerID);q.scheduledPostDate=p.scheduledPostDate;this.emitChange(p.composerID);};o.prototype.$ReactComposerProfilePictureFrameStore6=function(p){'use strict';var q=this.getComposerData(p.composerID);q.savingMessage=h._("Posting Frame");this.emitChange(p.composerID);};o.prototype.$ReactComposerProfilePictureFrameStore7=function(p){'use strict';var q=this.getComposerData(p.composerID);q.savingMessage=null;this.emitChange(p.composerID);};o.prototype.$ReactComposerProfilePictureFrameStore4=function(p){'use strict';var q=this.getComposerData(p.composerID);if(q.selectedOverlayID!==p.selectedOverlayID){q.selectedOverlayID=p.selectedOverlayID;this.emitChange(p.composerID);}};o.prototype.$ReactComposerProfilePictureFrameStore2=function(p){'use strict';var q={};p.overlays.map(function(s){q[s.id]=c('ProfilePictureOverlay').fromObject(s);});var r=this.getComposerData(p.composerID);r.overlays=q;r.selectedOverlayID=p.selectedOverlayID;this.emitChange(p.composerID);};o.prototype.$ReactComposerProfilePictureFrameStore3=function(p){'use strict';var q=this.getComposerData(p.composerID);if(!q.photoData||q.photoData.original.uri!==p.photoData.original.uri){q.photoData=p.photoData;this.emitChange(p.composerID);}};o.prototype.$ReactComposerProfilePictureFrameStore5=function(p){'use strict';var q=p.composerID,r=this.getComposerData(q),s=r.savingMessage,t=r.overlays,u=r.photoData,v=r.selectedOverlayID;if(!u||!v||s)return;r.savingMessage=h._("Processing Image");this.emitChange(q);n(u.original.uri,function(w){var x=t[v],y=u.original,z=new m(null,x.id,x.getSrc(p.overlaySize),y.width,y.height);z.subscribe('loaded',function(){this.$ReactComposerProfilePictureFrameStore9(p,w,z);}.bind(this));}.bind(this));};o.prototype.$ReactComposerProfilePictureFrameStore9=function(p,q,r){'use strict';var s=p.composerID,t=p.dimensions,u=this.$ReactComposerProfilePictureFrameStore10(s).original,v=new (c('ProfilePicCanvas'))(q),w=t.getArea();v.addGraphic(r,new (c('Vector'))(w.x,w.y));v.setResizeFactor(w.width/u.width);v.toBlob(function(x){return this.$ReactComposerProfilePictureFrameStore11(p,x);}.bind(this));};o.prototype.$ReactComposerProfilePictureFrameStore11=function(p,q){'use strict';var r=p.composerID,s=this.$ReactComposerProfilePictureFrameStore10(r),t=s.original,u=p.dimensions.getArea(),v={x:u.x/t.width,y:u.y/t.height,width:u.width/t.width,height:u.height/t.height},w=c('XPagesComposerPublishFrameCropController').getURIBuilder().setFloat('height',Math.min(v.height,1)).setFloat('width',Math.min(v.width,1)).setFloat('x',v.x).setFloat('y',v.y).setInt('overlay_id',this.getSelectedOverlayID(r)).getURI(),x=new (c('AsyncUploadRequest'))().setFiles({image:q}).setAllowCrossOrigin(true).setURI(c('ActorURI').create(w,p.targetID));c('tidyEvent')([x.subscribe('success',function(y,z){var aa=z.getResponse(),ba=aa.payload,ca=this.getComposerData(r);ca.croppedPhotoID=ba.cropped_fbid;ca.savingMessage=null;p.onCropSuccess();this.emitChange(r);}.bind(this))]);x.send();};o.prototype.$ReactComposerProfilePictureFrameStore10=function(p){'use strict';var q=this.getPhotoData(p);!q?i(0):void 0;return q;};f.exports=new o();}),null);
__d('ReactComposerQuestionActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({ADD_OPTION:null,ANYONE_ADD_OPTIONS:null,CHOOSE_MULTIPLE_OPTIONS:null,RANK_OPTIONS:null,ENTER_POLL_OPTIONS_MODE:null,SHOW_QUESTION_CONFIG:null,SAVE_OPTION_DATA:null,SET_QUESTION_CONFIG:null},'ReactComposerQuestionActionType');}),null);
__d('ReactComposerQuestionStore',['ReactComposerQuestionActionType','ReactComposerStoreBase','Map'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=3;h=babelHelpers.inherits(k,c('ReactComposerStoreBase'));i=h&&h.prototype;function k(){'use strict';var l;i.constructor.call(this,function(){return {anyoneAddPollOptions:true,chooseMultiplePollOptions:true,dataSource:null,maxOptionsShown:null,optionIDs:new (c('Map'))(),optionStrings:new (c('Map'))(),pollLinkEnabled:true,rankPollOptions:false};},function(m){switch(m.type){case c('ReactComposerQuestionActionType').ADD_OPTION:l&&l.$ReactComposerQuestionStore1(m);break;case c('ReactComposerQuestionActionType').ANYONE_ADD_OPTIONS:l&&l.$ReactComposerQuestionStore2(m);break;case c('ReactComposerQuestionActionType').CHOOSE_MULTIPLE_OPTIONS:l&&l.$ReactComposerQuestionStore3(m);break;case c('ReactComposerQuestionActionType').ENTER_POLL_OPTIONS_MODE:l&&l.$ReactComposerQuestionStore4(m);break;case c('ReactComposerQuestionActionType').RANK_OPTIONS:l&&l.$ReactComposerQuestionStore5(m);break;case c('ReactComposerQuestionActionType').SAVE_OPTION_DATA:l&&l.$ReactComposerQuestionStore6(m);break;case c('ReactComposerQuestionActionType').SET_QUESTION_CONFIG:l&&l.$ReactComposerQuestionStore7(m);break;}});l=this;}k.prototype.canAnyoneAddPollOptions=function(l){'use strict';return this.getComposerData(l).anyoneAddPollOptions;};k.prototype.canChooseMultiplePollOptions=function(l){'use strict';return this.getComposerData(l).chooseMultiplePollOptions;};k.prototype.canRankPollOptions=function(l){'use strict';return this.getComposerData(l).rankPollOptions;};k.prototype.getDataSource=function(l){'use strict';return this.getComposerData(l).dataSource;};k.prototype.getMaxOptionsShown=function(l){'use strict';return this.getComposerData(l).maxOptionsShown;};k.prototype.getNumberOptionsShown=function(l){'use strict';return j;};k.prototype.getOptionIDs=function(l){'use strict';var m=[],n=this.getComposerData(l).optionIDs;n.forEach(function(o,p){return m.push(o);});return m;};k.prototype.getOptionStrings=function(l){'use strict';var m=[],n=this.getComposerData(l).optionStrings;n.forEach(function(o,p){return m.push(o);});return m;};k.prototype.getSearchSource=function(l){'use strict';return this.getComposerData(l).dataSource;};k.prototype.isPollLinkEnabled=function(l){'use strict';return this.getComposerData(l).pollLinkEnabled;};k.prototype.$ReactComposerQuestionStore1=function(l){'use strict';var m=this.validateAction(l,'composerID');j++;this.emitChange(m);};k.prototype.$ReactComposerQuestionStore2=function(l){'use strict';var m=this.validateAction(l,['composerID','value']),n=m[0],o=m[1],p=this.getComposerData(n);p.anyoneAddPollOptions=o;this.emitChange(n);};k.prototype.$ReactComposerQuestionStore3=function(l){'use strict';var m=this.validateAction(l,['composerID','value']),n=m[0],o=m[1],p=this.getComposerData(n);p.chooseMultiplePollOptions=o;this.emitChange(n);};k.prototype.$ReactComposerQuestionStore4=function(l){'use strict';var m=this.validateAction(l,'composerID'),n=this.getComposerData(m);n.pollLinkEnabled=false;this.emitChange(m);};k.prototype.$ReactComposerQuestionStore5=function(l){'use strict';var m=this.validateAction(l,['composerID','value']),n=m[0],o=m[1],p=this.getComposerData(n);p.rankPollOptions=o;this.emitChange(n);};k.prototype.$ReactComposerQuestionStore6=function(l){'use strict';var m=this.validateAction(l,['composerID','optionData']),n=m[0],o=m[1],p=this.getComposerData(n);p.optionIDs.set(o.keyID,o.ID);p.optionStrings.set(o.keyID,o.content);this.emitChange(n);};k.prototype.$ReactComposerQuestionStore7=function(l){'use strict';var m=this.validateAction(l,['composerID','config']),n=m[0],o=m[1],p=this.getComposerData(n);p.dataSource=o.dataSource;p.maxOptionsShown=o.maxOptionsShown;this.emitChange(n);};f.exports=new k();}),null);
__d('ReactComposerRedEnvelopeActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({SET_RED_ENVELOPE_CONFIG:null,SET_AVAILABLE_AMOUNT:null,SET_TOTAL_AMOUNT:null,SET_DISTIBUTION:null,SET_NUMBER_OF_ENVELOPES:null},'ReactComposerRedEnvelopeActionType');}),null);
__d('ReactComposerRedEnvelopeStore',['ReactComposerRedEnvelopeActionType','ReactComposerStoreBase'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {availableAmount:0,totalAmount:1000,distribution:'RND',numberOfEnvelopes:5,contextInfo:null};},function(l){switch(l.type){case c('ReactComposerRedEnvelopeActionType').SET_AVAILABLE_AMOUNT:k&&k.$ReactComposerRedEnvelopeStore1(l);break;case c('ReactComposerRedEnvelopeActionType').SET_TOTAL_AMOUNT:k&&k.$ReactComposerRedEnvelopeStore2(l);break;case c('ReactComposerRedEnvelopeActionType').SET_DISTIBUTION:k&&k.$ReactComposerRedEnvelopeStore3(l);break;case c('ReactComposerRedEnvelopeActionType').SET_NUMBER_OF_ENVELOPES:k&&k.$ReactComposerRedEnvelopeStore4(l);break;case c('ReactComposerRedEnvelopeActionType').SET_RED_ENVELOPE_CONFIG:k&&k.$ReactComposerRedEnvelopeStore5(l);break;}});k=this;}j.prototype.getAvailableAmount=function(k){'use strict';return this.getComposerData(k).availableAmount;};j.prototype.getTotalAmount=function(k){'use strict';return this.getComposerData(k).totalAmount;};j.prototype.getDistribution=function(k){'use strict';return this.getComposerData(k).distribution;};j.prototype.getNumberOfEnvelopes=function(k){'use strict';return this.getComposerData(k).numberOfEnvelopes;};j.prototype.getContextInfo=function(k){'use strict';return this.getComposerData(k).contextInfo;};j.prototype.$ReactComposerRedEnvelopeStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','availableAmount']),m=l[0],n=l[1],o=this.getComposerData(m);o.availableAmount=n;this.emitChange(m);};j.prototype.$ReactComposerRedEnvelopeStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','totalAmount']),m=l[0],n=l[1],o=this.getComposerData(m);o.totalAmount=n;this.emitChange(m);};j.prototype.$ReactComposerRedEnvelopeStore4=function(k){'use strict';var l=this.validateAction(k,['composerID','numberOfEnvelopes']),m=l[0],n=l[1],o=this.getComposerData(m);o.numberOfEnvelopes=n;this.emitChange(m);};j.prototype.$ReactComposerRedEnvelopeStore3=function(k){'use strict';var l=this.validateAction(k,['composerID','distribution']),m=l[0],n=l[1],o=this.getComposerData(m);o.distribution=n;this.emitChange(m);};j.prototype.$ReactComposerRedEnvelopeStore5=function(k){'use strict';var l=this.validateAction(k,['composerID','config']),m=l[0],n=l[1],o=this.getComposerData(m);o.availableAmount=n.availableAmount;o.contextInfo=n.contextInfo;this.emitChange(m);};f.exports=new j();}),null);
__d('ReactComposerStatusDonateButtonActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({SET_DONATE_CONFIG:null,UPDATE_DESCRIPTION:null,UPDATE_TITLE:null,SET_DATA:null,SET_ENABLED:null,SET_ERRORS:null,SET_TEXT_DISABLED:null},'ReactComposerStatusDonateButtonActionType');}),null);
__d('ReactComposerStatusDonateButtonStore',['ReactComposerStatusDonateButtonActionType','ReactComposerStoreBase'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {charityName:'',fundraiserCampaignId:1,enabled:false,textDisabled:false,errors:false};},function(l){switch(l.type){case c('ReactComposerStatusDonateButtonActionType').SET_DONATE_CONFIG:k&&k.$ReactComposerStatusDonateButtonStore1(l);break;case c('ReactComposerStatusDonateButtonActionType').UPDATE_TITLE:k&&k.$ReactComposerStatusDonateButtonStore2(l);break;case c('ReactComposerStatusDonateButtonActionType').UPDATE_DESCRIPTION:k&&k.$ReactComposerStatusDonateButtonStore3(l);break;case c('ReactComposerStatusDonateButtonActionType').SET_DATA:k&&k.$ReactComposerStatusDonateButtonStore4(l);break;case c('ReactComposerStatusDonateButtonActionType').SET_ENABLED:k&&k.$ReactComposerStatusDonateButtonStore5(l);break;case c('ReactComposerStatusDonateButtonActionType').SET_ERRORS:k&&k.$ReactComposerStatusDonateButtonStore6(l);break;case c('ReactComposerStatusDonateButtonActionType').SET_TEXT_DISABLED:k&&k.$ReactComposerStatusDonateButtonStore7(l);break;}});k=this;}j.prototype.getFundraiserCampaignID=function(k){'use strict';return this.getComposerData(k).fundraiserCampaignId;};j.prototype.getCharityName=function(k){'use strict';return this.getComposerData(k).charityName;};j.prototype.getTitle=function(k){'use strict';return this.getComposerData(k).title;};j.prototype.getDescription=function(k){'use strict';return this.getComposerData(k).description;};j.prototype.getEnabled=function(k){'use strict';return this.getComposerData(k).enabled;};j.prototype.getErrors=function(k){'use strict';return this.getComposerData(k).errors;};j.prototype.getTextDisabled=function(k){'use strict';return this.getComposerData(k).textDisabled;};j.prototype.$ReactComposerStatusDonateButtonStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','config']),m=l[0],n=l[1],o=this.getComposerData(m);o.fundraiserCampaignId=n.fundraiserCampaignId;o.charityName=n.charityName;this.emitChange(k.composerID);};j.prototype.$ReactComposerStatusDonateButtonStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','title']),m=l[0],n=l[1],o=this.getComposerData(m);o.title=n.substring(0,60);this.emitChange(k.composerID);};j.prototype.$ReactComposerStatusDonateButtonStore3=function(k){'use strict';var l=this.validateAction(k,['composerID','description']),m=l[0],n=l[1],o=this.getComposerData(m);o.description=n;this.emitChange(k.composerID);};j.prototype.$ReactComposerStatusDonateButtonStore4=function(k){'use strict';var l=this.validateAction(k,['composerID','title','description']),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m);p.title=n;p.description=o;this.emitChange(k.composerID);};j.prototype.$ReactComposerStatusDonateButtonStore5=function(k){'use strict';var l=this.validateAction(k,['composerID','enabled']),m=l[0],n=l[1],o=this.getComposerData(m);o.enabled=n;this.emitChange(k.composerID);};j.prototype.$ReactComposerStatusDonateButtonStore6=function(k){'use strict';var l=this.validateAction(k,['composerID','errors']),m=l[0],n=l[1],o=this.getComposerData(m);o.errors=n;this.emitChange(k.composerID);};j.prototype.$ReactComposerStatusDonateButtonStore7=function(k){'use strict';var l=this.validateAction(k,['composerID','textDisabled']),m=l[0],n=l[1],o=this.getComposerData(m);o.textDisabled=n;this.emitChange(k.composerID);};f.exports=new j();}),null);
__d("XComposerXMediaInterceptController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composerx\/intercept\/media\/",{xhpc_composerid:{type:"String",required:true},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int"}});}),null);
__d("XComposerXMediaMarkdownInterceptController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composerx\/markdown_intercept\/media\/",{xhpc_composerid:{type:"String",required:true},markdown_enabled:{type:"Bool",defaultValue:false},xhpc_message:{type:"String"}});}),null);
__d("XComposerXMediaOfferUpsellController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composerx\/offer_upsell\/media\/",{xhpc_composerid:{type:"String",required:true},xhpc_message:{type:"String"},xhpc_photo_fbids:{type:"FBIDVector"},xhpc_pageid:{type:"Int",required:true}});}),null);
__d("XComposerXStatusInterceptController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composerx\/intercept\/status\/",{xhpc_composerid:{type:"String",required:true},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int"}});}),null);
__d("XComposerXStatusMarkdownInterceptController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composerx\/markdown_intercept\/status\/",{xhpc_composerid:{type:"String",required:true},markdown_enabled:{type:"Bool",defaultValue:false},xhpc_message:{type:"String"}});}),null);
__d("XComposerXStatusOfferUpsellController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composerx\/offer_upsell\/status\/",{xhpc_composerid:{type:"String",required:true},xhpc_message:{type:"String"},xhpc_photo_fbids:{type:"FBIDVector"},xhpc_pageid:{type:"Int",required:true}});}),null);
__d("XMarketplaceCreatePostController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ajax\/marketplace\/create_post\/",{xhpc_composerid:{type:"String",required:true},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int",required:true}});}),null);
__d("XRedEnvelopeSaveController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/redenv\/save\/",{xhpc_targetid:{type:"Int",required:true},xhpc_composerid:{type:"String",required:true},composer_attachment_message:{type:"String"},distribution:{type:"String",required:true},total_amount:{type:"Int",required:true},number_of_envelopes:{type:"Int",required:true}});}),null);
__d("XTimelineMLEWriteController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/mle\/save\/",{create_scrapbook:{type:"Bool",defaultValue:false}});}),null);
__d("XVideoEditDialogSaveController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/edit\/dialog\/save\/",{v:{type:"Int",required:true}});}),null);
__d('ReactComposerPostUtils',['invariant','ReactComposerActions','ReactComposerAsyncRequest','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerAutosSellStore.react','ReactComposerCTAAttachmentUtils','ReactComposerCTAStore','ComposerEntryPointRef','ReactComposerFileStore','ReactComposerLifeEventStore','ReactComposerMediaUploadStore','ReactComposerPhotoStore','ReactComposerPostDataUtils','ReactComposerProfilePictureFrameStore','ReactComposerQuestionStore','ReactComposerRedEnvelopeStore','ReactComposerSellStore','ReactComposerMarkdownStore','ReactComposerSlideshowStore','ReactComposerStatusDonateButtonStore','ReactComposerStatusStore','ReactComposerStore','ReactComposerVideoUploadStore','DateConsts','PagesComposerUnpublishedPostsStore','VideoEditSource','XComposerXMediaMarkdownInterceptController','XComposerXStatusMarkdownInterceptController','XComposerXMediaOfferUpsellController','XComposerXStatusOfferUpsellController','XComposerXStatusInterceptController','XComposerXMediaInterceptController','XMarketplaceCreatePostController','XRedEnvelopeSaveController','XTimelineMLEWriteController','XVideoEditDialogSaveController','PagesComposerActionsLogger','PagesComposerBoostedPostsStore','ActorURI','Arbiter','HTML','URI','formatDate'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={publish:function j(k,l){c('ReactComposerActions').publishStarted(k);l=l||{};l.composer_id=k;if(l.streamNode){l.streamStory=l.streamNode;}else if(l.streamMarkup)l.streamStory=c('HTML')(l.streamMarkup).getRootNode();if(l.contentID)l.matchData={content_id:l.contentID};c('Arbiter').inform('composer/publish',l);},isPostButtonDisabled:function j(k,l){var m=c('ReactComposerPhotoStore').isLimitExceeded(k,l),n=c('ReactComposerMediaUploadStore').isUploading(k),o=c('ReactComposerPhotoStore').isRecognizing(k),p=!!c('ReactComposerVideoUploadStore').getVideo(k)&&c('ReactComposerStore').isPosting(k);return m||n||o||p;},post:function j(k){!!!k.actorID?h(0):void 0;!!!k.composerConfig?h(0):void 0;!!!k.composerConfig.contextInfo?h(0):void 0;!!!k.composerID?h(0):void 0;!!!k.targetID?h(0):void 0;var l=k.actorID,m=k.composerID,n=c('ReactComposerAttachmentStore').getIsAttachmentSelected(m,c('ReactComposerAttachmentType').MEDIA),o=c('ReactComposerAttachmentStore').getIsAttachmentSelected(m,c('ReactComposerAttachmentType').QANDA),p=c('ReactComposerAttachmentStore').getIsAttachmentSelected(m,c('ReactComposerAttachmentType').FILE),q=c('ReactComposerAttachmentStore').getIsAttachmentSelected(m,c('ReactComposerAttachmentType').QUESTION),r=c('ReactComposerAttachmentStore').getIsAttachmentSelected(m,c('ReactComposerAttachmentType').RED_ENVELOPE),s=c('ReactComposerAttachmentStore').getIsAttachmentSelected(m,c('ReactComposerAttachmentType').SELL)||c('ReactComposerSellStore').getInterceptSell(m),t=c('ReactComposerAttachmentStore').getIsAttachmentSelected(m,c('ReactComposerAttachmentType').LIFE_EVENT),u=c('ReactComposerCTAAttachmentUtils').isCTAAttachmentSelected(m),v=c('ReactComposerSlideshowStore').isSlideshowSelected(m),w=c('ReactComposerAttachmentStore').getIsAttachmentSelected(m,c('ReactComposerAttachmentType').PROFILE_PIC_FRAME),x=k.composerConfig.attachmentsConfig||{},y=x[c('ReactComposerAttachmentType').STATUS]||{},z=y.attemptIntercept&&y.nluIntercept&&!s&&!c('ReactComposerSellStore').showNLUIntercept(m)&&!c('ReactComposerSellStore').showURLIntercept(m),aa=c('ReactComposerPostDataUtils').getPostData(k);if(c('ReactComposerStatusDonateButtonStore').getEnabled(m))Object.assign(aa,{cta_data:{type:'DONATE',value:{fundraiser_campaign_id:c('ReactComposerStatusDonateButtonStore').getFundraiserCampaignID(m),link_title:c('ReactComposerStatusDonateButtonStore').getTitle(m),link_description:c('ReactComposerStatusDonateButtonStore').getDescription(m)}}});var ba=c('ReactComposerVideoUploadStore').getVideo(m);if(n&&!!ba){var ca=c('ReactComposerVideoUploadStore').getUploader(m);ca&&ca.uploadFromFile(ba.file,aa);return;}var da,ea=c('ReactComposerPhotoStore').getPhotos(m),fa=c('ReactComposerMediaUploadStore').getUploads(m);if(s)Object.assign(aa,{composer_attachment_sell_title:c('ReactComposerSellStore').getTitleText(m),composer_attachment_sell_price:c('ReactComposerSellStore').getPrice(m),composer_attachment_sell_price_type:c('ReactComposerSellStore').getPriceType(m),composer_attachment_sell_currency:c('ReactComposerSellStore').getCurrency(m),composer_attachment_sell_category:c('ReactComposerSellStore').getCategoryID(m),composer_attachment_sell_location_page_id:c('ReactComposerSellStore').getLocationID(m),composer_attachment_sell_pickup_note:c('ReactComposerSellStore').getPickupNoteText(m),post_to_marketplace:c('ReactComposerSellStore').isNearbyLocationChecked(m),cross_post_checked:c('ReactComposerSellStore').isCrossPostChecked(m),composer_attachment_sell_audience_group_ids:Array.from(c('ReactComposerSellStore').getAudienceGroupIDs(m)).join(','),composer_attachment_sell_autos_make:c('ReactComposerAutosSellStore.react').getMake(m),composer_attachment_sell_autos_model:c('ReactComposerAutosSellStore.react').getModel(m),composer_attachment_sell_autos_vin:c('ReactComposerAutosSellStore.react').getVIN(m),composer_attachment_sell_autos_year:c('ReactComposerAutosSellStore.react').getYear(m),composer_attachment_sell_autos_odometer:c('ReactComposerAutosSellStore.react').getOdometerValue(m),composer_attachment_sell_autos_odometer_units:c('ReactComposerAutosSellStore.react').getOdometerUnits(m)});if(u)Object.assign(aa,{cta_data:c('ReactComposerCTAStore').getCTAData(m)});var ga=fa.size>0,ha=n||o||s,ia=v||ha&&ga,ja=y.showOfferUpsell===true&&!c('PagesComposerUnpublishedPostsStore').showOfferUpsell(m)&&!c('PagesComposerBoostedPostsStore').getConfig(m),ka=y.attemptMarkdownIntercept&&!c('ReactComposerMarkdownStore').showIntercept(m),la=x[c('ReactComposerAttachmentType').SELL],ma=c('ReactComposerSellStore').getPostDirectlyToMarketplace(m),na=[];if(ja){var oa=0;if(!(!!aa.attachment&&!!aa.attachment.params&&!!aa.attachment.params.child_attachments)){oa=ea.size;na=ea.map(function(hb){return hb.id;}).toArray();}if(!!ba||v){ja=y.enableOfferVideoUpsell===true;}else if(oa==1){ja=y.enableOfferOnePhotoUpsell===true;}else if(oa>1){ja=y.enableOfferMultiPhotoUpsell===true;}else ja=y.enableOfferTextUpsell===true;}if(ia){if(ja){da=c('XComposerXMediaOfferUpsellController').getURIBuilder().setString('xhpc_message',c('ReactComposerStatusStore').getMessageText(m)).setString('xhpc_composerid',k.composerID).setInt('xhpc_pageid',l).setFBIDVector('xhpc_photo_fbids',na).getURI();}else if(z){da=c('XComposerXMediaInterceptController').getURIBuilder().setString('xhpc_message',c('ReactComposerStatusStore').getMessageText(m)).setString('xhpc_composerid',k.composerID).setInt('xhpc_targetid',k.targetID).getURI();}else if(ka){da=c('XComposerXMediaMarkdownInterceptController').getURIBuilder().setString('xhpc_message',c('ReactComposerStatusStore').getMessageText(m)).setString('xhpc_composerid',k.composerID).setBool('markdown_enabled',aa.is_markdown).getURI();}else if(ma){da=c('XMarketplaceCreatePostController').getURIBuilder().setString('xhpc_message',c('ReactComposerStatusStore').getMessageText(m)).setString('xhpc_composerid',k.composerID).setInt('xhpc_targetid',k.targetID).getURI();}else da=new (c('URI'))('/media/upload/photos/composer/');var pa=c('ReactComposerPostDataUtils').getMediaUploadsData(m,fa);Object.assign(aa,pa);}else if(p){da=new (c('URI'))(c('ReactComposerFileStore').getURI(m));Object.assign(aa,{transaction_id:c('ReactComposerFileStore').getDropboxFileID(m)});}else if(q){da=new (c('URI'))('/ajax/questions/save.php');var qa=c('ReactComposerQuestionStore').getOptionIDs(m),ra=c('ReactComposerQuestionStore').getOptionStrings(m);qa.push('');ra.push('');var sa=c('ReactComposerStore').getRef(m),ta=null;switch(sa){case c('ComposerEntryPointRef').GROUP:ta='group';break;case c('ComposerEntryPointRef').EVENT:case c('ComposerEntryPointRef').EVENT_ABOUT:ta='event';break;case c('ComposerEntryPointRef').PAGES_FEED:ta='composer';break;default:ta=sa;}Object.assign(aa,{composerAttachmentQuestion:c('ReactComposerStatusStore').getMessage(m),question_option_ids:qa,question_options:ra,source:ta,create_eigenpoll:c('ReactComposerQuestionStore').canChooseMultiplePollOptions(m),anyone_add_options:c('ReactComposerQuestionStore').canAnyoneAddPollOptions(m),create_ranked_poll:c('ReactComposerQuestionStore').canRankPollOptions(m)});}else if(r){Object.assign(aa,{composer_attachment_message:c('ReactComposerStatusStore').getMessageText(m),total_amount:c('ReactComposerRedEnvelopeStore').getTotalAmount(m),distribution:c('ReactComposerRedEnvelopeStore').getDistribution(m),number_of_envelopes:c('ReactComposerRedEnvelopeStore').getNumberOfEnvelopes(m)});da=c('XRedEnvelopeSaveController').getURIBuilder().setString('composer_attachment_message',aa.composer_attachment_message).setString('distribution',aa.distribution).setInt('total_amount',aa.total_amount).setInt('number_of_envelopes',aa.number_of_envelopes).setInt('xhpc_targetid',k.targetID).setString('xhpc_composerid',k.composerID).getURI();}else if(s){da=new (c('URI'))('/ajax/groups/sell/save.php');}else if(t){da=c('XTimelineMLEWriteController').getURIBuilder().getURI();var ua=babelHelpers['extends']({},c('ReactComposerLifeEventStore').getSelectedLifeEventFields(m)),va=Object.keys(aa.backdated_date).some(function(hb){return aa.backdated_date[hb]!==null;});if(va)ua.date_start=aa.backdated_date;var wa=fa.map(function(hb){return {fbid:hb.photoID};});Object.assign(aa,{field_data_json:JSON.stringify(ua),icon:c('ReactComposerLifeEventStore').getSelectedLifeEventIconID(m),photos:JSON.stringify(wa),story:c('ReactComposerLifeEventStore').getSelectedLifeEventStory(m),surface:'composer',title:c('ReactComposerLifeEventStore').getSelectedLifeEventTitle(m),type:c('ReactComposerLifeEventStore').getSelectedLifeEventType(m)});}else if(w){var xa=c('ReactComposerProfilePictureFrameStore').getSelectedOverlayID(m),ya=c('ReactComposerProfilePictureFrameStore').getScheduledPostDate(m),za=void 0,ab=void 0,bb=false;if(ya){za=c('formatDate')(ya,'m/d/Y',{skipPatternLocalization:true});var cb=ya.getHours()*c('DateConsts').MIN_PER_HOUR+ya.getMinutes();ab=c('DateConsts').SEC_PER_MIN*cb;bb=true;}pa=c('ReactComposerPostDataUtils').getMediaDataWithoutFiltering(m,c('ReactComposerProfilePictureFrameStore').getCroppedPhotoForUpload(m));da=new (c('URI'))('/media/upload/photos/composer/');Object.assign(aa,babelHelpers['extends']({},pa,{scheduled:bb,sticker_id:xa,future_date:za,future_time:ab}));}else if(aa.attachment&&aa.attachment.params.carousel_video_lpp){da=c('XVideoEditDialogSaveController').getURIBuilder().setInt('v',aa.attachment.params.carousel_video_lpp.video_id).getURI();Object.assign(aa,aa.attachment.params.carousel_video_lpp);Object.assign(aa,{description:aa.xhpc_message,source:c('VideoEditSource').PAGE_VIDEO_LPP_PUBLISH});var db={child_attachments:aa.attachment.params.child_attachments,event:'publish',target_id:k.targetID,content_id:aa.attachment.params.carousel_video_lpp.video_id,is_old_composer:false,scraped_url:aa.attachment.params.url};c('PagesComposerActionsLogger').log(db);}else if(ja){da=c('XComposerXStatusOfferUpsellController').getURIBuilder().setString('xhpc_message',c('ReactComposerStatusStore').getMessageText(m)).setString('xhpc_composerid',k.composerID).setInt('xhpc_pageid',l).setFBIDVector('xhpc_photo_fbids',na).getURI();}else if(z){da=c('XComposerXStatusInterceptController').getURIBuilder().setString('xhpc_message',c('ReactComposerStatusStore').getMessageText(m)).setString('xhpc_composerid',k.composerID).setInt('xhpc_targetid',k.targetID).getURI();}else if(ka){da=c('XComposerXStatusMarkdownInterceptController').getURIBuilder().setString('xhpc_message',c('ReactComposerStatusStore').getMessageText(m)).setString('xhpc_composerid',k.composerID).setBool('markdown_enabled',aa.is_markdown).getURI();}else da=new (c('URI'))('/ajax/updatestatus.php');da=c('ActorURI').create(da,l);var eb=new (c('ReactComposerAsyncRequest'))(k.composerID,da).setData(aa).setHandler(k.onPostSuccess).setErrorHandler(k.onPostFailure);if(p&&c('ReactComposerFileStore').hasFile(m)){var fb=c('ReactComposerFileStore').getFile(m),gb=new FormData();gb.append('file1',fb);eb.setRawData(gb);}eb.send();}};f.exports=i;}),null);
__d('ReactComposerPagesStore',['ReactComposerActionStore','ReactComposerMediaConfig','ReactComposerPostUtils','ReactComposerTaggerType','PagesComposerActionsTypes','PagesComposerUnpublishedPostsStore','dotAccess','formatDate'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j={instagramCrossPosting:false};h=babelHelpers.inherits(k,c('ReactComposerActionStore'));i=h&&h.prototype;function k(){'use strict';var l;i.constructor.call(this,function(){return Object.assign({},j);},function(m){switch(m.type){case c('PagesComposerActionsTypes').INSTAGRAM_CROSS_POSTING:l&&l.$ReactComposerPagesStore1(m);break;}});l=this;}k.prototype.__onPostStarted=function(l){'use strict';var m=c('PagesComposerUnpublishedPostsStore').getIsDraft(l.composerID),n=Object.assign({},l.config);n.contextInfo=Object.assign({},n.contextInfo||{});n.contextInfo.draft=m;var o=c('PagesComposerUnpublishedPostsStore').getScheduledPublishTime(l.composerID);if(o){var p=c('formatDate')(o,'m/d/Y',{skipPatternLocalization:true}),q=60*(60*o.getHours()+o.getMinutes());n.contextInfo.scheduled=true;n.contextInfo.future_date=p;n.contextInfo.future_time=q;}var r=c('PagesComposerUnpublishedPostsStore').getBackdateConfig(l.composerID);if(r){n.contextInfo.backdated_date={year:r.year,month:r.month,day:r.day};n.contextInfo.hide_from_newsfeed=r.hideFromNewsFeed;}var s=c('PagesComposerUnpublishedPostsStore').getStopFeedDistributionTime(l.composerID);if(s){n.contextInfo.stopFeedDistributionDateFormatted=c('formatDate')(s,'m/d/Y',{skipPatternLocalization:true});n.contextInfo.stopFeedDistributionTimeFormatted=60*(60*s.getHours()+s.getMinutes());}var t=c('PagesComposerUnpublishedPostsStore').getIsAdsPost(l.composerID);if(t)n.contextInfo.is_ad_post=1;var u=this.getComposerData(l.composerID).instagramCrossPosting;if(u)n.contextInfo.instagramCrossPosting=true;var v=l.config.taggersConfig[c('ReactComposerTaggerType').TARGETING],w=v?c('dotAccess')(v,'feedTargetingGK'):false;c('ReactComposerPostUtils').post({actorID:l.actorID,composerConfig:n,composerID:l.composerID,composerType:l.composerType,targetID:l.targetID,onPostSuccess:l.onPostSuccess,useHints:w});};k.prototype.__canPost=function(l){'use strict';return !c('ReactComposerPostUtils').isPostButtonDisabled(l.composerID,c('ReactComposerMediaConfig').photo.limit);};k.prototype.$ReactComposerPagesStore1=function(l){'use strict';var m=this.getComposerData(l.composerID);m.instagramCrossPosting=l.enabled;};f.exports=new k();}),null);
__d('PagesComposerExtraAttachmentSelector.react',['fbt','invariant','ix','ReactComponentWithPureRenderMixin','React','ReactDOM','ReactFragment','BanzaiODS','ReactComposerAttachmentSelectorContainer.react','ReactComposerAttachmentType','ReactComposerLoggingName','DOM','JobsActionsTypedLogger','LayerHideOnTransition','PagesCalloutActions','PagesCalloutDispatcher','PagesCalloutHelper','XUIAmbientNUX.react','PagesComposerExtraAttachmentIcons','getByPath'],(function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('React').createClass({displayName:'PagesComposerExtraAttachmentSelector',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{label:k.string.isRequired,icon:k.oneOf(Object.keys(c('PagesComposerExtraAttachmentIcons'))).isRequired,attachmentsConfig:k.object.isRequired},getInitialState:function m(){return {offersNuxShown:false,showJobOpeningNUX:false,showProductNux:false};},componentDidMount:function m(){var n=this.props.attachmentsConfig.attachments;if(n.JOB_OPENING&&n.JOB_OPENING.jobTipID)c('PagesCalloutDispatcher').dispatch({type:c('PagesCalloutActions').REGISTER_CALLOUT,data:{tip_id:n.JOB_OPENING.jobTipID,showCallback:function(){return this._showJobNux();}.bind(this),nux_id:n.JOB_OPENING.jobNuxID}});if(n.OFFER&&n.OFFER.offersTipID)c('PagesCalloutDispatcher').dispatch({type:c('PagesCalloutActions').REGISTER_CALLOUT,data:{tip_id:n.OFFER.offersTipID,showCallback:function(){return this._showOffersNux();}.bind(this),nux_id:n.OFFER.offersNuxID}});if(n.PRODUCT&&n.PRODUCT.productNuxTipData.tip_id)c('PagesCalloutDispatcher').dispatch({type:c('PagesCalloutActions').REGISTER_CALLOUT,data:{tip_id:n.PRODUCT.productNuxTipData.tip_id,showCallback:function(){return this._showProductNux();}.bind(this),nux_id:n.PRODUCT.productNuxTipData.nux_id}});},_showJobNux:function m(){new (c('JobsActionsTypedLogger'))().setName('pages_extra_composer_job_nux_impression').setEmployerID(c('getByPath')(this.props,['config','attachments','JOB_OPENING','pageID'],null)).log();this.setState({showJobOpeningNUX:true,offersNuxShown:false,showProductNux:false});},_showOffersNux:function m(){c('BanzaiODS').bumpEntityKey('offers','offers_v2_pages_composer_nux_shown');this.setState({offersNuxShown:true,showJobOpeningNUX:false,showProductNux:false});},_showProductNux:function m(){this.setState({showProductNux:true,showJobOpeningNUX:false,offersNuxShown:false});},_onOffersNUXCloseButtonClick:function m(){var n=this.props.attachmentsConfig.attachments;if(n.OFFER&&n.OFFER.offersTipID)c('PagesCalloutHelper').logXout(n.OFFER.offersTipID);c('BanzaiODS').bumpEntityKey('offers','offers_v2_pages_composer_nux_dismissed');this.setState({offersNuxShown:false});},_onJobPostingComposerNUXCloseButtonClick:function m(){var n=this.props.attachmentsConfig.attachments;if(n.JOB_OPENING&&n.JOB_OPENING.jobTipID)c('PagesCalloutHelper').logXout(n.JOB_OPENING.jobTipID);new (c('JobsActionsTypedLogger'))().setName('pages_extra_composer_job_nux_xout').setEmployerID(c('getByPath')(this.props,['config','attachments','JOB_OPENING','pageID'],null)).log();this.setState({showJobOpeningNUX:false});},_onProductNuxClose:function m(){var n=this.props.attachmentsConfig.attachments;if(n.PRODUCT&&n.PRODUCT.productNuxTipData)c('PagesCalloutHelper').logXout(n.PRODUCT.productNuxTipData.tip_id);this.setState({showProductNux:false});},renderLayers:function m(){var n={offers_nux:c('React').createElement(c('XUIAmbientNUX.react'),{behaviors:{LayerHideOnTransition:c('LayerHideOnTransition')},contextRef:function(){return this.refs.composerSelector;}.bind(this),position:'right',shown:this.state.offersNuxShown,onCloseButtonClick:this._onOffersNUXCloseButtonClick,key:'ambientNUX'},h._("Now you can create an offer right from your Page.")),job_posting_nux:c('React').createElement(c('XUIAmbientNUX.react'),{behaviors:{LayerHideOnTransition:c('LayerHideOnTransition')},contextRef:function(){return this.refs.composerSelector;}.bind(this),key:'ambientNUX',onCloseButtonClick:this._onJobPostingComposerNUXCloseButtonClick,position:'above',shown:this.state.showJobOpeningNUX},h._("Introducing Job Posts - create them for free from your Page!")),product_nux:null},o=c('ReactDOM').findDOMNode(this.refs.composerSelector),p=o?c('DOM').scry(o,'i')[0]:null;if(p!==null)n.product_nux=c('React').createElement(c('XUIAmbientNUX.react'),{behaviors:{LayerHideOnTransition:c('LayerHideOnTransition')},context:p,key:'ambientNUX',onCloseButtonClick:this._onProductNuxClose,position:'above',shown:this.state.showProductNux},h._("Share a product from your Shop"));return c('ReactFragment').create(n);},render:function m(){return (c('React').createElement('span',null,c('React').createElement(c('ReactComposerAttachmentSelectorContainer.react'),{attachmentID:c('ReactComposerAttachmentType').PAGES_EXTRA,label:this.props.label,icon:this._renderIcon(),id:'extraAttachmentSelector',ref:'composerSelector',loggingName:c('ReactComposerLoggingName').PAGES_EXTRA_TAB_SELECTOR}),this.renderLayers()));},_renderIcon:function m(){switch(this.props.icon){case c('PagesComposerExtraAttachmentIcons').FINCH_COUPONS_ICON:return j('/images/icons/pages/coupons/finch-offers.png');case c('PagesComposerExtraAttachmentIcons').Q_AND_A_ICON:return j('/images/litestand/composer/icons/qanda.png');case c('PagesComposerExtraAttachmentIcons').CAUSE_ICON:return j('/images/icons/pages/donations/cause.png');case c('PagesComposerExtraAttachmentIcons').COUPONS_ICON:return j('/images/icons/pages/coupons/offers.png');case c('PagesComposerExtraAttachmentIcons').FINCH_EVENTS_ICON:return j('/images/icons/finch-event.png');case c('PagesComposerExtraAttachmentIcons').EVENTS_ICON:return j('/images/icons/event.gif');case c('PagesComposerExtraAttachmentIcons').PRODUCT_ICON:return j('/images/litestand/composer/icons/sell.png');case c('PagesComposerExtraAttachmentIcons').OFFERS_ICON:return j('/images/facelift/composer/icons/offer_event_16.png');case c('PagesComposerExtraAttachmentIcons').BOOK_TRAVEL_ICON:return j('/images/icons/pages/composer/booknow_1x.png');case c('PagesComposerExtraAttachmentIcons').LEARN_MORE_ICON:return j('/images/icons/pages/composer/learnmore_1x.png');case c('PagesComposerExtraAttachmentIcons').SHOP_NOW_ICON:return j('/images/icons/pages/composer/shopnow_1x.png');case c('PagesComposerExtraAttachmentIcons').SIGN_UP_ICON:return j('/images/icons/pages/composer/signup_1x.png');case c('PagesComposerExtraAttachmentIcons').MORE_ICON:return j('/images/facelift/composer/icons/more_16.png');default:i(0);}}});f.exports=l;}),null);
__d("XPagesExtraAttachmentBootstrapController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/pages\/extra\/bootstrap\/",{});}),null);
__d('PagesComposerExtraLazyAttachment.react',['ReactComposerAttachmentType','ReactComposerLoadableAttachmentBodyMixin','ReactComposerBootloaderPropTypes','ActorURI','React','XPagesExtraAttachmentBootstrapController'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'PagesComposerExtraLazyAttachment',mixins:[c('ReactComposerLoadableAttachmentBodyMixin')],propTypes:{bootloader:c('ReactComposerBootloaderPropTypes').isRequired},statics:{attachmentID:c('ReactComposerAttachmentType').PAGES_EXTRA},bootload:function j(k){this.props.bootloader.extraAttachment(k);},getBootstrapURI:function j(){var k=c('XPagesExtraAttachmentBootstrapController').getURIBuilder().getURI();return c('ActorURI').create(k,this.context.actorID);}});f.exports=i;}),null);
__d("XReactComposerCTAAttachmentBootstrapController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/cta\/bootstrap\/",{composer_id:{type:"String",required:true},composer_type:{type:"Enum",required:true,enumType:1},target_id:{type:"Int",required:true},cta_type:{type:"String",required:true}});}),null);
__d('ReactComposerCTALazyAttachment.react',['ReactComposerAttachmentType','ReactComposerBootloaderPropTypes','ReactComposerLoadableAttachmentBodyMixin','ActorURI','Bootloader','React','XReactComposerCTAAttachmentBootstrapController'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactComposerCTALazyAttachment',mixins:[c('ReactComposerLoadableAttachmentBodyMixin')],statics:{attachmentID:c('ReactComposerAttachmentType').CTA},propTypes:{bootloader:c('ReactComposerBootloaderPropTypes')},bootload:function i(j){if(this.props.bootloader&&this.props.bootloader.ctaAttachment){this.props.bootloader.ctaAttachment(j);}else c('Bootloader').loadModules(["ReactComposerCTAAttachmentContainer.react"],j,'ReactComposerCTALazyAttachment.react');},getBootstrapURI:function i(){var j=this.props.config.attachmentsConfig,k=j[c('ReactComposerAttachmentType').PAGES_EXTRA],l=k.attachments[c('ReactComposerAttachmentType').CTA],m=c('XReactComposerCTAAttachmentBootstrapController').getURIBuilder().setString('composer_id',this.context.composerID).setEnum('composer_type',this.context.composerType).setInt('target_id',this.context.targetID).setString('cta_type',l.ctaType).getURI();return c('ActorURI').create(m,this.context.actorID);}});f.exports=h;}),null);
__d('ReactComposerCallLazyAttachment.react',['ReactComposerAttachmentType','ReactComposerBootloaderPropTypes','ReactComposerLoadableAttachmentBodyMixin','AdsCallToActionTypes','ActorURI','Bootloader','React','XReactComposerCTAAttachmentBootstrapController'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactComposerCallLazyAttachment',mixins:[c('ReactComposerLoadableAttachmentBodyMixin')],statics:{attachmentID:c('ReactComposerAttachmentType').CALL},propTypes:{bootloader:c('ReactComposerBootloaderPropTypes')},bootload:function i(j){if(this.props.bootloader&&this.props.bootloader.ctaAttachment){this.props.bootloader.ctaAttachment(j);}else c('Bootloader').loadModules(["ReactComposerCTAAttachmentContainer.react"],j,'ReactComposerCallLazyAttachment.react');},getBootstrapURI:function i(){var j=c('XReactComposerCTAAttachmentBootstrapController').getURIBuilder().setString('composer_id',this.context.composerID).setEnum('composer_type',this.context.composerType).setInt('target_id',this.context.targetID).setString('cta_type',c('AdsCallToActionTypes').TYPES.CALL_NOW.name).getURI();return c('ActorURI').create(j,this.context.actorID);}});f.exports=h;}),null);
__d('ReactComposerGetDirectionsLazyAttachment.react',['ReactComposerAttachmentType','ReactComposerBootloaderPropTypes','ReactComposerLoadableAttachmentBodyMixin','AdsCallToActionTypes','ActorURI','Bootloader','React','XReactComposerCTAAttachmentBootstrapController'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactComposerGetDirectionsLazyAttachment',mixins:[c('ReactComposerLoadableAttachmentBodyMixin')],statics:{attachmentID:c('ReactComposerAttachmentType').GET_DIRECTIONS},propTypes:{bootloader:c('ReactComposerBootloaderPropTypes')},bootload:function i(j){if(this.props.bootloader&&this.props.bootloader.ctaAttachment){this.props.bootloader.ctaAttachment(j);}else c('Bootloader').loadModules(["ReactComposerCTAAttachmentContainer.react"],j,'ReactComposerGetDirectionsLazyAttachment.react');},getBootstrapURI:function i(){var j=c('XReactComposerCTAAttachmentBootstrapController').getURIBuilder().setString('composer_id',this.context.composerID).setEnum('composer_type',this.context.composerType).setInt('target_id',this.context.targetID).setString('cta_type',c('AdsCallToActionTypes').TYPES.GET_DIRECTIONS.name).getURI();return c('ActorURI').create(j,this.context.actorID);}});f.exports=h;}),null);
__d('ReactComposerMessageLazyAttachment.react',['ReactComposerAttachmentType','ReactComposerBootloaderPropTypes','ReactComposerLoadableAttachmentBodyMixin','AdsCallToActionTypes','ActorURI','Bootloader','React','XReactComposerCTAAttachmentBootstrapController'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactComposerMessageLazyAttachment',mixins:[c('ReactComposerLoadableAttachmentBodyMixin')],statics:{attachmentID:c('ReactComposerAttachmentType').MESSAGE},propTypes:{bootloader:c('ReactComposerBootloaderPropTypes')},bootload:function i(j){if(this.props.bootloader&&this.props.bootloader.ctaAttachment){this.props.bootloader.ctaAttachment(j);}else c('Bootloader').loadModules(["ReactComposerCTAAttachmentContainer.react"],j,'ReactComposerMessageLazyAttachment.react');},getBootstrapURI:function i(){var j=c('XReactComposerCTAAttachmentBootstrapController').getURIBuilder().setString('composer_id',this.context.composerID).setEnum('composer_type',this.context.composerType).setInt('target_id',this.context.targetID).setString('cta_type',c('AdsCallToActionTypes').TYPES.MESSAGE_PAGE.name).getURI();return c('ActorURI').create(j,this.context.actorID);}});f.exports=h;}),null);
__d('ReactTargetingTaggerStore.react',['ReactComposerStoreBase','ReactComposerTaggerActionType','ReactComposerTaggerType'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){var l={};l[c('ReactComposerTaggerType').TARGETING]={};return {taggersData:l,taggersSource:{}};},function(l){if(l.type===c('ReactComposerTaggerActionType').SET_TAGGER_DATA)k&&k.$ReactTargetingTaggerStore1(l);});k=this;}j.prototype.getTaggerData=function(k,l){'use strict';return this.getComposerData(k).taggersData[l];};j.prototype.$ReactTargetingTaggerStore1=function(k){'use strict';var l=this.getComposerData(k.composerID),m=Array.isArray(k.taggerData)?k.taggerData.slice():Object.assign({},k.taggerData);l.taggersData[k.taggerID]=m;this.emitChange(k.composerID);};f.exports=new j();}),null);
__d("XPagesGetTargetingMetadataController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/targeting\/metadata\/",{page_id:{type:"Int",required:true},target_spec:{type:"String",required:true}});}),null);
__d('ReactComposerTargetingUtils',['fbt','AsyncRequest','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerTaggerType','ReactTargetingTaggerStore.react','XPagesGetTargetingMetadataController','XUIText.react','React','curry','intlList'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={fetchMetadata:function j(k,l,m){var n=c('XPagesGetTargetingMetadataController').getURIBuilder().setInt('page_id',l).setString('target_spec',JSON.stringify(k)).getURI();new (c('AsyncRequest'))().setURI(n).setHandler(c('curry')(this._onFetchMetadataHandler,m)).send();},_onFetchMetadataHandler:function j(k,l){var m=l.payload,n=m.sentences.map(function(o){return (c('React').createElement('span',null,h._("{content_label} {children}",[h.param('content_label',c('React').createElement(c('XUIText.react'),{weight:'bold'},o.content)),h.param('children',c('intlList')(o.children,c('intlList').CONJUNCTIONS.OR))])));});k(JSON.parse(m.target_spec),c('React').createElement('span',null,c('intlList')(n,c('intlList').CONJUNCTIONS.NONE)),m.reach_estimate);},getDataFromComposerTaggerStore:function j(k){return c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').TARGETING);},getDataFromTargetingTaggerStore:function j(k){return c('ReactTargetingTaggerStore.react').getTaggerData(k,c('ReactComposerTaggerType').TARGETING);},setData:function j(k,l){var m={},n=['targeting','gating','hints','targetingSentences','gatingSentences','reachEstimate'];n.map(function(o){if(l[o])m[o]=l[o];});c('ReactComposerTaggerActions').setTaggerDataWithoutLogging(k,c('ReactComposerTaggerType').TARGETING,m);}};f.exports=i;}),null);
__d('PagesComposerAudiences.react',['cx','fbt','BanzaiODS','BootloadedComponent.react','ReactComposerContextMixin','JSResource','LayerFadeOnHide','Link.react','React','ReactComposerTaggerStore','ReactComposerTargetingUtils','ReactTargetingTaggerStore.react','TargetingSpecStore','XUIDialog.react','XUIDialogBody.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogSaveButton.react','XUISpinner.react','XUIText.react','areEqual','isEmpty'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=587,l=c('React').createClass({displayName:'PagesComposerAudiences',mixins:[c('ReactComposerContextMixin')],propTypes:{shown:j.bool.isRequired,onToggle:j.func.isRequired,onSave:j.func.isRequired,rootElement:j.object,callbackDataStatus:j.func,callbackSelectionStatus:j.func,saveData:j.func,initialActiveKey:j.string,canSeeCompleteList:j.bool,useTargetingAsFilter:j.bool,canSeeDemographicOptions:j.bool,feedTargetingShowReachGK:j.bool,hideFeedTargeting:j.bool,useFromLegacyComposer:j.bool,shouldShowRestrictionTabNux:j.bool,shouldHideLeftFooter:j.bool,allowExclusionsWithoutInclusions:j.bool},getStores:function m(){if(this.props.useFromLegacyComposer)return [c('ReactTargetingTaggerStore.react')];return [c('ReactComposerTaggerStore')];},getInitialState:function m(){return {fetching:false,targeting:this.getInitialSavedData('targeting'),gating:this.getInitialSavedData('gating'),hints:this.getInitialSavedData('hints'),targetingSentences:this.getInitialSavedData('targetingSentences'),gatingSentences:this.getInitialSavedData('gatingSentences'),reachEstimate:this.getInitialReachEstimate()};},componentWillMount:function m(){if(this.props.callbackSelectionStatus)this.props.callbackSelectionStatus(true);},componentWillUnmount:function m(){if(this.props.callbackSelectionStatus)this.props.callbackSelectionStatus(false);},componentDidMount:function m(){c('BanzaiODS').bumpEntityKey('ui_audience_targeting','dialog_open');},_onSave:function m(){var n={};Object.assign(n,this.state);if(!c('isEmpty')(n.targeting))n.targeting=this.convertConnectionsToInterestsFromApiToTargetingSpec(c('TargetingSpecStore').getTargetingApiSpec());if(!c('isEmpty')(n.gating))n.gating=c('TargetingSpecStore').getTargetingApiSpec();if(this.props.useFromLegacyComposer){this._onSaveLegacy(n);}else this._onSaveStore(n);this.props.onSave();},_onSaveStore:function m(n){c('ReactComposerTargetingUtils').setData(this.context.composerID,n);},_isDefaultSpec:function m(n){return c('areEqual')(n,{age_max:65,age_min:13});},_onSaveLegacy:function m(n){if(this.props.callbackDataStatus)this.props.callbackDataStatus(n.gating&&!c('isEmpty')(n.gating)&&!this._isDefaultSpec(n.gating)||n.targeting&&!c('isEmpty')(n.targeting)&&!this._isDefaultSpec(n.targeting)||n.hints&&!c('isEmpty')(n.hints)&&!this._isDefaultSpec(n.hints));c('ReactComposerTargetingUtils').setData(this.context.targetID,n);},_onTargetingChange:function m(n){if(!this.props.useTargetingAsFilter){delete n.age_min;delete n.age_max;}if(c('areEqual')(this.state.targeting,n)||c('areEqual')(this.state.hints,n))return;this.setState({fetching:true});var o=this.props.useTargetingAsFilter?n:Object.assign({},n,this.state.gating);c('ReactComposerTargetingUtils').fetchMetadata(o,this.context.targetID,this._onTargetingChangeHandler);},_onTargetingChangeHandler:function m(n,o,p){if(this.props.useTargetingAsFilter){this.setState({fetching:false,targeting:n,targetingSentences:o,reachEstimate:p});}else this.setState({fetching:false,hints:n,targetingSentences:o});},_onGatingChange:function m(n){if(c('areEqual')(this.state.gating,n))return;this.setState({fetching:true});var o=this.props.useTargetingAsFilter?n:Object.assign({},n,this.state.hints);c('ReactComposerTargetingUtils').fetchMetadata(o,this.context.targetID,this._onGatingChangeHandler);},_onGatingChangeHandler:function m(n,o){if(this.props.useTargetingAsFilter){this.setState({fetching:false,gating:n,gatingSentences:o});}else this.setState({fetching:false,gating:n,targetingSentences:o});},convertConnectionsToInterestsFromApiToTargetingSpec:function m(n){if(n&&n.connections&&!n.fan_of){n.fan_of=n.connections;delete n.connections;}return n;},convertInterestsToConnectionsFromTargetingSpecToApi:function m(n){if(n&&n.fan_of&&!n.connections){n.connections=n.fan_of;delete n.fan_of;}return n;},getInitialSavedData:function m(n){var o={};if(this.props.useFromLegacyComposer){o=this.getSavedSpec(n,this.context.targetID);}else o=this.getSavedSpec(n,this.context.composerID);return this.convertInterestsToConnectionsFromTargetingSpecToApi(o);},getSavedSpec:function m(n,o){if(this.props.useFromLegacyComposer){var p=c('ReactComposerTargetingUtils').getDataFromTargetingTaggerStore(o);}else p=c('ReactComposerTargetingUtils').getDataFromComposerTaggerStore(o);return p==null?null:p[n];},getInitialReachEstimate:function m(){if(!this.props.useTargetingAsFilter){return null;}else{var n=c('ReactComposerTargetingUtils').getDataFromComposerTaggerStore(this.context.composerID);return n==null?null:n.reachEstimate;}},renderReachEstimate:function m(){if(!this.state.reachEstimate)return null;var n=this.state.reachEstimate===20?i._("0-20"):this.state.reachEstimate,o=i._("Reach estimate for news feed targeting: {estimate_number}",[i.param('estimate_number',n)]);return (c('React').createElement(c('XUIText.react'),null,o));},renderHelpLink:function m(){var n=i._("Have a Question?"),o='https://www.facebook.com/facebookmedia/get-started/'+'audience-optimization/',p=c('React').createElement(c('Link.react'),{href:o,target:'_blank'},i._("Read our Guidelines."));return (c('React').createElement('div',{className:"_3xrd"},c('React').createElement(c('XUIText.react'),null,n),' ',p));},renderFooterLeftContent:function m(){if(this.props.shouldHideLeftFooter)return null;if(!this.props.useTargetingAsFilter)return this.renderHelpLink();return this.renderReachEstimate();},render:function m(){var n=c('React').createElement('div',{className:"_1220"},c('React').createElement(c('XUISpinner.react'),null)),o=this.props.useTargetingAsFilter?this.state.targeting:this.state.hints;return (c('React').createElement(c('XUIDialog.react'),{shown:this.props.shown,behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},layerHideOnBlur:false,onToggle:this.props.onToggle,width:k},c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('PagesComposerAudiencesBody.react').__setRef('PagesComposerAudiences.react'),bootloadPlaceholder:n,initialTargetingSpec:o,initialGatingSpec:this.state.gating,onTargetingChange:this._onTargetingChange,onGatingChange:this._onGatingChange,initialActiveKey:this.props.initialActiveKey,canSeeCompleteList:this.props.canSeeCompleteList,useTargetingAsFilter:this.props.useTargetingAsFilter,canSeeDemographicOptions:this.props.canSeeDemographicOptions,feedTargetingShowReachGK:this.props.feedTargetingShowReachGK,hideFeedTargeting:this.props.hideFeedTargeting,shouldShowRestrictionTabNux:this.props.shouldShowRestrictionTabNux,allowExclusionsWithoutInclusions:this.props.allowExclusionsWithoutInclusions})),c('React').createElement(c('XUIDialogFooter.react'),{leftContent:this.renderFooterLeftContent()},c('React').createElement(c('XUIDialogCancelButton.react'),{use:'default'}),c('React').createElement(c('XUIDialogSaveButton.react'),{className:"_2uyv",use:'confirm',action:'confirm',disabled:this.state.fetching,onClick:this._onSave}))));}});f.exports=l;}),null);
__d('ReactComposerPagesPrivacySelector.react',['cx','fbt','ix','ReactComposerContextMixin','Image.react','PagesComposerAudiences.react','PopoverMenu.react','ReactComponentWithPureRenderMixin','React','ReactComposerTargetingUtils','ReactLayeredComponentMixin_DEPRECATED','ReactSelectorUtils','Tooltip.react','XUIGrayText.react','ReactXUIMenu','XUIMenuSeparator.react','XUIMenuStaticItem.react','XUISelector.react','XUISelectorButton.react','PagesComposerAudiencesConstants'],(function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=c('ReactXUIMenu').SelectableMenu,l=c('XUISelector.react').Option,m=c('PagesComposerAudiencesConstants').TABS,n=j('/images/icons/audience/everyone.png'),o=j('/images/icons/audience/custom.png'),p='everyone',q='custom',r=c('React').PropTypes,s=c('React').createClass({displayName:'ReactComposerPagesPrivacySelector',mixins:[c('ReactComposerContextMixin'),c('ReactComponentWithPureRenderMixin'),c('ReactLayeredComponentMixin_DEPRECATED')],propTypes:{gatingSentences:r.object,useReactPrivacyDialogForLegacy:r.bool,isVideoDialog:r.bool,useTargetingAsFilter:r.bool},getInitialState:function t(){return {dialogShown:false};},_getSelectorButton:function t(){var u=this.props.gatingSentences?o:n;return (c('React').createElement(c('XUISelectorButton.react'),{image:c('React').createElement(c('Image.react'),{src:u}),suppressed:true}));},_getMenuItems:function t(){return [c('React').createElement(l,{icon:c('React').createElement(c('Image.react'),{src:n}),value:p,onclick:this._onClearPrivacy},i._("Public")),c('React').createElement(c('XUIMenuSeparator.react'),null),c('React').createElement(c('XUIMenuStaticItem.react'),null,c('React').createElement(c('XUIGrayText.react'),{shade:'light'},i._("Limit Audience By:"))),c('React').createElement(l,{icon:c('React').createElement(c('Image.react'),{src:o}),value:q,onclick:function(){return this._onToggle(true);}.bind(this)},i._("Demographics"))];},_onToggle:function t(u){setTimeout(function(){return this.setState({dialogShown:u});}.bind(this),0);},_onClearPrivacy:function t(){var u=c('ReactComposerTargetingUtils').getDataFromComposerTaggerStore(this.context.composerID),v=Object.assign({},u);v.gating=null;v.gatingSentences=null;c('ReactComposerTargetingUtils').setData(this.context.composerID,v);},renderLayers:function t(){if(!this.state.dialogShown)return {};return (c('React').createElement(c('PagesComposerAudiences.react'),{shown:this.state.dialogShown,onToggle:this._onToggle,onSave:function(){return this._onToggle(false);}.bind(this),initialActiveKey:m.GATING,useFromLegacyComposer:this.props.isVideoDialog,useTargetingAsFilter:this.props.useTargetingAsFilter}));},render:function t(){var u=this.props.gatingSentences?q:p,v=c('ReactSelectorUtils').processMenuItems(this._getMenuItems(),u),w=c('React').createElement(k,{value:u},v.items);return (c('React').createElement(c('Tooltip.react'),{tooltip:this.props.gatingSentences},c('React').createElement('div',{className:"_5dd8"},c('React').createElement(c('PopoverMenu.react'),{menu:w},this._getSelectorButton()))));}});f.exports=s;}),null);
__d('ReactComposerPagesPrivacyContainer.react',['fbt','ix','cx','ReactComposerPagesPrivacySelector.react','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComponentWithPureRenderMixin','React','Image.react','Tooltip.react'],(function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=i('/images/icons/audience/everyone_gray.png'),l=c('React').PropTypes,m=c('React').createClass({displayName:'ReactComposerPagesPrivacyContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerTaggerStore'))],propTypes:{lockToPrivacy:l.string,useTargetingAsFilter:l.bool},statics:{calculateState:function n(o,p){var q=c('ReactComposerTaggerStore').getTaggerData(o,c('ReactComposerTaggerType').TARGETING)||{};return {gatingSentences:q.gatingSentences};}},render:function n(){if(this.props.lockToPrivacy){return this._renderLockedIcon();}else return this._renderSelector();},_renderSelector:function n(){return (c('React').createElement(c('ReactComposerPagesPrivacySelector.react'),{gatingSentences:this.state.gatingSentences,useTargetingAsFilter:this.props.useTargetingAsFilter}));},_renderLockedIcon:function n(){switch(this.props.lockToPrivacy){case 'everyone':return (c('React').createElement('div',{className:"_3jv0"},c('React').createElement(c('Tooltip.react'),{tooltip:h._("Everyone can see posts on this public page")},c('React').createElement('div',{className:"_3jv1"},c('React').createElement(c('Image.react'),{src:k})))));default:return null;}}});f.exports=m;}),null);
__d('ReactComposerProductTaggerButton.react',['fbt','cx','AsyncRequest','CommerceProductTaggerType','CommerceSelfServeNUXType','ReactComposerTaggerActions','ReactComposerTaggerButtonMixin','ReactComposerTaggerType','React','XCommerceSelfServeMerchantNUXSeenController','XUIAmbientNUX.react'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerProductTaggerButton',mixins:[c('ReactComposerTaggerButtonMixin')],statics:{taggerID:c('ReactComposerTaggerType').PRODUCT},propTypes:{productTaggerType:j.string.isRequired},getTitle:function l(){return h._("Tag a product");},getNUX:function l(){if(!this.state.showNUX||!this.refs.fbReactComposerProductTaggerButton)return null;var m=this.props.productTaggerType===c('CommerceProductTaggerType').SHOP_PAGE?h._("Tag products from your shop in your post"):h._("Tag products from your product catalog in your post");return (c('React').createElement(c('XUIAmbientNUX.react'),{alignment:'center',contextRef:function(){return this.refs.fbReactComposerProductTaggerButton;}.bind(this),position:'below',shown:true,onCloseButtonClick:this._hideNUX},m));},getTooltip:function l(){return h._("Tag a product");},getClassName:function l(){return "_22ma";},getRef:function l(){return 'fbReactComposerProductTaggerButton';},_hideNUX:function l(){c('ReactComposerTaggerActions').handleSetTaggerShowNUX(this.context.composerID,c('ReactComposerTaggerType').PRODUCT,false);var m=c('XCommerceSelfServeMerchantNUXSeenController').getURIBuilder().setInt('page_id',this.context.actorID).setEnum('nux_type',c('CommerceSelfServeNUXType').COMPOSER_PRODUCT_TAGGER_BUTTON).getURI();new (c('AsyncRequest'))(m).send();}});f.exports=k;}),null);
__d('ReactComposerPeopleTaggerTokenizerToken.react',['cx','React','SearchableEntry','TokenizerToken.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$ReactComposerPeopleTaggerTokenizerToken1=function(){return (c('React').createElement('span',{className:"_jsa"}));},n;}l.prototype.render=function(){'use strict';var m=this.props.entry&&this.props.entry.getAuxiliaryData().isFacebox,n=(m?"_jsb":'')+(' '+"_jsc");return (c('React').createElement(c('TokenizerToken.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,n),glyph:this.$ReactComposerPeopleTaggerTokenizerToken1()})));};l.propTypes={label:k.string.isRequired,entry:k.instanceOf(c('SearchableEntry')).isRequired,onRemove:k.func,highlighted:k.bool};f.exports=l;}),null);
__d('ReactComposerProductTaggerTokenizerToken.react',['cx','ReactComposerPeopleTaggerTokenizerToken.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';var l="_rox";return (c('React').createElement(c('ReactComposerPeopleTaggerTokenizerToken.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,l)})));};function k(){'use strict';i.apply(this,arguments);}f.exports=k;}),null);
__d('ReactComposerProductTaggerComponent.react',['cx','fbt','ReactComposerPhotoActions','ReactComposerProductTaggerTokenizerToken.react','ReactComposerTaggerPresenter','ReactComposerTaggerViewStyles','Grid.react','React','TokenizerExampleSearchSource','XUITokenizer.react','emptyFunction'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('Grid.react').GridItem,m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={edited:false},this.$ReactComposerProductTaggerComponent1=function(){this.props.onSelect&&this.props.onSelect({});}.bind(this),this.$ReactComposerProductTaggerComponent3=function(t){var u=this.props.taggerData,v=t.getUniqueID(),w=u.some(function(x){return x.getUniqueID()===v;});if(w){return;}else{this.setState({edited:true});u.push(t);}this.props.onSelect&&this.props.onSelect(u);}.bind(this),this.$ReactComposerProductTaggerComponent5=function(t){var u=this.props.taggerData,v=u.indexOf(t);if(v==-1)return;this.setState({edited:true});u.splice(v,1);c('ReactComposerPhotoActions').untagSubjectFromAllPhotos(this.props.reactComposerID,t.getUniqueID());this.props.onSelect&&this.props.onSelect(u);}.bind(this),this.$ReactComposerProductTaggerComponent4=function(event){this.setState({edited:true});}.bind(this),this.$ReactComposerProductTaggerComponent2=function(){var t={};t.taggerViewStyle=c('ReactComposerTaggerViewStyles').DEFAULT;return Object.assign({},c('ReactComposerTaggerPresenter'),{extraRendererProps:t,TokenRenderer:c('ReactComposerProductTaggerTokenizerToken.react')});},p;}n.prototype.render=function(){'use strict';return c('React').createElement(c('Grid.react'),{cols:2,className:"_5esl",role:'presentation'},c('React').createElement(l,{key:'label',className:"_5esm",role:'presentation'},i._("Products shown")),c('React').createElement(l,{key:'tokenizer',className:"_5esw",role:'presentation'},c('React').createElement('div',null,c('React').createElement(c('XUITokenizer.react'),babelHelpers['extends']({},this.props,{className:"_4fmg",presenter:this.$ReactComposerProductTaggerComponent2(),entries:this.props.taggerData,focusedOnInit:this.props.autoFocus,onAddEntryAttempt:this.$ReactComposerProductTaggerComponent3,onQueryStringChange:this.$ReactComposerProductTaggerComponent4,onRemoveEntryAttempt:this.$ReactComposerProductTaggerComponent5,placeholder:this.props.placeholder,searchSource:this.props.taggerSource})))));};n.propTypes={autoFocus:m.bool,placeholder:m.string,taggerSource:m.object,taggerData:m.array.isRequired,onSelect:m.func};n.defaultProps={autoFocus:true,onSelect:c('emptyFunction'),placeholder:i._("What products are in this post?"),taggerData:[],taggerSource:new (c('TokenizerExampleSearchSource'))()};f.exports=n;}),null);
__d('ReactComposerProductTaggerContainer.react',['ReactComposerLoggingName','ReactComposerProductTaggerComponent.react','ReactComposerTaggerActions','ReactComposerTaggerContainerMixin','ReactComposerTaggerType','React','SubscriptionsHandler','WebAsyncSearchSource'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerProductTaggerContainer',_subscriptions:undefined,mixins:[c('ReactComposerTaggerContainerMixin')],statics:{taggerID:c('ReactComposerTaggerType').PRODUCT,loggingName:c('ReactComposerLoggingName').PRODUCT_TAGGER,taggerComponent:c('ReactComposerProductTaggerComponent.react')},propTypes:{reactComposerID:h.string.isRequired,pageIDs:h.arrayOf(h.string).isRequired,viewer:h.string.isRequired},getInitialState:function j(){return {reachEstimate:null,searchSource:null};},componentWillMount:function j(){this._updateProductSearchSource();},componentWillUnmount:function j(){this._subscriptions&&this._subscriptions.release();},_updateProductSearchSource:function j(){var k=this.state.searchSource;if(k===null)k=this._createAndBootstrapProductTypeSearchSource();c('ReactComposerTaggerActions').setTaggerSource(this.context.composerID,c('ReactComposerTaggerType').PRODUCT,k);},_createAndBootstrapProductTypeSearchSource:function j(){var k={filter:['product_items'],viewer:this.props.viewer};return new (c('WebAsyncSearchSource'))({queryRequests:[{uri:'/ajax/product_items/typeahead/query.php',data:Object.assign({},k,{is_bootstrap:false,page_ids:this.props.pageIDs})}],bootstrapRequests:[{uri:'/ajax/product_items/typeahead/bootstrap.php',data:Object.assign({},k,{is_bootstrap:true,page_ids:this.props.pageIDs})}],auxiliaryFields:{verified:'is_verified'}});}});f.exports=i;}),null);
__d('ReactComposerTargetingTaggerButtonMixin',['cx','fbt'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={getInitialState:function k(){return {dialogShown:false};},getTitleTooltip:function k(){if(this.props.createLiveVideoTooltipText!=null){return this.props.createLiveVideoTooltipText;}else if(this.props.useTargetingAsFilter){return i._("Narrow the potential News Feed audience for this post");}else return i._("Choose the preferred audiences for this post");},getTitle:function k(){return this.getTitleTooltip();},getTooltip:function k(){return this.getTitleTooltip();},getClassName:function k(){return "_lmf";},getRef:function k(){return 'fbReactComposerTargetingTagger';},_onToggle:function k(l){setTimeout(function(){return this.setState({dialogShown:l});}.bind(this),0);},_onSelectX:function k(){this.setState({dialogShown:true});}};f.exports=j;}),null);
__d("XReactComposerTargetingTaggerNuxController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/edit\/targeting_tagger_nux\/",{});}),null);
__d('ReactComposerTargetingTaggerButton.react',['fbt','AsyncRequest','ReactComposerTaggerButtonMixin','ReactComposerTaggerType','ReactComposerTargetingTaggerButtonMixin','PagesComposerAudiences.react','React','ReactLayeredComponentMixin_DEPRECATED','XReactComposerTargetingTaggerNuxController','XUIAmbientNUX.react','XUIText.react','PagesComposerAudiencesConstants'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('PagesComposerAudiencesConstants').TABS,k=-12,l=300,m=c('React').createClass({displayName:'ReactComposerTargetingTaggerButton',mixins:[c('ReactComposerTaggerButtonMixin'),c('ReactComposerTargetingTaggerButtonMixin'),c('ReactLayeredComponentMixin_DEPRECATED')],propTypes:{createLiveVideoTooltipText:i.string,feedTargetingGK:i.bool,feedTargetingShowReachGK:i.bool,hideFeedTargeting:i.bool,shouldShowTargetingTaggerNux:i.bool,shouldShowRestrictionTabNux:i.bool,useTargetingAsFilter:i.bool,shouldHideLeftFooter:i.bool,allowExclusionsWithoutInclusions:i.bool},statics:{taggerID:c('ReactComposerTaggerType').TARGETING,disableToggle:true},getDefaultProps:function n(){return {feedTargetingGK:false,feedTargetingShowReachGK:false,hideFeedTargeting:false,useTargetingAsFilter:true};},getInitialState:function n(){return {showTargetingTaggerNux:this.props.shouldShowTargetingTaggerNux};},componentDidMount:function n(){var o=!this.state.dialogShown&&this.state.showTargetingTaggerNux&&this.props.feedTargetingGK;if(o){var p=c('XReactComposerTargetingTaggerNuxController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(p).setMethod('POST').setData({impression:true}).send();}},componentWillUnmount:function n(){if(this.state.showTargetingTaggerNux)this.setState({showTargetingTaggerNux:false});},_onNuxClose:function n(){this.setState({showTargetingTaggerNux:false});var o=c('XReactComposerTargetingTaggerNuxController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(o).setMethod('POST').setData({acked:true}).send();},_renderNux:function n(){return (c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:function(){return this.refs.fbReactComposerTargetingTagger;}.bind(this),onCloseButtonClick:this._onNuxClose,offsetY:k,position:'below',shown:true,width:'custom',customwidth:l},c('React').createElement('div',null,c('React').createElement(c('XUIText.react'),null,h._("Use Audience Optimization to reach people who are more likely to engage with your post.")))));},renderLayers:function n(){var o=!this.state.dialogShown&&this.state.showTargetingTaggerNux&&this.props.feedTargetingGK;if(o)return this._renderNux();if(this.state.dialogShown)return (c('React').createElement(c('PagesComposerAudiences.react'),{allowExclusionsWithoutInclusions:this.props.allowExclusionsWithoutInclusions,shown:this.state.dialogShown,onToggle:this._onToggle,onSave:function(){return this._onToggle(false);}.bind(this),initialActiveKey:this.props.hideFeedTargeting?j.GATING:j.TARGETING,shouldHideLeftFooter:this.props.shouldHideLeftFooter,useTargetingAsFilter:this.props.useTargetingAsFilter,feedTargetingShowReachGK:this.props.feedTargetingShowReachGK,hideFeedTargeting:this.props.hideFeedTargeting,shouldShowRestrictionTabNux:this.props.shouldShowRestrictionTabNux}));return {};}});f.exports=m;}),null);
__d('ReactComposerTargetingTaggerComponent.react',['cx','fbt','Grid.react','React','XUICloseButton.react','XUIText.react','emptyFunction','isEmpty'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('Grid.react').GridItem,m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$ReactComposerTargetingTaggerComponent1=function(){this.props.onSelect({});}.bind(this),p;}n.prototype.render=function(){'use strict';return (c('React').createElement(c('Grid.react'),{cols:2,className:"_5esl",role:'presentation'},c('React').createElement(l,{key:'prefix',className:"_5esm",role:'presentation'},i._("Targeting")),c('React').createElement(l,{key:'tagger',className:"_5esw",role:'presentation'},c('React').createElement('div',{className:"_2doa"},c('React').createElement('div',{className:"_2dob"},c('React').createElement(c('XUICloseButton.react'),{className:"_2doc"+(c('isEmpty')(this.props.taggerData)?' '+"hidden_elem":''),size:'small',type:'button',onClick:this.$ReactComposerTargetingTaggerComponent1})),c('React').createElement('div',{className:"_2dod"},c('React').createElement(c('XUIText.react'),null,this.props.targetingSentences))))));};n.propTypes={taggerData:m.object.isRequired,onSelect:m.func.isRequired,targetingSentences:m.object};n.defaultProps={taggerData:{},onSelect:c('emptyFunction')};f.exports=n;}),null);
__d('ReactComposerTargetingTaggerContainer.react',['ReactComposerLoggingName','ReactComposerTaggerActions','ReactComposerTaggerContainerStateMixin','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerTargetingTaggerComponent.react','SubscriptionsHandler','React'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactComposerTargetingTaggerContainer',_subscriptions:undefined,mixins:[c('ReactComposerTaggerContainerStateMixin')],statics:{taggerID:c('ReactComposerTaggerType').TARGETING},getInitialState:function i(){return {targetingSentences:null};},componentWillMount:function i(){var j=new (c('SubscriptionsHandler'))();j.addSubscriptions(c('ReactComposerTaggerStore').addChangeListener(this._onChange));this._subscriptions=j;},componentWillUnmount:function i(){this._subscriptions&&this._subscriptions.release();},_onChange:function i(){var j=c('ReactComposerTaggerStore').getTaggerData(this.context.composerID,c('ReactComposerTaggerType').TARGETING);this.setState({targetingSentences:j?j.targetingSentences:null});},_onTaggerDataChanged:function i(j){this.__onTaggerDataChanged&&this.__onTaggerDataChanged(j);c('ReactComposerTaggerActions').setTaggerData(this.context.composerID,c('ReactComposerLoggingName').TARGETING_TAGGER,c('ReactComposerTaggerType').TARGETING,j);this.props.onSelect&&this.props.onSelect(j);},render:function i(){if(!this.state.isSelected)return c('React').createElement('noscript',null);return (c('React').createElement(c('ReactComposerTargetingTaggerComponent.react'),babelHelpers['extends']({},this.props,this.state,{autoFocus:this.state.autoFocus,taggerSource:this.state.taggerSource,taggerData:this.state.taggerData,onSelect:this._onTaggerDataChanged})));}});f.exports=h;}),null);
__d('ReactPagesComposerBodyWrapper.react',['ReactComposerAttachmentType','ReactComposerBody.react','ReactComposerBoostedPostLazyButton.react','ReactComposerCallLazyAttachment.react','ReactComposerConfig','ReactComposerContextConfig','ReactComposerContextProviderMixin','ReactComposerCTALazyAttachment.react','ReactComposerGetDirectionsLazyAttachment.react','ReactComposerLiveVideoLazyAttachment.react','ReactComposerMediaLazyAttachment.react','ReactComposerMessageLazyAttachment.react','ReactComposerPagesBootloader','ReactComposerPagesPrivacyContainer.react','ReactComposerProductTaggerButton.react','ReactComposerProductTaggerContainer.react','ReactComposerQAndALazyAttachment.react','ReactComposerQuestionLazyAttachment.react','ReactComposerSponsorTaggerButton.react','ReactComposerSponsorTaggerContainer.react','ReactComposerStatusLazyAttachment.react','ReactComposerTaggerActions','ReactComposerTaggerType','ReactComposerTargetingTaggerButton.react','ReactComposerTargetingTaggerContainer.react','PagesComposerExtraLazyAttachment.react','React','dotAccess'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactPagesComposerBodyWrapper',mixins:[c('ReactComposerContextProviderMixin')],propTypes:{contextConfig:c('ReactComposerContextConfig').isRequired,config:c('ReactComposerConfig').isRequired,selectedAttachment:h.string},_getAdditionalTaggersForStatusAttachment:function j(){var k=[],l=this.props.config.taggersConfig;if(l[c('ReactComposerTaggerType').TARGETING].enabled)k.push(this._getTargetTagger());if(l[c('ReactComposerTaggerType').SPONSOR].enabled)k.push(this._getSponsorTagger());if(l[c('ReactComposerTaggerType').PRODUCT].enabled)k.push(this._getProductTagger());return k;},_getAdditionalTaggersForMediaAttachment:function j(){return this._getAdditionalTaggersForStatusAttachment();},_getTargetTagger:function j(){var k=this.props.config.taggersConfig[c('ReactComposerTaggerType').TARGETING],l=this.props.config.nuxConfig;return {button:c('React').createElement(c('ReactComposerTargetingTaggerButton.react'),{feedTargetingGK:c('dotAccess')(k,'feedTargetingGK'),feedTargetingShowReachGK:c('dotAccess')(k,'feedTargetingShowReachGK'),shouldShowTargetingTaggerNux:l.shouldShowTargetingTaggerNux,shouldShowRestrictionTabNux:this.props.config.nuxConfig.shouldShowRestrictionTabNux,useTargetingAsFilter:!c('dotAccess')(k,'feedTargetingGK'),key:'targeting_button'}),container:c('React').createElement(c('ReactComposerTargetingTaggerContainer.react'),{key:'targeting_container'})};},_getSponsorTagger:function j(){var k=this.props.config.taggersConfig[c('ReactComposerTaggerType').SPONSOR];c('ReactComposerTaggerActions').handleSetTaggerShowNUX(this.props.contextConfig.composerID,c('ReactComposerTaggerType').SPONSOR,k.showSponsorTaggerButtonNUX);return {button:c('React').createElement(c('ReactComposerSponsorTaggerButton.react'),{key:'sponsor_button'}),container:c('React').createElement(c('ReactComposerSponsorTaggerContainer.react'),{key:'sponsor_container',viewer:this.props.config.actorConfig.viewerAccountID})};},_getProductTagger:function j(){var k=this.props.config.taggersConfig[c('ReactComposerTaggerType').PRODUCT];c('ReactComposerTaggerActions').handleSetTaggerShowNUX(this.props.contextConfig.composerID,c('ReactComposerTaggerType').PRODUCT,k.showProductTaggerButtonNUX);var l=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA];return {button:c('React').createElement(c('ReactComposerProductTaggerButton.react'),{key:'product_button',productTaggerType:l.productTaggerType}),container:c('React').createElement(c('ReactComposerProductTaggerContainer.react'),{key:'product_container',reactComposerID:this.props.contextConfig.composerID,pageIDs:[this.props.config.targetData.targetID],viewer:this.props.config.actorConfig.viewerAccountID})};},_getAdditionalFooterActionsForStatusAttachment:function j(){var k=[];if(this.props.config.boostedPostButtonConfig)k.push(c('React').createElement(c('ReactComposerBoostedPostLazyButton.react'),babelHelpers['extends']({},this.props.config.boostedPostButtonConfig,{key:'boosted_post_button',reactComposerID:this.props.contextConfig.composerID})));if(this.props.config.taggersConfig[c('ReactComposerTaggerType').TARGETING].enabled&&!c('dotAccess')(this.props.config,'feedTargetingGK'))k.push(c('React').createElement(c('ReactComposerPagesPrivacyContainer.react'),{key:'privacy_selector',lockToPrivacy:this.props.config.taggersConfig[c('ReactComposerTaggerType').TARGETING].lockToPrivacy,useTargetingAsFilter:true}));return k;},_getAdditionalFooterActionsForLiveVideoAttachment:function j(){return this._getAdditionalFooterActionsForStatusAttachment();},_getAdditionalFooterActionsForMediaAttachment:function j(){return this._getAdditionalFooterActionsForStatusAttachment();},render:function j(){var k=this.props.config.attachmentsConfig,l=k[c('ReactComposerAttachmentType').STATUS],m=k[c('ReactComposerAttachmentType').LIVE_VIDEO];return (c('React').createElement(c('ReactComposerBody.react'),null,c('React').createElement(c('ReactComposerStatusLazyAttachment.react'),{config:this.props.config,selected:!this.props.selectedAttachment||this.props.selectedAttachment===c('ReactComposerAttachmentType').STATUS,placeholder:l.placeholder,additionalTaggers:this._getAdditionalTaggersForStatusAttachment(),additionalFooterActions:this._getAdditionalFooterActionsForStatusAttachment(),bootloader:c('ReactComposerPagesBootloader')}),c('React').createElement(c('ReactComposerMediaLazyAttachment.react'),{selected:this.props.selectedAttachment===c('ReactComposerAttachmentType').MEDIA,additionalTaggers:this._getAdditionalTaggersForMediaAttachment(),additionalFooterActions:this._getAdditionalFooterActionsForMediaAttachment(),bootloader:c('ReactComposerPagesBootloader'),config:this.props.config}),m.enabled?c('React').createElement(c('ReactComposerLiveVideoLazyAttachment.react'),{additionalFooterActions:this._getAdditionalFooterActionsForLiveVideoAttachment(),selected:this.props.selectedAttachment===c('ReactComposerAttachmentType').LIVE_VIDEO,bootloader:c('ReactComposerPagesBootloader'),config:this.props.config}):null,c('React').createElement(c('PagesComposerExtraLazyAttachment.react'),{selected:this.props.selectedAttachment===c('ReactComposerAttachmentType').PAGES_EXTRA,bootloader:c('ReactComposerPagesBootloader'),config:this.props.config}),c('React').createElement(c('ReactComposerQuestionLazyAttachment.react'),{selected:this.props.selectedAttachment===c('ReactComposerAttachmentType').QUESTION,config:this.props.config,key:c('ReactComposerAttachmentType').QUESTION,bootloader:c('ReactComposerPagesBootloader')}),c('React').createElement(c('ReactComposerQAndALazyAttachment.react'),{selected:this.props.selectedAttachment===c('ReactComposerAttachmentType').QANDA,config:this.props.config,key:c('ReactComposerAttachmentType').QANDA,bootloader:c('ReactComposerPagesBootloader')}),c('React').createElement(c('ReactComposerCTALazyAttachment.react'),{selected:this.props.selectedAttachment===c('ReactComposerAttachmentType').CTA,config:this.props.config,key:c('ReactComposerAttachmentType').CTA,bootloader:c('ReactComposerPagesBootloader')}),c('React').createElement(c('ReactComposerMessageLazyAttachment.react'),{selected:this.props.selectedAttachment===c('ReactComposerAttachmentType').MESSAGE,config:this.props.config,key:c('ReactComposerAttachmentType').MESSAGE,bootloader:c('ReactComposerPagesBootloader')}),c('React').createElement(c('ReactComposerGetDirectionsLazyAttachment.react'),{selected:this.props.selectedAttachment===c('ReactComposerAttachmentType').GET_DIRECTIONS,config:this.props.config,key:c('ReactComposerAttachmentType').GET_DIRECTIONS,bootloader:c('ReactComposerPagesBootloader')}),c('React').createElement(c('ReactComposerCallLazyAttachment.react'),{selected:this.props.selectedAttachment===c('ReactComposerAttachmentType').CALL,config:this.props.config,key:c('ReactComposerAttachmentType').CALL,bootloader:c('ReactComposerPagesBootloader')})));}});f.exports=i;}),null);
__d('ReactPagesComposer.react',['cx','ReactComposer.react','ReactComposerAttachmentActions','ReactPagesComposerBodyWrapper.react','ReactComposerConfig','ReactComposerContextConfig','ReactComposerContextProviderMixin','ComposerEntryPointRef','ReactComposerLazyHeader.react','ReactComposerLiveVideoAttachmentSelector.react','ReactComposerMediaAttachmentSelector.react','ReactComposerPagesStore','ReactComposerPrefillUtils','ReactComposerStatusAttachmentSelector.react','ReactComposerAttachmentType','BootloadedComponent.react','JSResource','PagesComposer','PagesComposerExtraAttachmentSelector.react','React','XUISpinner.react','PagesComposerUnpublishedPostsStore'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();c('PagesComposerUnpublishedPostsStore');var i=c('React').createClass({displayName:'ReactPagesComposer',mixins:[c('ReactComposerContextProviderMixin')],propTypes:{contextConfig:c('ReactComposerContextConfig').isRequired,config:c('ReactComposerConfig').isRequired},componentDidMount:function j(){c('PagesComposer').init(this.props.contextConfig.composerID,this.props.contextConfig.targetID);c('ReactComposerPagesStore').registerComposerID(this.props.contextConfig.composerID);if(this.props.config.expanded)c('ReactComposerAttachmentActions').selectAttachment(this.props.contextConfig.composerID,c('ReactComposerAttachmentType').STATUS,true);},componentWillMount:function j(){if(this.props.prefillConfig)c('ReactComposerPrefillUtils').prefill(this.props.contextConfig.composerID,this.props.prefillConfig);},render:function j(){var k=this.props.config.attachmentsConfig,l=k[c('ReactComposerAttachmentType').PAGES_EXTRA],m=k[c('ReactComposerAttachmentType').STATUS],n=k[c('ReactComposerAttachmentType').MEDIA],o=k[c('ReactComposerAttachmentType').LIVE_VIDEO];return (c('React').createElement(c('ReactComposer.react'),{hideBorders:this.props.config.hideBorders!==false,loggingConfig:this.props.config.loggingConfig},c('React').createElement(c('ReactComposerLazyHeader.react'),{background:'light-wash',noHorizontalMargin:true,rightChild:this._renderActorSelector(),showDelimiter:false},c('React').createElement(c('ReactComposerStatusAttachmentSelector.react'),{label:m.label}),n.enabled?c('React').createElement(c('ReactComposerMediaAttachmentSelector.react'),null):null,o.enabled?c('React').createElement(c('ReactComposerLiveVideoAttachmentSelector.react'),null):null,l.enabled?c('React').createElement(c('PagesComposerExtraAttachmentSelector.react'),{enabled:!!l.enabled,label:l.label,icon:l.icon,aymtNuxEnabled:l.aymtNuxEnabled,attachmentsConfig:l}):null),c('React').createElement(c('ReactPagesComposerBodyWrapper.react'),this.props)));},_renderActorSelector:function j(){var k=this.props.contextConfig.composerType;if(k!==c('ComposerEntryPointRef').PAGES_FEED&&k!==c('ComposerEntryPointRef').TIMELINE)return null;var l=this.props.config.actorConfig;l.composerID=this.props.contextConfig.composerID;return (c('React').createElement(c('BootloadedComponent.react'),babelHelpers['extends']({},l,{bootloadPlaceholder:c('React').createElement(c('XUISpinner.react'),{className:"_3igw"}),bootloadLoader:c('JSResource')('ReactComposerActorSelectorContainer.react').__setRef('ReactPagesComposer.react')})));}});f.exports=i;}),null);
__d('PagesPicUIEvents',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={PHOTO_DESELECTED:'PagesPicUIEvents/photoDeselected',PHOTO_SELECTED:'PagesPicUIEvents/photoSelected',PHOTOS_SELECTED_CONFIRM:'PagesPicUIEvents/photosSelectedConfirm'};f.exports=h;}),null);
__d('PagesPicModalManager',['Arbiter','PagesPicUIEvents','tidyEvent'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(){'use strict';this.setIsOpen(false);}h.prototype.setIsOpen=function(i){'use strict';this.$PagesPicModalManager1=i;return this;};h.prototype.isOpen=function(){'use strict';return this.$PagesPicModalManager1;};h.prototype.informPhotoSelected=function(i){'use strict';c('Arbiter').inform(c('PagesPicUIEvents').PHOTO_SELECTED,i);};h.prototype.informPhotoDeselected=function(i){'use strict';c('Arbiter').inform(c('PagesPicUIEvents').PHOTO_DESELECTED,i);};h.prototype.informPhotosSelectedConfirm=function(i){'use strict';c('Arbiter').inform(c('PagesPicUIEvents').PHOTOS_SELECTED_CONFIRM,i);};h.prototype.subscribePhotoSelected=function(i){'use strict';c('tidyEvent')(c('Arbiter').subscribe(c('PagesPicUIEvents').PHOTO_SELECTED,i));};h.prototype.subscribePhotoDeselected=function(i){'use strict';c('tidyEvent')(c('Arbiter').subscribe(c('PagesPicUIEvents').PHOTO_DESELECTED,i));};h.prototype.subscribePhotosSelectedConfirm=function(i){'use strict';return c('tidyEvent')(c('Arbiter').subscribeOnce(c('PagesPicUIEvents').PHOTOS_SELECTED_CONFIRM,i));};f.exports=new h();}),null);
__d('ReactComposerCanvasActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({HIDE_CANVAS_SELECTOR:null,SHOW_CANVAS_SELECTOR:null},'ReactComposerCanvasActionType');}),null);
__d('ReactComposerCanvasActions',['ReactComposerDispatcher','ReactComposerCanvasActionType'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={showCanvasSelector:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerCanvasActionType').SHOW_CANVAS_SELECTOR});},hideCanvasSelector:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerCanvasActionType').HIDE_CANVAS_SELECTOR});}};f.exports=h;}),null);
__d('ReactComposerPhotoCarouselActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({SELECT_PHOTO_CAROUSEL:null,UNSELECT_PHOTO_CAROUSEL:null,PREVIEW_COMPLETED:null,PREVIEW_INCOMPLETED:null,HIDE_CAROUSEL_URL_INPUT_AREA:null,SHOW_CAROUSEL_URL_INPUT_AREA:null,SEEN_NUX:null},'ReactComposerPhotoCarouselActionType');}),null);
__d('ReactComposerPhotoCarouselActions',['ReactComposerPhotoCarouselActionType','ReactComposerDispatcher','ReactComposerPhotoStore'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c('ReactComposerPhotoStore');var h={selectPhotoCarouselEntryPoint:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoCarouselActionType').SELECT_PHOTO_CAROUSEL});},unselectPhotoCarouselEntryPoint:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoCarouselActionType').UNSELECT_PHOTO_CAROUSEL});},setPreviewCompleted:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoCarouselActionType').PREVIEW_COMPLETED});},setPreviewIncompleted:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoCarouselActionType').PREVIEW_INCOMPLETED});},showPhotoCarouselUrlEditArea:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,source:k,targetID:l,type:c('ReactComposerPhotoCarouselActionType').SHOW_CAROUSEL_URL_INPUT_AREA});},hidePhotoCarouselUrlEditArea:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoCarouselActionType').HIDE_CAROUSEL_URL_INPUT_AREA});},seenNux:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoCarouselActionType').SEEN_NUX});}};f.exports=h;}),null);
__d('SlideshowMediaUploadContainer.react',['cx','fbt','ix','React','Image.react','XUIButton.react','XUINotice.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();k=babelHelpers.inherits(m,c('React').Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.$SlideshowMediaUploadContainer1=function(){if(!this.props.errorMessage)return null;return (c('React').createElement('div',{className:"_3dg4"},c('React').createElement(c('XUINotice.react'),{use:'warn'},this.props.errorMessage)));}.bind(this),o;}m.prototype.render=function(){return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:"_v32"+(!!this.props.errorMessage?' '+"_16q2":'')}),this.$SlideshowMediaUploadContainer1(),c('React').createElement(c('Image.react'),{className:"_v33",hidden:!!this.props.errorMessage,src:j('/images/slideshow/photostack.png')}),c('React').createElement('div',{className:"_3dg5"+(!!this.props.errorMessage?' '+"_16q2":'')},i._("Use photos or video frames to create a slideshow"),c('React').createElement('div',{className:"_v34"+(!!this.props.errorMessage?' '+"_16q2":'')},this.props.children))));};m.getImageUploadButton=function(){return c('React').createElement(c('XUIButton.react'),{className:"_v35",href:{url:'#'},image:c('React').createElement(c('Image.react'),{className:"_v36",src:j("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/photo-add_20_fig-white.png")}),label:i._("Add Photos"),size:'xlarge',use:'confirm'});};m.getVideoUploadButton=function(n){return c('React').createElement(c('XUIButton.react'),{className:"_v35",href:{url:'#'},image:c('React').createElement(c('Image.react'),{className:"_v36",src:j("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/camcorder-plus_20_fig-dark-80.png")}),label:n||i._("Upload Video"),size:'xlarge'});};m.defaultProps={children:null,errorMessage:null};f.exports=m;}),null);
__d("XPagesPicMenuDialogController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/profile\/pages\/picture\/menu_dialog\/",{multiselect:{type:"Bool",defaultValue:false},page_id:{type:"Int",required:true},source:{type:"String",defaultValue:"unknown"},__asyncDialog:{type:"Int"}});}),null);
__d('ReactComposerSlideshowImageUploadsContainer.react',['cx','Link.react','SlideshowMediaUploadContainer.react','Arbiter','AsyncDialog','AsyncRequest','ReactComposerSlideshowActions','PagesPicModalManager','React','XPagesPicMenuDialogController','emptyFunction','tidyEvent'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l='slideshow_pages_composer';i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$ReactComposerSlideshowImageUploadsContainer1=function(event){var s=this.refs.imageFileInput.getFileInput();if(s!==null&&s!==undefined&&this.props.onFilesSelected!==null&&this.props.onFilesSelected!==undefined)this.props.onFilesSelected(event,s);}.bind(this),this.$ReactComposerSlideshowImageUploadsContainer3=function(){c('AsyncDialog').send(new (c('AsyncRequest'))(this.$ReactComposerSlideshowImageUploadsContainer4()),function(s){self.$ReactComposerSlideshowImageUploadsContainer2=s;var t=c('PagesPicModalManager').subscribePhotosSelectedConfirm(function(u,v){c('ReactComposerSlideshowActions').selectImagesConfirm(this.props.composerID,v);s.hide();}.bind(this));s.subscribe('hide',function(event){c('Arbiter').unsubscribe(t);});}.bind(this));}.bind(this),this.$ReactComposerSlideshowImageUploadsContainer4=function(){return c('XPagesPicMenuDialogController').getURIBuilder().setInt('page_id',this.props.pageID).setString('source',l).setBool('multiselect',true).getURI();}.bind(this),o;}m.handleFileInput=function(n){c('tidyEvent')(n.subscribe('change',function(event){if(!n.getValue())return;this.$ReactComposerSlideshowImageUploadsContainer1(event,n);if(self.$ReactComposerSlideshowImageUploadsContainer2)self.$ReactComposerSlideshowImageUploadsContainer2.hide();}.bind(this)));};m.prototype.componentWillMount=function(){m.$ReactComposerSlideshowImageUploadsContainer1=this.props.onFilesSelected;};m.prototype.render=function(){var n=null;switch(this.props.imageUploadButtonType){case 'more_link':n=c('React').createElement(c('Link.react'),{className:"_38i2"});break;case 'add_button':n=c('SlideshowMediaUploadContainer.react').getImageUploadButton();break;}return c('React').createElement('span',{onClick:this.$ReactComposerSlideshowImageUploadsContainer3},n);};m.$ReactComposerSlideshowImageUploadsContainer1=c('emptyFunction');m.$ReactComposerSlideshowImageUploadsContainer2=null;m.propTypes={composerID:k.string.isRequired,imageUploadButtonType:k.oneOf(['more_link','add_button']).isRequired,mediaAcceptParam:k.string.isRequired,pageID:k.string.isRequired,onFilesSelected:k.func.isRequired};f.exports=m;}),null);
__d('SlideshowFrameImage.react',['Image.react','React','SlideshowImageUtil'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.$SlideshowFrameImage5=function(){if(this.props.croppingSpec){this.$SlideshowFrameImage3={width:this.props.imageWidth,height:this.props.imageHeight};this.$SlideshowFrameImage4={x:-this.props.croppingSpec.topLeft[0],y:-this.props.croppingSpec.topLeft[1]};this.$SlideshowFrameImage1={width:this.props.croppingSpec.bottomRight[0]+this.$SlideshowFrameImage4.x,height:this.props.croppingSpec.bottomRight[1]+this.$SlideshowFrameImage4.y};}else{this.$SlideshowFrameImage3={width:this.props.imageWidth,height:this.props.imageHeight};this.$SlideshowFrameImage4={x:0,y:0};this.$SlideshowFrameImage1={width:this.props.imageWidth,height:this.props.imageHeight};}var k=Math.min(this.props.maxWidth/this.$SlideshowFrameImage1.width,this.props.maxHeight/this.$SlideshowFrameImage1.height);this.$SlideshowFrameImage3.width*=k;this.$SlideshowFrameImage3.height*=k;this.$SlideshowFrameImage4.x*=k;this.$SlideshowFrameImage4.y*=k;this.$SlideshowFrameImage1.width*=k;this.$SlideshowFrameImage1.height*=k;this.$SlideshowFrameImage2={x:(this.props.maxWidth-this.$SlideshowFrameImage1.width)/2,y:(this.props.maxHeight-this.$SlideshowFrameImage1.height)/2};};j.prototype.$SlideshowFrameImage6=function(){var k=this.props.textoverlay,l=c('SlideshowImageUtil').getScaleMultiplier(this.props.maxWidth,this.props.maxHeight);if(!k||!k.textoverlay_content)return null;var m=c('SlideshowImageUtil').calculateTextboxCoordinates(this.props.maxHeight,this.props.maxWidth,k,l),n=k.text_alignment.split('-')[1];return (c('React').createElement('div',{style:{backgroundColor:k.background_color,color:k.font_color,position:'absolute',fontFamily:k.font,fontSize:c('SlideshowImageUtil').getFontSize(l),fontWeight:c('SlideshowImageUtil').getFontWeight(k.bold),lineHeight:c('SlideshowImageUtil').getLineHeight(),marginLeft:m.marginLeft,marginTop:m.marginTop,maxHeight:c('SlideshowImageUtil').getTextoverlayMaxEdge(this.props.maxHeight,l),maxWidth:c('SlideshowImageUtil').getTextoverlayMaxEdge(this.props.maxWidth,l),opacity:c('SlideshowImageUtil').getOpacity(),overflow:'hidden',overflowWrap:'break-word',padding:c('SlideshowImageUtil').getTextoverlayPadding(l),textAlign:n,whiteSpace:'pre-wrap'}},k.textoverlay_content));};j.prototype.render=function(){this.$SlideshowFrameImage5();return (c('React').createElement('div',{className:this.props.className,style:{position:this.props.positionStyle,width:this.$SlideshowFrameImage1.width,height:this.$SlideshowFrameImage1.height,left:this.$SlideshowFrameImage2.x,top:this.$SlideshowFrameImage2.y,overflow:'hidden'}},c('React').createElement(c('Image.react'),{src:this.props.imageSrc,width:this.$SlideshowFrameImage3.width,height:this.$SlideshowFrameImage3.height,style:{position:'absolute',left:this.$SlideshowFrameImage4.x,top:this.$SlideshowFrameImage4.y}}),this.$SlideshowFrameImage6()));};function j(){h.apply(this,arguments);}j.defaultProps={className:null,croppingSpec:null,positionStyle:'absolute',textoverlay:null};f.exports=j;}),null);
__d('SlideshowFramesPanel.react',['cx','React','SlideshowImageUtil','SlideshowFrameImage.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=3,l=110,m=110;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.$SlideshowFramesPanel1=function(t){return (c('React').createElement('div',{onClick:function(){return this.$SlideshowFramesPanel2(t);}.bind(this)},c('React').createElement(c('SlideshowFrameImage.react'),{className:"_qme",croppingSpec:c('SlideshowImageUtil').getFullSizeImageBoxCroppingSpec({width:t.width,height:t.height},{width:m,height:l}),imageSrc:t.uri,imageWidth:t.width,imageHeight:t.height,maxWidth:m,maxHeight:l,positionStyle:'relative'})));}.bind(this),this.$SlideshowFramesPanel2=function(t){this.props.onFrameImageSelected(t);}.bind(this),this.$SlideshowFramesPanel3=function(t){return t.map(function(u,v){return (c('React').createElement('div',{className:"_qmf",key:u.id},this.$SlideshowFramesPanel1(u)));}.bind(this));}.bind(this),this.$SlideshowFramesPanel4=function(){var t=this.props.frameImages,u=0,v=[];for(u=0;u<t.length;u+=k){var w=t.slice(u,u+k);v.push(c('React').createElement('div',{key:u},this.$SlideshowFramesPanel3(w)));}return v;}.bind(this),this.$SlideshowFramesPanel5=function(){return (c('React').createElement('div',{className:"_qmk"},this.$SlideshowFramesPanel4()));}.bind(this),p;}n.prototype.render=function(){return (c('React').createElement('div',{className:"_qmm"},this.$SlideshowFramesPanel5()));};f.exports=n;}),null);
__d('SlideshowActionTypes',['keyMirror'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('keyMirror')({CHANGE_COLOR_PICKER_TYPE:null,CHANGE_EDIT_OPTION_TYPE:null,CHANGE_TEXTOVERLAY_ALIGNMENT:null,CHANGE_TEXTOVERLAY_FONT:null,CHANGE_TEXTOVERLAY_FONT_BOLD:null,SELECT_TEXTOVERLAY_COLOR:null,SET_TEXTOVERLAY_CONTENT:null,SHOW_PHOTO_EDIT_DIALOG:null,CLOSE_PHOTO_EDIT_DIALOG:null,TOGGLE_COLOR_PICKER_DIALOG:null,TOGGLE_PHOTO_EDIT_DIALOG:null});f.exports=h;}),null);
__d('SlideshowDispatcher',['ExplicitRegistrationDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ExplicitRegistrationDispatcher'));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this);}f.exports=new j({strict:true});}),null);
__d('SlideshowTextoverlayColorPickerConstants',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={Basic:'BASIC',Advanced:'ADVANCED'};}),null);
__d('SlideshowActions',['SlideshowActionTypes','SlideshowDispatcher','SlideshowTextoverlayColorPickerConstants'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={showPhotoEditDialog:function i(j,k){c('SlideshowDispatcher').dispatch({isColorPickerDialogShown:false,isPhotoEditDialogShown:true,isTextoverlayFontBold:k.bold,photoToEdit:j,textoverlayAlignment:k.text_alignment,textoverlayColor:{background_color:k.background_color,font_color:k.font_color},textoverlayContent:k.textoverlay_content,textoverlayFont:k.font,type:c('SlideshowActionTypes').SHOW_PHOTO_EDIT_DIALOG});},closePhotoEditDialog:function i(){c('SlideshowDispatcher').dispatch({isPhotoEditDialogShown:false,photoToEdit:null,type:c('SlideshowActionTypes').CLOSE_PHOTO_EDIT_DIALOG});},toggleColorPickerDialog:function i(){c('SlideshowDispatcher').dispatch({type:c('SlideshowActionTypes').TOGGLE_COLOR_PICKER_DIALOG});},selectTextoverlayColor:function i(j){c('SlideshowDispatcher').dispatch({textoverlayColor:j,type:c('SlideshowActionTypes').SELECT_TEXTOVERLAY_COLOR});},setTextoverlayContent:function i(j){c('SlideshowDispatcher').dispatch({textoverlayContent:j,type:c('SlideshowActionTypes').SET_TEXTOVERLAY_CONTENT});},changeEditOptionType:function i(j){c('SlideshowDispatcher').dispatch({type:c('SlideshowActionTypes').CHANGE_EDIT_OPTION_TYPE,editOptionType:j});},changeTextoverlayAlignment:function i(j){c('SlideshowDispatcher').dispatch({textoverlayAlignment:j,type:c('SlideshowActionTypes').CHANGE_TEXTOVERLAY_ALIGNMENT});},changeTextoverlayFont:function i(j){c('SlideshowDispatcher').dispatch({textoverlayFont:j,type:c('SlideshowActionTypes').CHANGE_TEXTOVERLAY_FONT});},changeTextoverlayFontBold:function i(j){c('SlideshowDispatcher').dispatch({isTextoverlayFontBold:j,type:c('SlideshowActionTypes').CHANGE_TEXTOVERLAY_FONT_BOLD});},showBasicColorPicker:function i(){c('SlideshowDispatcher').dispatch({type:c('SlideshowActionTypes').CHANGE_COLOR_PICKER_TYPE,colorPickerType:c('SlideshowTextoverlayColorPickerConstants').Basic});},showAdvancedColorPicker:function i(){c('SlideshowDispatcher').dispatch({type:c('SlideshowActionTypes').CHANGE_COLOR_PICKER_TYPE,colorPickerType:c('SlideshowTextoverlayColorPickerConstants').Advanced});}};f.exports=h;}),null);
__d('SlideshowPhotoEditButton.react',['ix','fbt','Image.react','React','Tooltip','XUIButton.react','fbglyph'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.$SlideshowPhotoEditButton1=function(){this.props.onPhotoEdit(this.props.selectedPhoto,this.props.selectedPhotoTextoverlay);}.bind(this);this.$SlideshowPhotoEditButton1=this.$SlideshowPhotoEditButton1.bind(this);}l.prototype.render=function(){var m=i._("Edit Photo");return (c('React').createElement(c('XUIButton.react'),babelHelpers['extends']({image:c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/pencil_20_fig-black.png")}),className:this.props.className,onClick:this.$SlideshowPhotoEditButton1},c('Tooltip').propsFor(m))));};f.exports=l;}),null);
__d('SlideshowDraggableImage.react',['cx','invariant','DraggableTokenMixin.react','FBOverlayBase.react','FBOverlayContainer.react','FBOverlayElement.react','LoadingImageBox.react','ReactComponentWithPureRenderMixin','React','SlideshowActions','SlideshowFrameImage.react','SlideshowImageUtil','SlideshowPhotoEditButton.react','XUICloseButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=100,k=100,l=c('React').PropTypes,m=c('React').createClass({displayName:'SlideshowDraggableImage',mixins:[c('DraggableTokenMixin.react'),c('ReactComponentWithPureRenderMixin')],propTypes:{className:l.string.isRequired,dragTargetIndex:l.oneOfType([l.oneOf([null]),l.number]),image:l.shape({height:l.number,isLoading:l.bool.isRequired,key:l.string.isRequired,url:l.string,width:l.number}).isRequired,imageTextoverlay:l.oneOfType([l.oneOf([null]),l.shape({background_color:l.string,bold:l.bool.isRequired,font:l.string.isRequired,font_color:l.string.isRequired,text_alignment:l.string.isRequired,textoverlay_content:l.oneOfType([l.oneOf([null]),l.string])})]),index:l.number.isRequired,overflow:l.bool.isRequired,showSlideshowPhotoEditButton:l.bool.isRequired,onImageRemove:l.func.isRequired},_onImageRemove:function n(){this.props.onImageRemove(this.props.image);},_getImage:function n(){var o=this.props.image,p="_590x"+(this.props.overflow?' '+"_5b-k":'');if(o.isLoading){return (c('React').createElement(c('LoadingImageBox.react'),{className:p,height:j,width:k}));}else{!(o.width!=null&&o.height!=null)?i(0):void 0;return (c('React').createElement(c('SlideshowFrameImage.react'),{className:p,croppingSpec:c('SlideshowImageUtil').getFullSizeImageBoxCroppingSpec({width:o.width?o.width:0,height:o.height?o.height:0},{width:k,height:j}),imageSrc:o.url,imageWidth:o.width,imageHeight:o.height,maxWidth:k,maxHeight:j,positionStyle:'relative',textoverlay:this.props.imageTextoverlay}));}},_getPhotoEditButton:function n(){return this.props.showSlideshowPhotoEditButton?c('React').createElement(c('SlideshowPhotoEditButton.react'),{className:"_fah",selectedPhoto:this.props.image,selectedPhotoTextoverlay:this.props.imageTextoverlay,onPhotoEdit:c('SlideshowActions').showPhotoEditDialog}):null;},render:function n(){return this.renderDraggableToken(c('React').createElement(c('FBOverlayContainer.react'),null,c('React').createElement(c('FBOverlayBase.react'),null,this._getImage()),c('React').createElement(c('FBOverlayElement.react'),null,c('React').createElement('div',{className:"_5910"+(this.props.dragTargetIndex===this.props.index?' '+"_5911":'')},c('React').createElement(c('XUICloseButton.react'),{className:"_5912",shade:'light',size:'small',onClick:this._onImageRemove}),this._getPhotoEditButton()))));}});f.exports=m;}),null);
__d('SlideshowImageUploadsContainer.react',['cx','fbt','invariant','AdsHelpLink.react','React','Image.react','SlideshowDraggableImage.react','padNumber'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=1000,n=60,o=':',p=0,q=1,r=2,s=c('React').PropTypes;k=babelHelpers.inherits(t,c('React').Component);l=k&&k.prototype;function t(){var u,v;for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=l.constructor).call.apply(u,[this].concat(x)),this.$SlideshowImageUploadsContainer1=function(){return {draggingIndex:null,dragTargetIndex:null};},this.$SlideshowImageUploadsContainer2=function(z,aa){this.setState({draggingIndex:aa});}.bind(this),this.$SlideshowImageUploadsContainer3=function(z,aa){this.setState(this.$SlideshowImageUploadsContainer1());}.bind(this),this.$SlideshowImageUploadsContainer4=function(z,aa,ba){if(this.state.draggingIndex!==null&&this.state.dragTargetIndex!==aa)this.setState({dragTargetIndex:aa});}.bind(this),this.$SlideshowImageUploadsContainer5=function(z,aa){if(this.state.draggingIndex!==null&&this.state.draggingIndex!==undefined&&this.state.draggingIndex!==aa)this.$SlideshowImageUploadsContainer6(this.state.draggingIndex,aa);}.bind(this),this.$SlideshowImageUploadsContainer6=function(z,aa){if(aa<this.props.selectedImages.length&&aa>=0)this.props.onImageReorder(z,aa);}.bind(this),this.$SlideshowImageUploadsContainer7=function(z){this.props.onImageRemove(z);}.bind(this),this.$SlideshowImageUploadsContainer8=function(z,aa){var ba=this.props,ca=ba.durationWithTransitionInMS,da=ba.maxSelectedImages,ea=ca/m;if(aa===da-1){return (c('React').createElement('span',null,this.$SlideshowImageUploadsContainer9(aa*ea),c('React').createElement('span',{className:"_73-"},this.$SlideshowImageUploadsContainer9(da*ea))));}else if(aa===da){return (c('React').createElement(c('AdsHelpLink.react'),{position:'left',width:290},i._("You can only show {maximum number of images} images in your slideshow. All other images won't get displayed.",[i.param('maximum number of images',da)])));}else if(aa<da){return c('React').createElement('span',null,this.$SlideshowImageUploadsContainer9(aa*ea));}else return c('React').createElement('span',null,'');}.bind(this),this.$SlideshowImageUploadsContainer9=function(z){var aa=Math.floor(z/n),ba=z-aa*n;return aa+o+c('padNumber')(ba,2);},this.$SlideshowImageUploadsContainer10=function(){var z=this.props,aa=z.maxSelectedImages,ba=z.selectedImages,ca=Math.max(ba.length,aa),da=Array.from(Array(ca),function(ea,fa){if(fa<ba.length&&fa<aa){return p;}else if(fa<ba.length&&fa>=aa){return r;}else return q;});return (c('React').createElement('div',{className:"_73_"},da.map(function(ea,fa){return (c('React').createElement('span',{className:"_2j_u"+(ea===p&&fa!==0&&fa<aa?' '+"_741":'')+(ea===r&&fa>=aa?' '+"_4lrv":'')+(ea===r&&fa===aa?' '+"_4lrw":'')+(ea===q&&fa===0?' '+"_742":'')+(ea===q&&fa===ba.length&&fa!==0?' '+"_743":'')+(ea===q&&fa!==ba.length&&fa!==0?' '+"_749":''),key:fa},this.$SlideshowImageUploadsContainer8(ea,fa)));}.bind(this))));}.bind(this),this.$SlideshowImageUploadsContainer11=function(){if(this.props.selectedImages.length>=this.props.maxSelectedImages)return null;!(this.props.children!=null&&!Array.isArray(this.props.children))?j(0):void 0;return this.props.children;}.bind(this),this.$SlideshowImageUploadsContainer12=function(){var z=this.props.maxSelectedImages-1-this.props.selectedImages.length;if(z<=0)return null;var aa=[];for(var ba=0;ba<z;ba++)aa.push(c('React').createElement('span',{className:"_74a",key:ba}));return aa;}.bind(this),this.$SlideshowImageUploadsContainer13=function(z){var aa=this.state,ba=aa.draggingIndex,ca=aa.dragTargetIndex;if(ba!=null&&ca!=null){if(ca<z&&z<=ba)return z-1;if(ba<=z&&z<ca)return z+1;}return z;}.bind(this),this.state=this.$SlideshowImageUploadsContainer1(),v;}t.prototype.render=function(){var u="_38i3"+(this.props.selectedImages.length>=this.props.maxSelectedImages?' '+"_1ca2":'');return (c('React').createElement('div',{className:"_832"},c('React').createElement('div',{className:"_1ca3"},this.$SlideshowImageUploadsContainer10(),c('React').createElement('div',{className:u},this.props.selectedImages.map(function(v,w){var x=this.$SlideshowImageUploadsContainer13(w),y=this.props.imagesTextoverlays?this.props.imagesTextoverlays[x]:null,z=v.key;return (c('React').createElement(c('SlideshowDraggableImage.react'),{className:this.state.draggingIndex!=null&&this.state.dragTargetIndex===w?"_44cb":'',draggableImageClass:c('Image.react').baseClassName,dragTargetIndex:this.state.dragTargetIndex,entry:{},image:this.props.selectedImages[x],imageTextoverlay:y,index:w,isDragDropEnabled:true,key:z,overflow:w>=this.props.maxSelectedImages,showSlideshowPhotoEditButton:this.props.showSlideshowPhotoEditButton,onImageRemove:this.$SlideshowImageUploadsContainer7,onTokenDragEnd:this.$SlideshowImageUploadsContainer3,onTokenDragOver:this.$SlideshowImageUploadsContainer4,onTokenDragStart:this.$SlideshowImageUploadsContainer2,onTokenDrop:this.$SlideshowImageUploadsContainer5}));}.bind(this))),this.$SlideshowImageUploadsContainer11(),this.$SlideshowImageUploadsContainer12())));};t.propTypes={durationWithTransitionInMS:s.number.isRequired,maxSelectedImages:s.number.isRequired,selectedImages:s.arrayOf(s.shape({height:s.number,isLoading:s.bool.isRequired,key:s.string.isRequired,url:s.string,width:s.number})).isRequired,showSlideshowPhotoEditButton:s.bool.isRequired,onImageRemove:s.func.isRequired,onImageReorder:s.func.isRequired};f.exports=t;}),null);
__d('SlideshowAudioUtil',['ix','React','SlideshowMusicCategory','Image.react','fbglyph'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={getMusicCategoryGlyph:function j(k){switch(k){case c('SlideshowMusicCategory').ALL_TRACKS:return (c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/grid-9_20_fig-dark-70.png")}));case c('SlideshowMusicCategory').USER_UPLOADED:return (c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/arrow-up-solid_20_fig-dark-70.png")}));case c('SlideshowMusicCategory').RECENTLY_USED:return (c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/clock_20_fig-dark-70.png")}));case c('SlideshowMusicCategory').ENERGETIC:return (c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/bolt_20_fig-dark-70.png")}));case c('SlideshowMusicCategory').INSPIRATIONAL:return (c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/bulb_20_fig-dark-70.png")}));case c('SlideshowMusicCategory').FUN:return (c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/face-very-happy_20_fig-dark-70.png")}));case c('SlideshowMusicCategory').TRUSTWORTHY:return (c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/briefcase-business_20_fig-dark-70.png")}));case c('SlideshowMusicCategory').MODERN:return (c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/flame_20_fig-dark-70.png")}));default:return null;}}};f.exports=i;}),null);
__d('SlideshowMusicCategorySelector.react',['cx','React','SlideshowAudioUtil','SlideshowMusicCategory','XUICardSection.react','XUIPageNavigation.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('XUIPageNavigation.react').Group,l=c('XUIPageNavigation.react').Item;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;m.prototype.$SlideshowMusicCategorySelector1=function(n){var o=c('SlideshowAudioUtil').getMusicCategoryGlyph(n);if(!o)return null;return (c('React').createElement(l,{key:n,ref:n},o));};m.prototype.$SlideshowMusicCategorySelector2=function(){return (c('React').createElement(c('XUICardSection.react'),{className:"_5vx1"},c('React').createElement(c('XUIPageNavigation.react'),{activeTabKey:this.props.selectedMusicCategory,caretColor:'bg-blue',defaultActiveTabKey:c('SlideshowMusicCategory').ALL_TRACKS,selectedIndicator:c('XUIPageNavigation.react').Indicator.BlueBar,onTabClick:this.props.onMusicCategorySelect},c('React').createElement(k,null,Object.values(c('SlideshowMusicCategory')).map(function(n){return this.$SlideshowMusicCategorySelector1(n);}.bind(this))))));};m.prototype.render=function(){return (c('React').createElement('div',{className:"_d__"},this.$SlideshowMusicCategorySelector2()));};function m(){i.apply(this,arguments);}m.defaultProps={selectedMusicCategory:c('SlideshowMusicCategory').ALL_TRACKS};f.exports=m;}),null);
__d('SlideshowMusicSelectedTrackComponent.react',['cx','fbt','React','SlideshowDataManager','FileInput.react','XUIButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$SlideshowMusicSelectedTrackComponent4=function(){this.props.onChangeStorylineMood(null);this.props.onPreviewStateChange(false);}.bind(this),this.$SlideshowMusicSelectedTrackComponent6=function(){var r=this.refs.audioFileInput.getFileInput();c('SlideshowDataManager').uploadAudioFile(r);}.bind(this),n;}l.prototype.$SlideshowMusicSelectedTrackComponent1=function(){return c('React').createElement('div',{className:"_nan"});};l.prototype.$SlideshowMusicSelectedTrackComponent2=function(){var m=i._("No music selected");if(this.props.selectedStorylineMood)m=this.props.selectedStorylineMood.fileName;return c('React').createElement('div',{className:"_nao"},m);};l.prototype.$SlideshowMusicSelectedTrackComponent3=function(){if(!this.props.selectedStorylineMood)return null;return c('React').createElement('div',{className:"_59qs",onClick:this.$SlideshowMusicSelectedTrackComponent4});};l.prototype.$SlideshowMusicSelectedTrackComponent5=function(){return c('React').createElement(c('FileInput.react'),{accept:'audio/*',multiple:false,ref:'audioFileInput',onChange:this.$SlideshowMusicSelectedTrackComponent6},c('React').createElement(c('XUIButton.react'),{className:"_nap",href:{url:'#'},label:i._("Upload"),size:'xlarge'}));};l.prototype.render=function(){return (c('React').createElement('div',{className:"_naq"},c('React').createElement('div',{className:(!this.props.selectedStorylineMood?"_1sx5":'')+(!!this.props.selectedStorylineMood?' '+"_nar":'')},this.$SlideshowMusicSelectedTrackComponent1(),this.$SlideshowMusicSelectedTrackComponent2(),this.$SlideshowMusicSelectedTrackComponent3()),this.$SlideshowMusicSelectedTrackComponent5()));};f.exports=l;}),null);
__d('SlideshowMusicTrackSelector.react',['cx','React','SlideshowMusicCategory','curry'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$SlideshowMusicTrackSelector2=function(q){this.props.onPreviewStateChange(false);this.props.onChangeStorylineMood(q);}.bind(this),m;}k.prototype.$SlideshowMusicTrackSelector1=function(l){if(this.props.selectedMusicCategory===c('SlideshowMusicCategory').ALL_TRACKS||l.categories.indexOf(this.props.selectedMusicCategory)!==-1)return true;return false;};k.prototype.$SlideshowMusicTrackSelector3=function(){var l=this.props.selectedMusicCategory===c('SlideshowMusicCategory').USER_UPLOADED?c('React').createElement('div',{className:"_4o-m"}):null,m=[];this.props.storylineMoodFiles.forEach(function(n){if(this.$SlideshowMusicTrackSelector1(n))m.push(c('React').createElement('div',{className:"_4o-n",key:n.moodID,onClick:c('curry')(this.$SlideshowMusicTrackSelector2,n)},c('React').createElement('div',{className:"_4o-o"}),c('React').createElement('div',{className:"_4o-p"},n.fileName),l));}.bind(this));return m;};k.prototype.render=function(){return (c('React').createElement('div',{className:"_4o-x"},this.$SlideshowMusicTrackSelector3()));};k.defaultProps={selectedMusicCategory:c('SlideshowMusicCategory').ALL_TRACKS};f.exports=k;}),null);
__d('SlideshowMusicPanel.react',['cx','React','SlideshowMusicCategorySelector.react','SlideshowMusicSelectedTrackComponent.react','SlideshowMusicTrackSelector.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.$SlideshowMusicPanel1=function(){return (c('React').createElement(c('SlideshowMusicSelectedTrackComponent.react'),{selectedStorylineMood:this.props.selectedStorylineMood,onChangeStorylineMood:this.props.onChangeStorylineMood,onPreviewStateChange:this.props.onPreviewStateChange}));};k.prototype.$SlideshowMusicPanel2=function(){return (c('React').createElement(c('SlideshowMusicCategorySelector.react'),{selectedMusicCategory:this.props.selectedMusicCategory,onMusicCategorySelect:this.props.onMusicCategorySelect}));};k.prototype.$SlideshowMusicPanel3=function(){return (c('React').createElement(c('SlideshowMusicTrackSelector.react'),{selectedMusicCategory:this.props.selectedMusicCategory,storylineMoodFiles:this.props.storylineMoodFiles,onChangeStorylineMood:this.props.onChangeStorylineMood,onPreviewStateChange:this.props.onPreviewStateChange}));};k.prototype.render=function(){return (c('React').createElement('div',{className:"_3-xf"},this.$SlideshowMusicPanel1(),this.$SlideshowMusicPanel2(),this.$SlideshowMusicPanel3()));};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('SlideshowAlignmentBox.react',['cx','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$SlideshowAlignmentBox1=function(){var r=this.props,s=r.horizontalAlignment,t=r.verticalAlignment,u=t+'-'+s;this.props.onValueChange&&this.props.onValueChange(u);}.bind(this),n;}l.prototype.render=function(){var m=this.props,n=m.horizontalAlignment,o=m.selectedValue,p=m.verticalAlignment,q=p+'-'+n;return c('React').createElement('div',{className:"_hfg"+(o==q?' '+"_hfh":'')+(p=='bottom'?' '+"_hfi":'')+(p=='top'?' '+"_hfj":'')+(n=='right'?' '+"_hfk":'')+(n=='left'?' '+"_hfl":''),onClick:this.$SlideshowAlignmentBox1});};l.propTypes={onValueChange:k.func.isRequired};f.exports=l;}),null);
__d('SlideshowColorBox.react',['cx','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l='#ffffff';i=babelHelpers.inherits(m,c('React').PureComponent);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$SlideshowColorBox1=function(){this.props.onClick&&this.props.onClick(this.props.color);}.bind(this),o;}m.prototype.render=function(){var n=this.props,o=n.className,p=n.style,q=babelHelpers.objectWithoutProperties(n,['className','style']);o=c('joinClasses')("_5266",this.props.className);if(p&&p.backgroundColor===l){o=c('joinClasses')("_2obn",o);}else if(p&&!p.backgroundColor){o=c('joinClasses')("_526b",o);if(p.color===l)o=c('joinClasses')("_12k3",o);}return c('React').createElement('div',babelHelpers['extends']({},q,{className:o,style:p,onClick:this.$SlideshowColorBox1}),'T');};m.propTypes={className:k.string,style:k.object,onClick:k.func};f.exports=m;}),null);
__d('SlideshowPhotoCropperWindow.react',['cx','fbt','React','joinClasses','SlideshowConstants'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('SlideshowConstants').formats;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n);}m.prototype.$SlideshowPhotoCropperWindow1=function(){if(this.props.isCropping)return null;var n=void 0;switch(this.props.format){case l.Original:n=i._("Original");break;case l.Wide:n=i._("Rectangle(16:9)");break;case l.Square:n=i._("Square(1:1)");break;default:n=i._("Unknown");}return (c('React').createElement('div',{className:"_2d6a"},c('React').createElement('div',{className:"_2d6b"},n)));};m.prototype.render=function(){return (c('React').createElement('div',{onMouseDown:this.props.onMouseDown,className:c('joinClasses')(this.props.className,"_2d6c"),style:babelHelpers['extends']({},this.props.style||{},{width:this.props.width,height:this.props.height})},c('React').createElement('div',{className:"_2d6d"}),this.$SlideshowPhotoCropperWindow1()));};f.exports=m;}),null);
__d('SlideshowPhotoCropSelector.react',['cx','invariant','BackgroundImage.react','Event','SlideshowPhotoCropperWindow.react','React','ReactDOM'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=656,m=425,n=400,o=400,p=function s(t,u,v){return Math.min(Math.max(t,u),v);},q=function s(t){return t*t;};j=babelHelpers.inherits(r,c('React').Component);k=j&&j.prototype;function r(s){k.constructor.call(this,s);this.state={coordinates:{},isCropping:false,isResizing:false,min:{},max:{},photoDimensions:{},scale:1,screenX:0,screenY:0};this.$SlideshowPhotoCropSelector1=false;this.$SlideshowPhotoCropSelector2=null;this.$SlideshowPhotoCropSelector3=null;this.$SlideshowPhotoCropSelector5={};this.$SlideshowPhotoCropSelector4=null;this.$SlideshowPhotoCropSelector6=null;this.$SlideshowPhotoCropSelector7=this.$SlideshowPhotoCropSelector7.bind(this);this.$SlideshowPhotoCropSelector8=this.$SlideshowPhotoCropSelector8.bind(this);this.$SlideshowPhotoCropSelector9=this.$SlideshowPhotoCropSelector9.bind(this);this.$SlideshowPhotoCropSelector10=this.$SlideshowPhotoCropSelector10.bind(this);this.$SlideshowPhotoCropSelector11=this.$SlideshowPhotoCropSelector11.bind(this);this.$SlideshowPhotoCropSelector12=this.$SlideshowPhotoCropSelector12.bind(this);}r.prototype.componentWillMount=function(){this.$SlideshowPhotoCropSelector13(this.props);};r.prototype.componentWillReceiveProps=function(s){this.$SlideshowPhotoCropSelector13(s);};r.prototype.componentWillUnmount=function(){if(this.$SlideshowPhotoCropSelector2)this.$SlideshowPhotoCropSelector2.remove();if(this.$SlideshowPhotoCropSelector6)this.$SlideshowPhotoCropSelector6.remove();};r.prototype.$SlideshowPhotoCropSelector13=function(s){var t=s.photoToEdit.width,u=s.photoToEdit.height;!(t&&u)?i(0):void 0;var v=Math.min(l/t,m/u),w={height:u,scaledWidth:Math.round(t*v),scaledHeight:Math.round(u*v),width:t},x={scale:1,x:(l-w.scaledWidth)/2,y:(m-w.scaledHeight)/2},y={scale:1,x:x.x+w.scaledWidth,y:x.y+w.scaledHeight},z=this.props.photosCrops[0],aa=Object.keys(z)[0],ba=z[aa],ca={};ca.top=x.y+ba[0][1]*v;ca.left=x.x+ba[0][0]*v;ca.bottom=x.y+(u-ba[1][1])*v;ca.right=x.x+(t-ba[1][0])*v;ca.width=l-ca.right-ca.left;ca.height=m-ca.bottom-ca.top;x.scale=Math.min(n*v/ca.width,o*v/ca.height);y.scale=Math.min(w.scaledWidth/ca.width,w.scaledHeight/ca.height);this.setState({max:y,min:x,photoDimensions:w,scale:v,coordinates:ca});};r.prototype.$SlideshowPhotoCropSelector14=function(){var s=c('React').createElement('td',{className:"_47uq"}),t=c('React').createElement('tr',null,s,s,s);return (c('React').createElement('table',{className:"_47ur"},c('React').createElement('tbody',null,t,t,t)));};r.prototype.$SlideshowPhotoCropSelector15=function(s){var t=this.state.min.y,u=this.state.min.x,v=Math.floor(s.top-t),w=Math.floor(s.left-u),x=Math.floor(s.right-u),y=Math.floor(s.bottom-t);return v+'px '+x+'px '+y+'px '+w+'px';};r.prototype.$SlideshowPhotoCropSelector16=function(){return (c('React').createElement('div',{className:"_47us",ref:'handles'},c('React').createElement('div',{className:"_47ut _47vn",key:'top_left',onMouseDown:this.$SlideshowPhotoCropSelector11}),c('React').createElement('div',{className:"_47ut _47vo",key:'top_right',onMouseDown:this.$SlideshowPhotoCropSelector11}),c('React').createElement('div',{className:"_47ut _47vp",key:'bottom_right',onMouseDown:this.$SlideshowPhotoCropSelector11}),c('React').createElement('div',{className:"_47ut _47vq",key:'bottom_left',onMouseDown:this.$SlideshowPhotoCropSelector11})));};r.prototype.$SlideshowPhotoCropSelector11=function(event){this.$SlideshowPhotoCropSelector17(event,true);};r.prototype.$SlideshowPhotoCropSelector17=function(event,s){event.preventDefault();this.$SlideshowPhotoCropSelector18();if(!this.$SlideshowPhotoCropSelector1){this.$SlideshowPhotoCropSelector3=this.$SlideshowPhotoCropSelector19(s);var t=c('ReactDOM').findDOMNode(this.refs.handles);!t?i(0):void 0;var u=t.getBoundingClientRect(),v=u.left,w=u.top,x=u.width,y=u.height;this.$SlideshowPhotoCropSelector5={x:v+x/2,y:w+y/2};this.$SlideshowPhotoCropSelector2=c('Event').listen(window,'mousemove',this.$SlideshowPhotoCropSelector8);this.$SlideshowPhotoCropSelector6=c('Event').listen(window,'mouseup',this.$SlideshowPhotoCropSelector7);this.setState({isCropping:true,isResizing:s,screenX:event.pageX,screenY:event.pageY});this.$SlideshowPhotoCropSelector1=true;this.$SlideshowPhotoCropSelector20(this.state.coordinates.left,this.state.coordinates.top,this.state.coordinates.width,this.state.coordinates.height);}};r.prototype.$SlideshowPhotoCropSelector19=function(s){return s?this.$SlideshowPhotoCropSelector12:this.$SlideshowPhotoCropSelector10;};r.prototype.$SlideshowPhotoCropSelector12=function(s,t){var u=Math.sqrt(q(this.state.screenX-this.$SlideshowPhotoCropSelector5.x)+q(this.state.screenY-this.$SlideshowPhotoCropSelector5.y)),v={x:s/2+this.state.screenX,y:t/2+this.state.screenY},w=Math.sqrt(q(this.$SlideshowPhotoCropSelector5.x-v.x)+q(this.$SlideshowPhotoCropSelector5.y-v.y)),x=p(w/u,this.state.min.scale,this.state.max.scale),y=Math.round(this.state.coordinates.width*x),z=Math.round(this.state.coordinates.height*x),aa=this.state.screenX<this.$SlideshowPhotoCropSelector5.x?this.state.coordinates.width-y:0,ba=this.state.screenY<this.$SlideshowPhotoCropSelector5.y?this.state.coordinates.height-z:0,ca=p(this.state.coordinates.left+aa,this.state.min.x,this.state.max.x-y),da=p(this.state.coordinates.top+ba,this.state.min.y,this.state.max.y-z);this.$SlideshowPhotoCropSelector20(ca,da,y,z);};r.prototype.$SlideshowPhotoCropSelector20=function(s,t,u,v){var w=m-t-v,x=l-s-u,y=this.$SlideshowPhotoCropSelector15({top:t,left:s,bottom:w,right:x});!this.$SlideshowPhotoCropSelector4?i(0):void 0;this.$SlideshowPhotoCropSelector4.style.borderWidth=y;this.$SlideshowPhotoCropSelector4.style.width=u+'px';this.$SlideshowPhotoCropSelector4.style.height=v+'px';if(!this.$SlideshowPhotoCropSelector1){this.setState({coordinates:{top:t,left:s,bottom:w,right:x,width:u,height:v}});var z=this.state.min;z.scale=Math.min(n*this.state.scale/u,o*this.state.scale/v);var aa=this.state.max;aa.scale=Math.min(this.state.photoDimensions.scaledWidth/u,this.state.photoDimensions.scaledHeight/v);this.setState({min:z,max:aa});}};r.prototype.$SlideshowPhotoCropSelector10=function(s,t){var u=this.state.coordinates.width,v=this.state.coordinates.height,w=p(this.state.coordinates.left+s,this.state.min.x,this.state.max.x-u),x=p(this.state.coordinates.top+t,this.state.min.y,this.state.max.y-v);this.$SlideshowPhotoCropSelector20(w,x,u,v);};r.prototype.$SlideshowPhotoCropSelector18=function(){!!this.$SlideshowPhotoCropSelector4?i(0):void 0;this.$SlideshowPhotoCropSelector4=c('ReactDOM').findDOMNode(this.refs.selector);!this.$SlideshowPhotoCropSelector4?i(0):void 0;};r.prototype.$SlideshowPhotoCropSelector9=function(event){this.$SlideshowPhotoCropSelector17(event,false);};r.prototype.$SlideshowPhotoCropSelector8=function(event){if(this.$SlideshowPhotoCropSelector1){event.prevent();!this.$SlideshowPhotoCropSelector3?i(0):void 0;this.$SlideshowPhotoCropSelector3(event.pageX-this.state.screenX,event.pageY-this.state.screenY);}};r.prototype.$SlideshowPhotoCropSelector7=function(event){if(this.$SlideshowPhotoCropSelector1){this.$SlideshowPhotoCropSelector1=false;this.setState({isCropping:false,isResizing:false});!this.$SlideshowPhotoCropSelector3?i(0):void 0;this.$SlideshowPhotoCropSelector3(event.pageX-this.state.screenX,event.pageY-this.state.screenY);this.$SlideshowPhotoCropSelector2&&this.$SlideshowPhotoCropSelector2.remove();this.$SlideshowPhotoCropSelector2=null;this.$SlideshowPhotoCropSelector6&&this.$SlideshowPhotoCropSelector6.remove();this.$SlideshowPhotoCropSelector6=null;this.$SlideshowPhotoCropSelector3=null;}this.$SlideshowPhotoCropSelector21();};r.prototype.$SlideshowPhotoCropSelector21=function(){delete this.$SlideshowPhotoCropSelector4;};r.prototype.$SlideshowPhotoCropSelector22=function(){var s=this.state.coordinates.width+'px',t=this.state.coordinates.height+'px',u=this.$SlideshowPhotoCropSelector15(this.state.coordinates);return (c('React').createElement('div',null,c('React').createElement('div',{className:"_47vr",style:{width:this.state.photoDimensions.scaledWidth+2,height:this.state.photoDimensions.scaledHeight+2,top:this.state.min.y-1,left:this.state.min.x-1}}),c('React').createElement('div',null,c('React').createElement('div',{className:"_47vs",ref:'selector',style:{borderWidth:u,height:t,left:this.state.min.x,top:this.state.min.y,width:s}},this.$SlideshowPhotoCropSelector14(),this.$SlideshowPhotoCropSelector16(),c('React').createElement(c('SlideshowPhotoCropperWindow.react'),{className:"_ms8",format:this.props.format,height:this.state.coordinates.height,isCropping:this.state.isCropping&&this.$SlideshowPhotoCropSelector1,onMouseDown:this.$SlideshowPhotoCropSelector9,width:this.state.coordinates.width})))));};r.prototype.render=function(){return (c('React').createElement('div',{className:"_118z"},c('React').createElement('div',{className:"_47vt"},c('React').createElement(c('BackgroundImage.react'),{backgroundSize:'contain',height:m,loadingIndicatorStyle:'large',src:this.props.photoToEdit.url,width:l}),this.$SlideshowPhotoCropSelector22())));};f.exports=r;}),null);
__d('SlideshowPhotoEditOptionConstants',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={Text:'TEXT',Crop:'CROP'};}),null);
__d('SlideshowPhotoEditOptionSelector.react',['ix','cx','fbt','Image.react','React','SlideshowPhotoEditOptionConstants','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('SlideshowPhotoEditOptionConstants').Text,n=c('SlideshowPhotoEditOptionConstants').Crop;k=babelHelpers.inherits(o,c('React').PureComponent);l=k&&k.prototype;function o(){var p;(p=l.constructor).call.apply(p,[this].concat(Array.prototype.slice.call(arguments)));this.$SlideshowPhotoEditOptionSelector1=this.$SlideshowPhotoEditOptionSelector1.bind(this);this.$SlideshowPhotoEditOptionSelector2=this.$SlideshowPhotoEditOptionSelector2.bind(this);}o.prototype.$SlideshowPhotoEditOptionSelector3=function(p){if(p!==this.props.editOptionType)return null;return (c('React').createElement(c('Image.react'),{className:p===m?"_3rqm":"_3rqn",src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/triangle-left_24_fig-white.png")}));};o.prototype.$SlideshowPhotoEditOptionSelector4=function(){return (c('React').createElement('div',null,c('React').createElement('div',{className:this.props.editOptionType===m?"_4bna":"_3rqo",onClick:this.$SlideshowPhotoEditOptionSelector2},c('React').createElement(c('Image.react'),{className:"_3rqp",src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/text-helvetica_24_fig-blue.png")}),c('React').createElement('span',{className:"_3rqq"},j._("Text"))),this.$SlideshowPhotoEditOptionSelector3(m)));};o.prototype.$SlideshowPhotoEditOptionSelector5=function(){return (c('React').createElement('div',null,c('React').createElement('div',{className:this.props.editOptionType===n?"_4bnb":"_3rqr",onClick:this.$SlideshowPhotoEditOptionSelector1},c('React').createElement(c('Image.react'),{className:"_3rqp",src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/crop_24_fig-blue.png")}),c('React').createElement('span',{className:"_3rqq"},j._("Crop"))),this.$SlideshowPhotoEditOptionSelector3(n)));};o.prototype.$SlideshowPhotoEditOptionSelector2=function(){if(this.props.editOptionType!==m)this.props.onChangeEditOption(m);};o.prototype.$SlideshowPhotoEditOptionSelector1=function(){if(this.props.editOptionType!==n)this.props.onChangeEditOption(n);};o.prototype.render=function(){return (c('React').createElement('div',{className:"_3rqs"},this.$SlideshowPhotoEditOptionSelector4(),this.$SlideshowPhotoEditOptionSelector5()));};f.exports=o;}),null);
__d("SlideshowPreviewConstants",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={WWW_PREVIEW_CONTAINER_SIZE:450,WWW_PREVIEW_CONTAINER_SIZE_COMPOSER:478,WWW_COMPOSER_LEFT_MARGIN:12,WWW_PLAY_ICON_SIZE:64,WWW_PLAYER_SIZE:350,WWW_PLAYER_SIZE_COMPOSER:478,WWW_WIDE_ASPECT_RATIO:1.7766};}),null);
__d('SlideshowTextoverlayAlignmentConstants',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={Horizontal:['left','center','right'],Vertical:['top','center','bottom']};}),null);
/**
 * @providesModule color-picker-clamp
 * @preserve-header
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2014 Nick Williams
 * Copyright (c) 2014 George Czabania
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 */__d("color-picker-clamp",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();function h(i,j,k){return i<j?j:(i>k?k:i);}f.exports=h;}),null);
/**
 * @providesModule color-picker-draggable-mixin
 * @preserve-header
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2014 Nick Williams
 * Copyright (c) 2014 George Czabania
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 */__d("color-picker-draggable-mixin",["React","color-picker-clamp"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c("React"),i=c("color-picker-clamp");function j(){}var k={propTypes:{onChange:h.PropTypes.func,max:h.PropTypes.number},getDefaultProps:function(){return {onChange:j,max:1};},getInitialState:function(){return {active:false};},componentDidMount:function(){document.addEventListener("mousemove",this.handleUpdate);document.addEventListener("touchmove",this.handleUpdate);document.addEventListener("mouseup",this.stopUpdates);document.addEventListener("touchend",this.stopUpdates);},componentWillUnmount:function(){document.removeEventListener("mousemove",this.handleUpdate);document.removeEventListener("touchmove",this.handleUpdate);document.removeEventListener("mouseup",this.stopUpdates);document.removeEventListener("touchend",this.stopUpdates);},startUpdates:function(l){l.preventDefault();var m=this.getPosition(l);this.setState({active:true});this.updatePosition(m.x,m.y);},handleUpdate:function(l){if(this.state.active){l.preventDefault();var m=this.getPosition(l);this.updatePosition(m.x,m.y);}},stopUpdates:function(){if(this.state.active)this.setState({active:false});},getPosition:function(l){if(l.touches)l=l.touches[0];return {x:l.clientX,y:l.clientY};},getPercentageValue:function(l){return (l/this.props.max)*100+"%";},getScaledValue:function(l){return i(l,0,1)*this.props.max;}};f.exports=k;}),null);
/**
 * @providesModule color-picker-map
 * @preserve-header
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2014 Nick Williams
 * Copyright (c) 2014 George Czabania
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * @fullSyntaxTransform
 */__d("color-picker-map",["cx","React","ReactDOM","ReactComponentWithPureRenderMixin","color-picker-draggable-mixin"],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c("React").createClass({displayName:"Map",mixins:[c("color-picker-draggable-mixin"),c("ReactComponentWithPureRenderMixin")],propTypes:{x:c("React").PropTypes.number,y:c("React").PropTypes.number,backgroundColor:c("React").PropTypes.string},getDefaultProps:function j(){return {x:0,y:0,backgroundColor:"transparent"};},updatePosition:function j(k,l){var m=c("ReactDOM").findDOMNode(this).getBoundingClientRect(),n=(k-m.left)/m.width,o=(m.bottom-l)/m.height;n=this.getScaledValue(n);o=this.getScaledValue(o);this.props.onChange(n,o);},render:function j(){var k="map"+(this.state.active?" "+"active":"");return (c("React").createElement("div",{className:"_4uwo"+" "+this.props.className+" "+k,onMouseDown:this.startUpdates,onTouchStart:this.startUpdates},c("React").createElement("div",{className:"background",style:{backgroundColor:this.props.backgroundColor}}),c("React").createElement("div",{className:"pointer",style:{left:this.getPercentageValue(this.props.x),bottom:this.getPercentageValue(this.props.y)}})));}});f.exports=i;}),null);
/**
 * @providesModule color-picker-slider
 * @preserve-header
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2014 Nick Williams
 * Copyright (c) 2014 George Czabania
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * @fullSyntaxTransform
 */__d("color-picker-slider",["cx","React","ReactDOM","ReactComponentWithPureRenderMixin","color-picker-draggable-mixin"],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c("React").createClass({displayName:"Slider",mixins:[c("color-picker-draggable-mixin"),c("ReactComponentWithPureRenderMixin")],propTypes:{vertical:c("React").PropTypes.bool.isRequired,value:c("React").PropTypes.number.isRequired},getDefaultProps:function j(){return {value:0};},updatePosition:function j(k,l){var m=c("ReactDOM").findDOMNode(this).getBoundingClientRect(),n;if(this.props.vertical){n=(m.bottom-l)/m.height;}else n=(k-m.left)/m.width;n=this.getScaledValue(n);this.props.onChange(n);},getCss:function j(){var k={},l=this.props.vertical?"bottom":"left";k[l]=this.getPercentageValue(this.props.value);return k;},render:function j(){var k="slider"+(this.props.vertical?" "+"vertical":"")+(!this.props.vertical?" "+"horizontal":"");return (c("React").createElement("div",{className:"_4_2w"+" "+k,onMouseDown:this.startUpdates,onTouchStart:this.startUpdates},c("React").createElement("div",{className:"track"}),c("React").createElement("div",{className:"pointer",style:this.getCss()})));}});f.exports=i;}),null);
/**
 * @providesModule color-picker
 * @preserve-header
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2014 Nick Williams
 * Copyright (c) 2014 George Czabania
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * @fullSyntaxTransform
 */__d("color-picker",["cx","React","color-picker-map","color-picker-slider","colr"],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;function k(){var l,m;"use strict";for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.getStateFrom=function(q){q=c("colr").fromHex(q);return {hsv:q.toHsvObject()};},this.getLuminosity=function(){return c("colr").fromHsvObject(this.state.hsv).toGrayscale()/255;}.bind(this),this.getBackgroundHue=function(){return c("colr").fromHsv(this.state.hsv.h,100,100).toHex();}.bind(this),this.handleHueChange=function(q){this.update({h:q,s:this.state.hsv.s,v:this.state.hsv.v});}.bind(this),this.handleSaturationValueChange=function(q,r){this.update({h:this.state.hsv.h,s:q,v:r});}.bind(this),this.update=function(q){var r=c("colr").fromHsvObject(q);this.props.onChange(r.toHex());this.setState({hsv:q});}.bind(this),this.state=this.getStateFrom(this.props.color),m;}k.prototype.componentWillReceiveProps=function(l){"use strict";var m=l.color,n=c("colr").fromHsvObject(this.state.hsv).toHex();if(m.toLowerCase()!==n.toLowerCase())this.setState(this.getStateFrom(m));};k.prototype.render=function(){"use strict";var l=this.getLuminosity(),m=this.getBackgroundHue(),n=(l<=.5?"dark":"")+(l>.5?" "+"light":"");return c("React").createElement("div",{className:"_f4e"},c("React").createElement("div",{className:"_2ppf"},c("React").createElement(c("color-picker-slider"),{vertical:true,value:this.state.hsv.h,max:360,onChange:this.handleHueChange})),c("React").createElement(c("color-picker-map"),{x:this.state.hsv.s,y:this.state.hsv.v,max:100,className:n,backgroundColor:m,onChange:this.handleSaturationValueChange}));};k.defaultProps={color:"#000000"};f.exports=k;}),null);
__d('SlideshowPhotoEditDialog.react',['invariant','cx','fbt','colr','color-picker','LayerHideOnBlur','LayerFadeOnHide','React','SlideshowAlignmentBox.react','SlideshowColorBox.react','SlideshowConstants','SlideshowFrameImage.react','SlideshowPhotoCropSelector.react','SlideshowImageUtil','SlideshowPhotoEditOptionConstants','SlideshowPhotoEditOptionSelector.react','SlideshowPreviewConstants','SlideshowTextoverlayAlignmentConstants','SlideshowTextoverlayColorPickerConstants','XUIButton.react','XUIContextualDialog.react','XUIContextualDialogBody.react','XUIContextualDialogFooter.react','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogSaveButton.react','XUIDialogFooter.react','XUIDialogTitle.react','XUIRadioButtonGroup.react','XUISingleSelector.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('XUISingleSelector.react').Option,n=204,o=730,p=810,q=460,r=60;k=babelHelpers.inherits(s,c('React').Component);l=k&&k.prototype;function s(t){l.constructor.call(this,t);this.$SlideshowPhotoEditDialog1=function(u){this.props.onChangeTextoverlayFont(u.value);}.bind(this);this.$SlideshowPhotoEditDialog2=function(u){this.props.onChangeTextoverlayFontBold(u);}.bind(this);this.$SlideshowPhotoEditDialog3=function(u){this.props.onSetTextoverlayContent(u.target.value);}.bind(this);this.state={colorInput:t.textoverlayColor.background_color};this.$SlideshowPhotoEditDialog1=this.$SlideshowPhotoEditDialog1.bind(this);this.$SlideshowPhotoEditDialog2=this.$SlideshowPhotoEditDialog2.bind(this);this.$SlideshowPhotoEditDialog3=this.$SlideshowPhotoEditDialog3.bind(this);this.$SlideshowPhotoEditDialog4=this.$SlideshowPhotoEditDialog4.bind(this);this.$SlideshowPhotoEditDialog5=this.$SlideshowPhotoEditDialog5.bind(this);this.$SlideshowPhotoEditDialog6=this.$SlideshowPhotoEditDialog6.bind(this);this.$SlideshowPhotoEditDialog7=this.$SlideshowPhotoEditDialog7.bind(this);}s.prototype.$SlideshowPhotoEditDialog7=function(t){if(this.props.colorPickerDialogShown&&!t)this.props.onSaveColor();};s.prototype.$SlideshowPhotoEditDialog8=function(){var t=c('SlideshowConstants').textoverlays_fonts;return Object.keys(t).map(function(u){return c('React').createElement(m,{key:u,value:u},t[u]);});};s.prototype.$SlideshowPhotoEditDialog9=function(){return c('React').createElement('div',{className:"_bsi"},c('React').createElement('div',{className:"_bsj"},j._("Font")),c('React').createElement(c('XUISingleSelector.react'),{className:"_bsm",maxwidth:138,name:'font',size:'large',value:this.props.textoverlayFont,onChange:this.$SlideshowPhotoEditDialog1},this.$SlideshowPhotoEditDialog8()),c('React').createElement(c('XUIRadioButtonGroup.react'),{className:"_46un",selectedValue:this.props.isTextoverlayFontBold,selectedDepressed:true,onValueChange:this.$SlideshowPhotoEditDialog2},c('React').createElement(c('XUIButton.react'),{label:j._("Regular"),value:false}),c('React').createElement(c('XUIButton.react'),{label:j._("Bold"),value:true})));};s.prototype.$SlideshowPhotoEditDialog10=function(){return c('React').createElement('div',{className:"_47dr"},c('React').createElement('span',{className:"_bsj"},j._("Colors")),c('React').createElement(c('SlideshowColorBox.react'),{className:"_458a",ref:'colorBox',style:{color:this.props.textoverlayColor.font_color,backgroundColor:this.props.textoverlayColor.background_color},onClick:this.props.onOpenColorPicker}),this.$SlideshowPhotoEditDialog11());};s.prototype.$SlideshowPhotoEditDialog12=function(){var t=c('SlideshowConstants').textoverlays_colors,u=this.props.textoverlayColor;return c('React').createElement('div',{className:"_3pya"},t.map(function(v){return c('React').createElement(c('SlideshowColorBox.react'),{className:"_47ds"+(v.background_color==u.background_color&&v.font_color==u.font_color?' '+"_auk":''),color:v,key:v.font_color+v.background_color,style:{color:v.font_color,backgroundColor:v.background_color},onClick:this.$SlideshowPhotoEditDialog6});}.bind(this)));};s.prototype.$SlideshowPhotoEditDialog6=function(t){this.setState({colorInput:t.background_color});this.props.onSelectTextoverlayColor(t);};s.prototype.$SlideshowPhotoEditDialog13=function(){var t=this.props.textoverlayColor;return c('React').createElement('div',null,c('React').createElement('div',{className:"_3pyb"},c('React').createElement(c('color-picker'),{color:t.background_color,onChange:this.$SlideshowPhotoEditDialog4})),c('React').createElement(c('SlideshowColorBox.react'),{className:"_47ds _3pyc",color:t,style:{color:t.font_color,backgroundColor:t.background_color}}),c('React').createElement('div',{className:"_3pyd"},c('React').createElement('input',{maxLength:7,value:this.state.colorInput,onChange:this.$SlideshowPhotoEditDialog5})));};s.prototype.$SlideshowPhotoEditDialog11=function(){var t=this.props,u=t.colorPickerDialogShown,v=t.colorPickerType,w=v==c('SlideshowTextoverlayColorPickerConstants').Basic;return c('React').createElement(c('XUIContextualDialog.react'),{alignment:'right',behaviors:{LayerHideOnBlur:c('LayerHideOnBlur')},contextRef:function(){return this.refs.colorBox;}.bind(this),shown:u,position:'below',width:n,onToggle:this.$SlideshowPhotoEditDialog7},c('React').createElement(c('XUIContextualDialogBody.react'),null,c('React').createElement('div',{className:"_3pye"+(' '+"_2d75")+(w?' '+"_3pyf":''),onClick:this.props.onClickBasicColorPicker},j._("Basic")),c('React').createElement('div',{className:"_3pye"+(' '+"_2d76")+(!w?' '+"_3pyf":''),onClick:this.props.onClickAdvancedColorPicker},j._("Advanced")),w?this.$SlideshowPhotoEditDialog12():this.$SlideshowPhotoEditDialog13()),c('React').createElement(c('XUIContextualDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{use:'confirm',label:j._("Done"),onClick:this.props.onSaveColor})));};s.prototype.$SlideshowPhotoEditDialog5=function(t){var u=t.target;!(u instanceof HTMLInputElement)?h(0):void 0;this.setState({colorInput:u.value});var v=void 0;try{v=c('colr').fromHex(u.value).toHex();if(v)this.props.onSelectTextoverlayColor({background_color:v,font_color:this.props.textoverlayColor.font_color});}catch(w){}};s.prototype.$SlideshowPhotoEditDialog4=function(t){this.setState({colorInput:t});this.props.onSelectTextoverlayColor({background_color:t,font_color:this.props.textoverlayColor.font_color});};s.prototype.$SlideshowPhotoEditDialog14=function(){var t=c('SlideshowTextoverlayAlignmentConstants').Horizontal,u=c('SlideshowTextoverlayAlignmentConstants').Vertical;return c('React').createElement('div',{className:"_b3r"},c('React').createElement('span',{className:"_bsj"},j._("Alignment")),c('React').createElement('div',{className:"_b3s"},u.map(function(v){return t.map(function(w){return c('React').createElement(c('SlideshowAlignmentBox.react'),{key:v+'-'+w,selectedValue:this.props.textoverlayAlignment,horizontalAlignment:w,verticalAlignment:v,onValueChange:this.props.onChangeTextoverlayAlignment});}.bind(this));}.bind(this))));};s.prototype.$SlideshowPhotoEditDialog15=function(){return c('React').createElement('div',{className:"_32zp"},this.$SlideshowPhotoEditDialog16(),this.$SlideshowPhotoEditDialog9(),this.$SlideshowPhotoEditDialog10(),this.$SlideshowPhotoEditDialog14());};s.prototype.$SlideshowPhotoEditDialog17=function(){if(!this.props.dialogShown)return null;var t=c('SlideshowImageUtil').getPreviewBoxDimensions(this.props.photosCrops,q,c('SlideshowPreviewConstants').WWW_WIDE_ASPECT_RATIO),u={marginLeft:(q-t.width)/2,marginTop:(q-t.height)/2},v=this.props.photoToEdit;!v?h(0):void 0;return c('React').createElement('div',{className:"_4ry3"},c('React').createElement('div',{style:u},c('React').createElement(c('SlideshowFrameImage.react'),{croppingSpec:c('SlideshowImageUtil').getFullSizeImageBoxCroppingSpec({width:v.width||0,height:v.height||0},{width:t.width,height:t.height}),imageSrc:v.url,imageWidth:v.width,imageHeight:v.height,maxWidth:t.width,maxHeight:t.height,positionStyle:'relative',textoverlay:{background_color:this.props.textoverlayColor.background_color,bold:this.props.isTextoverlayFontBold,font:this.props.textoverlayFont,font_color:this.props.textoverlayColor.font_color,text_alignment:this.props.textoverlayAlignment,textoverlay_content:this.props.textoverlayContent}})));};s.prototype.$SlideshowPhotoEditDialog18=function(){switch(this.props.editOptionType){case c('SlideshowPhotoEditOptionConstants').Crop:if(!this.props.photoToEdit)return null;return c('React').createElement('div',{className:"_2m0d"},c('React').createElement(c('SlideshowPhotoCropSelector.react'),{format:this.props.format,photosCrops:this.props.photosCrops,photoToEdit:this.props.photoToEdit}));case c('SlideshowPhotoEditOptionConstants').Text:return c('React').createElement('div',{className:"_2m0d"},this.$SlideshowPhotoEditDialog15(),c('React').createElement('div',{className:"_4ry4"},this.$SlideshowPhotoEditDialog17()));default:return null;}};s.prototype.$SlideshowPhotoEditDialog16=function(){var t=this.props.textoverlayContent,u=r-(t?t.length:0);return c('React').createElement('div',null,c('React').createElement('textarea',{className:"_32zq",placeholder:j._("Your text..."),maxLength:r,onChange:this.$SlideshowPhotoEditDialog3,value:t||''}),c('React').createElement('div',{className:"_2nyn"+(u<=0?' '+"_2d77":'')},u));};s.prototype.$SlideshowPhotoEditDialog19=function(){if(!this.props.showSlideshowImageCroppingEditOption)return null;return (c('React').createElement(c('SlideshowPhotoEditOptionSelector.react'),{editOptionType:this.props.editOptionType,onChangeEditOption:this.props.onChangeEditOption}));};s.prototype.render=function(){return (c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},layerHideOnBlur:false,shown:this.props.dialogShown,width:this.props.showSlideshowImageCroppingEditOption?p:o},c('React').createElement(c('XUIDialogTitle.react'),{showCloseButton:false},j._("Edit Photo")),c('React').createElement(c('XUIDialogBody.react'),{className:"_5emm",useCustomPadding:true},this.$SlideshowPhotoEditDialog19(),this.$SlideshowPhotoEditDialog18()),c('React').createElement(c('XUIDialogFooter.react'),{className:"_vc3"},c('React').createElement(c('XUIDialogCancelButton.react'),{onClick:this.props.onCancel}),c('React').createElement(c('XUIDialogSaveButton.react'),{disabled:this.props.textoverlayContent&&this.props.textoverlayContent.length>r,use:'confirm',onClick:this.props.onSave}))));};f.exports=s;}),null);
__d('SlideshowPhotoEditStore',['SlideshowConstants','SlideshowPhotoEditOptionConstants','SlideshowTextoverlayColorPickerConstants','FluxReduceStore','immutable','SlideshowActionTypes','SlideshowDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i,j,k;if(c.__markCompiled)c.__markCompiled();var l=c('immutable').Record({colorPickerType:c('SlideshowTextoverlayColorPickerConstants').Basic,isColorPickerDialogShown:false,isPhotoEditDialogShown:false,isTextoverlayFontBold:false,editOptionType:c('SlideshowPhotoEditOptionConstants').Text,photoToEdit:null,textoverlayAlignment:'center-center',textoverlayColor:c('SlideshowConstants').textoverlays_colors[0],textoverlayContent:null,textoverlayFont:Object.keys(c('SlideshowConstants').textoverlays_fonts)[0]});h=babelHelpers.inherits(m,l);i=h&&h.prototype;function m(){h.apply(this,arguments);}j=babelHelpers.inherits(n,c('FluxReduceStore'));k=j&&j.prototype;n.prototype.getInitialState=function(){return new m();};n.prototype.getPhotoToEdit=function(){return this.getState().get('photoToEdit');};n.prototype.reduce=function(o,p){switch(p.type){case c('SlideshowActionTypes').SHOW_PHOTO_EDIT_DIALOG:return o.set('isColorPickerDialogShown',p.isColorPickerDialogShown).set('isPhotoEditDialogShown',p.isPhotoEditDialogShown).set('photoToEdit',p.photoToEdit).set('textoverlayAlignment',p.textoverlayAlignment).set('textoverlayColor',p.textoverlayColor).set('textoverlayContent',p.textoverlayContent).set('textoverlayFont',p.textoverlayFont).set('isTextoverlayFontBold',p.isTextoverlayFontBold);case c('SlideshowActionTypes').CLOSE_PHOTO_EDIT_DIALOG:return o.set('isPhotoEditDialogShown',p.isPhotoEditDialogShown).set('photoToEdit',p.photoToEdit);case c('SlideshowActionTypes').TOGGLE_COLOR_PICKER_DIALOG:return o.set('isColorPickerDialogShown',!o.get('isColorPickerDialogShown'));case c('SlideshowActionTypes').CHANGE_COLOR_PICKER_TYPE:return o.set('colorPickerType',p.colorPickerType);case c('SlideshowActionTypes').CHANGE_EDIT_OPTION_TYPE:return o.set('editOptionType',p.editOptionType);case c('SlideshowActionTypes').SELECT_TEXTOVERLAY_COLOR:return o.set('textoverlayColor',p.textoverlayColor);case c('SlideshowActionTypes').SET_TEXTOVERLAY_CONTENT:var q=p.textoverlayContent?p.textoverlayContent.trimLeft():null;return o.set('textoverlayContent',q);case c('SlideshowActionTypes').CHANGE_TEXTOVERLAY_ALIGNMENT:return o.set('textoverlayAlignment',p.textoverlayAlignment);case c('SlideshowActionTypes').CHANGE_TEXTOVERLAY_FONT:return o.set('textoverlayFont',p.textoverlayFont);case c('SlideshowActionTypes').CHANGE_TEXTOVERLAY_FONT_BOLD:return o.set('isTextoverlayFontBold',p.isTextoverlayFontBold);}return o;};n.prototype.getColorPickerType=function(){return this.getState().get('colorPickerType');};n.prototype.getEditOptionType=function(){return this.getState().get('editOptionType');};n.prototype.getTextoverlayAlignment=function(){return this.getState().get('textoverlayAlignment');};n.prototype.getTextoverlayColor=function(){return this.getState().get('textoverlayColor');};n.prototype.getTextoverlayContent=function(){return this.getState().get('textoverlayContent');};n.prototype.getTextoverlayFont=function(){return this.getState().get('textoverlayFont');};n.prototype.shouldShowColorPickerDialog=function(){return this.getState().get('isColorPickerDialogShown');};n.prototype.shouldShowPhotoEditDialog=function(){return this.getState().get('isPhotoEditDialogShown');};n.prototype.isTextoverlayFontBold=function(){return this.getState().get('isTextoverlayFontBold');};function n(){j.apply(this,arguments);}f.exports=new n(c('SlideshowDispatcher'));}),null);
__d('SlideshowPhotoEditDialogContainer.react',['FluxContainer','FluxStore','React','SlideshowActions','SlideshowDispatcher','SlideshowPhotoEditDialog.react','SlideshowPhotoEditStore'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.$SlideshowPhotoEditDialogContainer1=function(){this.props.onSaveTextoverlay&&this.props.onSaveTextoverlay(this.state.photoToEdit,{textoverlay_content:this.state.textoverlayContent,font_color:this.state.textoverlayColor.font_color,background_color:this.state.textoverlayColor.background_color,text_alignment:this.state.textoverlayAlignment,font:this.state.textoverlayFont,bold:this.state.isTextoverlayFontBold});c('SlideshowActions').closePhotoEditDialog();}.bind(this);this.$SlideshowPhotoEditDialogContainer1=this.$SlideshowPhotoEditDialogContainer1.bind(this);}j.getStores=function(){return [c('SlideshowPhotoEditStore')];};j.calculateState=function(){return {colorPickerType:c('SlideshowPhotoEditStore').getColorPickerType(),editOptionType:c('SlideshowPhotoEditStore').getEditOptionType(),isColorPickerDialogShown:c('SlideshowPhotoEditStore').shouldShowColorPickerDialog(),isPhotoEditDialogShown:c('SlideshowPhotoEditStore').shouldShowPhotoEditDialog(),isTextoverlayFontBold:c('SlideshowPhotoEditStore').isTextoverlayFontBold(),textoverlayAlignment:c('SlideshowPhotoEditStore').getTextoverlayAlignment(),textoverlayColor:c('SlideshowPhotoEditStore').getTextoverlayColor(),textoverlayContent:c('SlideshowPhotoEditStore').getTextoverlayContent(),textoverlayFont:c('SlideshowPhotoEditStore').getTextoverlayFont(),photoToEdit:c('SlideshowPhotoEditStore').getPhotoToEdit()};};j.prototype.componentWillMount=function(){c('SlideshowDispatcher').explicitlyRegisterStores([c('SlideshowPhotoEditStore')]);};j.prototype.render=function(){return (c('React').createElement(c('SlideshowPhotoEditDialog.react'),{colorPickerDialogShown:this.state.isColorPickerDialogShown,colorPickerType:this.state.colorPickerType,dialogShown:this.state.isPhotoEditDialogShown,editOptionType:this.state.editOptionType,format:this.props.format,isTextoverlayFontBold:this.state.isTextoverlayFontBold,photosCrops:this.props.photosCrops,photoToEdit:this.state.photoToEdit,showSlideshowImageCroppingEditOption:this.props.showSlideshowImageCroppingEditOption,textoverlayAlignment:this.state.textoverlayAlignment,textoverlayColor:this.state.textoverlayColor,textoverlayContent:this.state.textoverlayContent,textoverlayFont:this.state.textoverlayFont,onCancel:c('SlideshowActions').closePhotoEditDialog,onChangeEditOption:c('SlideshowActions').changeEditOptionType,onChangeTextoverlayAlignment:c('SlideshowActions').changeTextoverlayAlignment,onChangeTextoverlayFont:c('SlideshowActions').changeTextoverlayFont,onChangeTextoverlayFontBold:c('SlideshowActions').changeTextoverlayFontBold,onClickAdvancedColorPicker:c('SlideshowActions').showAdvancedColorPicker,onClickBasicColorPicker:c('SlideshowActions').showBasicColorPicker,onOpenColorPicker:c('SlideshowActions').toggleColorPickerDialog,onSave:this.$SlideshowPhotoEditDialogContainer1,onSaveColor:c('SlideshowActions').toggleColorPickerDialog,onSelectTextoverlayColor:c('SlideshowActions').selectTextoverlayColor,onSetTextoverlayContent:c('SlideshowActions').setTextoverlayContent}));};f.exports=c('FluxContainer').create(j);}),null);
__d('SlideshowPlayer.react',['cx','fbt','ix','Animation','Event','FBOverlayBase.react','FBOverlayContainer.react','FBOverlayElement.react','Image.react','Link.react','React','ReactDOM','Style','SlideshowConstants','SlideshowImageUtil','SlideshowPreviewConstants','XUICloseButton.react','XUIOverlayButton.react','ge','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=1000,m=100,n=c('React').createClass({displayName:'SlideshowPlayer',_animation:null,_timeout:0,_audioEndedEvent:c('Event'),_audioref:'slideshow_audio_player',_fadeTimeOut:0,_fadeInterval:0,propTypes:{durationInMS:k.number.isRequired,imagesAllLoaded:k.bool.isRequired,imagesCrops:k.arrayOf(k.object.isRequired).isRequired,isPreviewPlaying:k.bool.isRequired,previewBoxContainerSize:k.number.isRequired,previewBoxSize:k.number.isRequired,transitionInMS:k.number.isRequired,audioFileSource:k.string.isRequired,showStorylineMood:k.bool.isRequired,storylineMoodIDSource:k.oneOfType([k.oneOf([null,undefined]),k.string]),onClose:k.func,onPreviewStateChange:k.func.isRequired},getInitialState:function o(){return {currIndex:0,nextIndex:1,playing:false};},componentDidMount:function o(){this._timeout=0;this._audioEndedEvent=null;},componentWillUnmount:function o(){this._clearTimeout();},componentDidUpdate:function o(p){if(this.props.isPreviewPlaying&&!p.isPreviewPlaying){this._startPlaying();}else if(!this.props.isPreviewPlaying&&p.isPreviewPlaying)this._stopPlaying();},_clearTimeout:function o(){if(this._timeout){clearTimeout(this._timeout);this._timeout=0;}if(this._animation){this._animation.stop();this._animation=null;}if(this._fadeTimeOut)clearTimeout(this._fadeTimeOut);if(this._fadeInterval)clearInterval(this._fadeInterval);},_getItemCount:function o(){return c('React').Children.count(this.props.children);},_moveNext:function o(){if(this.state.nextIndex>=this._getItemCount()){this._stopPlaying();}else this._fadeImage();},_setTimeout:function o(){this._timeout=setTimeout(this._moveNext,this.props.durationInMS);},_fadeImage:function o(){var p=this.state,q=p.currIndex,r=p.nextIndex,s=c('ReactDOM').findDOMNode(this.refs[q]);if(!s){this._stopPlaying();return;}this._animation=new (c('Animation'))(c('ReactDOM').findDOMNode(this.refs[q])).from('opacity',1).to('opacity',0).duration(this.props.transitionInMS).ondone(function(){this.setState({currIndex:r,nextIndex:r+1},this._setTimeout);}.bind(this)).go();},_resetImages:function o(){this.setState({currIndex:0,nextIndex:1});for(var p=0;p<this._getItemCount();p++)c('Style').set(c('ReactDOM').findDOMNode(this.refs[p]),'opacity',1);},_fadeAudio:function o(){var p=c('ge')(this._audioref),q=c('SlideshowConstants').audio_fadeout*(l/m),r=1/q;this._fadeInterval=setInterval(function(){var s=p.volume;if(s-r>=0){s-=r;p.volume=s;}else clearInterval(this._fadeInterval);},m);},_startPlaying:function o(){if(this._timeout)return;this.setState({playing:true},this._setTimeout);this._audioEndedEvent=null;var p=this.props.showStorylineMood?this.props.storylineMoodIDSource:this.props.audioFileSource;if(!p||p===c('SlideshowConstants').audio_source_none)return;var q=c('ge')(this._audioref);if(!q)return;q.src=p;q.currentTime=0;q.volume=1;q.play();this._audioEndedEvent=c('Event').listen(q,'ended',function(){q.play();});var r=this._getItemCount()*(this.props.durationInMS+this.props.transitionInMS);this._fadeTimeOut=setTimeout(this._fadeAudio,r-l*c('SlideshowConstants').audio_fadeout);},_stopPlaying:function o(){this.props.onPreviewStateChange(false);if(this._timeout){this.setState({playing:false});var p=c('ge')(this._audioref);if(p!=null)p.pause();if(this._audioEndedEvent!==null)this._audioEndedEvent.remove();this._clearTimeout();this._resetImages();}},_getCurrentImages:function o(){return this.props.children.map(function(p,q){return (c('React').createElement('div',{ref:q,key:q,style:{position:'absolute'}},p));}).reverse();},_getPlayerStyle:function o(){return {height:this.props.previewBoxSize,margin:(this.props.previewBoxContainerSize-this.props.previewBoxSize)/2,width:this.props.previewBoxSize};},_getOverlayButtonStyle:function o(){var p=c('SlideshowImageUtil').getPreviewBoxDimensions(this.props.imagesCrops,this.props.previewBoxSize,c('SlideshowPreviewConstants').WWW_WIDE_ASPECT_RATIO);return {marginLeft:(this.props.previewBoxSize-p.width)/2,marginTop:(this.props.previewBoxSize-p.height)/2};},_getCloseButton:function o(){if(!this.props.onClose)return null;return (c('React').createElement(c('XUICloseButton.react'),{className:"_4xxs",onClick:this.props.onClose,size:'medium',shade:'light',style:this._getOverlayButtonStyle()}));},_playButtonClick:function o(){this.props.onPreviewStateChange(true);},_getEditButton:function o(){if(!this.props.onEdit)return null;var p=i._("Edit");return (c('React').createElement(c('XUIOverlayButton.react'),{className:"_4xxt",image:c('React').createElement(c('Image.react'),{src:j("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/pencil_16_fig-white.png")}),label:p,style:this._getOverlayButtonStyle(),onClick:this.props.onEdit}));},render:function o(){var p=this._getItemCount();if(p===0)return (c('React').createElement('div',{className:"_4xxu"},c('React').createElement(c('Image.react'),{className:"_4xxv",src:j('/images/ads/video/play-na.png')}),i._("Add images to see a preview of your slideshow")));var q={marginLeft:(this.props.previewBoxContainerSize-c('SlideshowPreviewConstants').WWW_PLAY_ICON_SIZE)/2,marginTop:(this.props.previewBoxContainerSize-c('SlideshowPreviewConstants').WWW_PLAY_ICON_SIZE)/2};return (c('React').createElement(c('FBOverlayContainer.react'),null,c('React').createElement(c('FBOverlayBase.react'),null,c('React').createElement('div',{className:"_4xxx",style:this._getPlayerStyle()},p===1?c('React').createElement('div',{ref:0,style:{position:'absolute'}},this.props.children):this._getCurrentImages(),this._getCloseButton(),this._getEditButton(),c('React').createElement('audio',{id:this._audioref,className:'hidden_elem'},c('React').createElement('source',{type:'audio/mpeg'})))),c('React').createElement(c('FBOverlayElement.react'),null,c('React').createElement('div',{className:this.state.playing||!this.props.imagesAllLoaded?"_4xxy":'',style:q},c('React').createElement(c('Link.react'),{onClick:this._playButtonClick},c('React').createElement(c('Image.react'),{src:j('/images/calltoaction/videoendscreen/play_64dp.png')}))))));}});f.exports=n;}),null);
__d('SlideshowPreview.react',['cx','invariant','LoadingImageBox.react','React','SlideshowFrameImage.react','SlideshowImageUtil','SlideshowPlayer.react','SlideshowPreviewConstants'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,c('React').PureComponent);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$SlideshowPreview1=function(){var r=c('SlideshowImageUtil').getPreviewBoxDimensions(this.props.imagesCrops,this.props.previewBoxSize,c('SlideshowPreviewConstants').WWW_WIDE_ASPECT_RATIO),s={marginLeft:(this.props.previewBoxSize-r.width)/2,marginTop:(this.props.previewBoxSize-r.height)/2};return (this.props.selectedImages.map(function(t,u){!(t.width!=null&&t.height!=null)?i(0):void 0;return (c('React').createElement('div',{style:s,key:t.key},c('React').createElement(c('SlideshowFrameImage.react'),{className:"_590x",croppingSpec:c('SlideshowImageUtil').getFullSizeImageBoxCroppingSpec({width:t.width?t.width:0,height:t.height?t.height:0},{width:r.width,height:r.height}),imageSrc:t.url,imageWidth:t.width,imageHeight:t.height,maxWidth:r.width,maxHeight:r.height,positionStyle:'relative',textoverlay:this.props.imagesTextoverlays&&this.props.imagesTextoverlays[u].textoverlay_content?this.props.imagesTextoverlays[u]:null})));}.bind(this)).slice(0,this.props.maxSelectedImages));}.bind(this),n;}l.prototype.render=function(){return (c('React').createElement('div',this.props,c('React').createElement(c('SlideshowPlayer.react'),{durationInMS:this.props.durationWithTransitionInMS-this.props.transitionInMS,audioFileSource:this.props.audioFileSource,imagesAllLoaded:this.props.imagesAllLoaded,imagesCrops:this.props.imagesCrops,isPreviewPlaying:this.props.isPreviewPlaying,previewBoxContainerSize:this.props.previewBoxContainerSize,previewBoxSize:this.props.previewBoxSize,showStorylineMood:this.props.showStorylineMood,storylineMoodIDSource:this.props.storylineMoodIDSource,transitionInMS:this.props.transitionInMS,onClose:this.props.onClose,onEdit:this.props.onEdit,onPreviewStateChange:this.props.onPreviewStateChange},this.props.imagesAllLoaded?this.$SlideshowPreview1():c('React').createElement(c('LoadingImageBox.react'),{className:"_590x",height:this.props.previewBoxSize,width:this.props.previewBoxSize}))));};f.exports=l;}),null);
__d('SlideshowFbtUtils',['fbt','SlideshowFlowTypes'],(function a(b,c,d,e,f,g,h){'use strict';var i;if(c.__markCompiled)c.__markCompiled();var j=c('SlideshowFlowTypes').SlideshowTabKey,k={None:h._("None"),Fade:h._("Fade"),Unknown:h._("Unknow")},l=(i={},i[j.SETTINGS_TAB]=h._("Settings"),i[j.MUSIC_TAB]=h._("Music"),i[j.FRAMES_TAB]=h._("Frames"),i.FRAMES_TAB_NUX=h._("Choose which frames you want to include in your slideshow"),i),m={UPLOAD_ERROR:h._("There was a problem with your upload"),FRAME_IMAGE_FETCH_ERROR_FIRST:h._("We weren't able to cut your video into a slideshow. Try adding the video again."),FRAME_IMAGE_FETCH_ERROR_SECOND:h._("We still weren't able to cut your video into a slideshow. There could be a problem with your video file."),Unknown:null},n={None:h._("None"),Action:h._("Action"),BluesCountry:h._("Blues Country"),Dance:h._("Dance"),ElectricCoconut:h._("Electric Coconut"),GarageGroove:h._("Garage Groove"),GoodMemories:h._("Good Memories"),HappyZone:h._("Happy Zone"),JazzySamba:h._("Jazzy Samba"),Longboard:h._("Longboard"),Stratos:h._("Stratos"),Swamp:h._("Swamp"),Thanks:h._("Thanks"),Timelapse:h._("Timelapse"),Wonder:h._("Wonder"),Unknown:h._("Unknown")},o={Original:h._("Original"),Wide:h._("Rectangle (16:9)"),Square:h._("Square (1:1)")},p={Original:null,Wide:null,Square:null},q={_getFbtString:function r(s,t){if(s[t])return s[t];return s.Unknown;},getDurationFbtString:function r(s){if(s===1)return h._({"*":"{second} second"},[h.param('second',s,[0])]);return h._({"*":"{seconds} seconds"},[h.param('seconds',s,[0])]);},getFramesTabNuxFbtString:function r(){return this._getFbtString(l,'FRAMES_TAB_NUX');},getTabNameFbtString:function r(s){return this._getFbtString(l,s);},getTransitionFbtString:function r(s){return this._getFbtString(k,s);},getAudioFbtString:function r(s){return this._getFbtString(n,s);},getSlideshowVideoErrorMessage:function r(s){return this._getFbtString(m,s);},getFormatFbtString:function r(s){return this._getFbtString(o,s);},getFormatTooltipFbtString:function r(s){return this._getFbtString(p,s);}};f.exports=q;}),null);
__d('SlideshowSettingsPanel.react',['cx','fbt','SlideshowConstants','SlideshowFbtUtils','AdsHelpLink.react','React','XUIButton.react','XUIRadioButtonGroup.react','XUISingleSelector.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('XUISingleSelector.react').Option,m=[1,2,3,4,5],n=1000;j=babelHelpers.inherits(o,c('React').PureComponent);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$SlideshowSettingsPanel1=function(){var u=c('SlideshowConstants').formats;return (c('React').createElement('div',{className:"_315i"},c('React').createElement('span',{className:"_315k"},i._("ASPECT RATIO")),c('React').createElement(c('AdsHelpLink.react'),{width:360},i._("Choose the aspect ratio for your video. Let the first image of your slideshow determine the ratio, or set it to square (1:1) or rectangle (16:9)")),c('React').createElement('div',{className:"_2i2r"},c('React').createElement(c('XUIRadioButtonGroup.react'),{selectedDepressed:true,selectedValue:this.props.format,onValueChange:this.props.onChangeFormat},Object.keys(u).map(function(v){return (c('React').createElement(c('XUIButton.react'),{'data-hover':'tooltip','data-tooltip-content':c('SlideshowFbtUtils').getFormatTooltipFbtString(v),'data-tooltip-position':'below',key:v,label:c('SlideshowFbtUtils').getFormatFbtString(v),size:'xlarge',value:u[v]}));})))));}.bind(this),this.$SlideshowSettingsPanel2=function(){return (c('React').createElement('div',{className:"_315i"},c('React').createElement('span',{className:"_315k"},i._("IMAGE DURATION")),c('React').createElement(c('AdsHelpLink.react'),null,i._("Set the total number of seconds you show each image in your slideshow.")),c('React').createElement('div',{className:"_2i2r"},c('React').createElement(c('XUISingleSelector.react'),{defaultValue:this.props.durationWithTransitionInMS,name:'duration',size:'xlarge',onChange:this.props.onChangeDuration},this.$SlideshowSettingsPanel3()))));}.bind(this),this.$SlideshowSettingsPanel3=function(){return m.map(function(u){return (c('React').createElement(l,{key:u,value:u*n},c('SlideshowFbtUtils').getDurationFbtString(u)));});},this.$SlideshowSettingsPanel4=function(){var u=c('SlideshowConstants').transitions;return (c('React').createElement('div',{className:"_315i"},c('React').createElement('span',{className:"_315k"},i._("TRANSITION")),c('React').createElement(c('AdsHelpLink.react'),null,i._("Choose how your slideshow switches from one image to the next.")),c('React').createElement('div',{className:"_2i2r"},c('React').createElement(c('XUIRadioButtonGroup.react'),{selectedDepressed:true,selectedValue:this.props.transitionInMS,onValueChange:this.props.onChangeTransition},Object.keys(u).map(function(v){return (c('React').createElement(c('XUIButton.react'),{key:v,label:c('SlideshowFbtUtils').getTransitionFbtString(v),size:'xlarge',value:u[v]}));})))));}.bind(this),this.$SlideshowSettingsPanel5=function(){if(!this.props.showAudioSelector)return null;return (c('React').createElement('div',{className:"_315i"},c('React').createElement('span',{className:"_315k"},i._("MUSIC")),c('React').createElement(c('AdsHelpLink.react'),null,i._("Add sound, such as narration or music, to your slideshow.")),c('React').createElement('div',{className:"_2i2r"},this.props.showStorylineMood?this.$SlideshowSettingsPanel6():this.$SlideshowSettingsPanel7())));}.bind(this),this.$SlideshowSettingsPanel7=function(){var u=c('SlideshowConstants').audio_files,v=Object.keys(u).map(function(w){return (c('React').createElement(l,{key:u[w],value:u[w]},c('SlideshowFbtUtils').getAudioFbtString(w)));});return (c('React').createElement(c('XUISingleSelector.react'),{defaultValue:this.props.audioFile,name:'audio_file',size:'xlarge',onChange:this.props.onChangeAudio},v));}.bind(this),this.$SlideshowSettingsPanel6=function(){var u=[];this.props.storylineMoodFiles.forEach(function(w){u.push(c('React').createElement(l,{key:w.moodID,value:w},w.fileName));});var v=[c('React').createElement(l,{key:c('SlideshowConstants').storyline_mood_id_none,value:null},c('SlideshowFbtUtils').getAudioFbtString('None'))];return (c('React').createElement(c('XUISingleSelector.react'),{defaultValue:null,name:'storyline_mood_file',size:'xlarge',onChange:this.$SlideshowSettingsPanel8},v.concat(u)));}.bind(this),this.$SlideshowSettingsPanel8=function(event){this.props.onPreviewStateChange(false);this.props.onChangeStorylineMood(event.value);}.bind(this),q;}o.prototype.render=function(){return (c('React').createElement('div',babelHelpers['extends']({className:"_2bot"+(this.props.showTabs?' '+"_2bou":'')},this.props),this.$SlideshowSettingsPanel1(),this.$SlideshowSettingsPanel2(),this.$SlideshowSettingsPanel4(),this.$SlideshowSettingsPanel5()));};f.exports=o;}),null);
__d('SlideshowTabBar.react',['cx','LayerFadeOnHide','React','ReactFragment','SimpleNUXMessage','SimpleNUXMessageTypes','SlideshowFbtUtils','SlideshowFlowTypes','XUIAmbientNUX.react','XUICardSection.react','XUIPageNavigation.react'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('SlideshowFlowTypes').SlideshowTabKey,l=c('XUIPageNavigation.react').Group,m=c('XUIPageNavigation.react').Item;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(o){'use strict';j.constructor.call(this,o);this.renderLayers=function(){if(this.props.tabKeys.indexOf(k.FRAMES_TAB)<0)return null;c('SimpleNUXMessage').markMessageSeenByUser(c('SimpleNUXMessageTypes').SLIDESHOW_FRAMES_TAB_NUX);return c('ReactFragment').create({framesTabNUX:c('React').createElement(c('XUIAmbientNUX.react'),{alignment:'left',behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},contextRef:function(){return this.refs.framesTab;}.bind(this),offsetX:14,position:'below',shown:this.state.showFramesTabNux,width:'normal',onCloseButtonClick:function(){this.setState({showFramesTabNux:false});}.bind(this)},c('SlideshowFbtUtils').getFramesTabNuxFbtString())});}.bind(this);this.$SlideshowTabBar1=function(p){var q;if(p!==k.FRAMES_TAB)this.setState({showFramesTabNux:false});for(var r=arguments.length,s=Array(r>1?r-1:0),t=1;t<r;t++)s[t-1]=arguments[t];(q=this.props).onSelect.apply(q,[p].concat(s));}.bind(this);this.$SlideshowTabBar3=function(){return this.$SlideshowTabBar4(k.FRAMES_TAB,'framesTab');}.bind(this);this.$SlideshowTabBar4=function(p,q){return (c('React').createElement(m,{key:p,ref:q},c('SlideshowFbtUtils').getTabNameFbtString(p)));};this.$SlideshowTabBar2=function(){return (c('React').createElement(l,null,this.props.tabKeys.map(function(p){switch(p){case k.FRAMES_TAB:return this.$SlideshowTabBar3();default:return this.$SlideshowTabBar4(p);}}.bind(this))));}.bind(this);this.state={showFramesTabNux:!c('SimpleNUXMessage').hasUserSeenMessage(c('SimpleNUXMessageTypes').SLIDESHOW_FRAMES_TAB_NUX)};}n.prototype.render=function(){'use strict';return c('React').createElement(c('XUICardSection.react'),{className:"_5vx1"},c('React').createElement(c('XUIPageNavigation.react'),{activeTabKey:this.props.selected,caretColor:'bg-blue',defaultActiveTabKey:this.props.tabKeys[0],selectedIndicator:c('XUIPageNavigation.react').Indicator.BlueBar,onTabClick:this.$SlideshowTabBar1},this.$SlideshowTabBar2()),this.renderLayers());};f.exports=n;}),null);
__d('SlideshowTopLeftPanelFrame.react',['cx','React','SlideshowTabBar.react','SlideshowFlowTypes','emptyFunction'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('SlideshowFlowTypes').SlideshowTabKey;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$SlideshowTopLeftPanelFrame1=function(){var r=[k.SETTINGS_TAB];if(this.props.showMusicTab)r.push(k.MUSIC_TAB);if(this.props.showFramesTab)r.push(k.FRAMES_TAB);return r;}.bind(this),n;}l.prototype.render=function(){var m=this.$SlideshowTopLeftPanelFrame1();return (c('React').createElement('div',{className:"_3mt1"},c('React').createElement(c('SlideshowTabBar.react'),{selected:this.props.selectedTab,tabKeys:m,onSelect:this.props.onTabSelect}),c('React').createElement('div',{className:"_3mt2"},c('React').createElement('div',{className:"_3mtc"+(this.props.selectedTab===m[0]?' '+"_3mtd":'')+(this.props.selectedTab===m[1]?' '+"_3mte":'')+(this.props.selectedTab===m[2]?' '+"_1ovn":'')},c('React').Children.map(this.props.children,function(n){return (c('React').createElement('div',{className:"_3mtf"},n));})))));};l.defaultProps={selectedTab:k.SETTINGS_TAB,onTabSelect:c('emptyFunction')};f.exports=l;}),null);
__d('SlideshowDialog.react',['cx','fbt','LayerFadeOnHide','LeftRight.react','Link.react','QE','React','SlideshowConstants','SlideshowFramesPanel.react','SlideshowImageUploadsContainer.react','SlideshowMusicPanel.react','SlideshowPhotoEditDialogContainer.react','SlideshowPreview.react','SlideshowPreviewConstants','SlideshowSettingsPanel.react','SlideshowTopLeftPanelFrame.react','XUIDialog.react','XUIDialogButton.react','XUIDialogBody.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=900;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$SlideshowDialog1=function(){if(this.props.selectedImages.length>=c('SlideshowConstants').min_photo_num)return null;return i._({"*":"You'll need to add at least {Minimum number of images} images to create a slideshow"},[i.param('Minimum number of images',c('SlideshowConstants').min_photo_num,[0])]);}.bind(this),this.$SlideshowDialog2=function(s){return (c('React').createElement(c('SlideshowSettingsPanel.react'),{audioFile:this.props.audioFile,durationWithTransitionInMS:this.props.durationWithTransitionInMS,format:this.props.format,selectedStorylineMood:this.props.selectedStorylineMood,showAudioSelector:this.props.showAudioSelector&&!this.props.showAudioRedesign,showStorylineMood:this.props.showStorylineMood,showTabs:s,storylineMoodFiles:this.props.storylineMoodFiles,transitionInMS:this.props.transitionInMS,onChangeAudio:this.props.onChangeAudio,onChangeDuration:this.props.onChangeDuration,onChangeFormat:this.props.onChangeFormat,onChangeStorylineMood:this.props.onChangeStorylineMood,onChangeTransition:this.props.onChangeTransition,onPreviewStateChange:this.props.onPreviewStateChange}));}.bind(this),this.$SlideshowDialog3=function(){return (c('React').createElement(c('SlideshowMusicPanel.react'),{isPreviewPlaying:this.props.isPreviewPlaying,selectedMusicCategory:this.props.selectedMusicCategory,selectedStorylineMood:this.props.selectedStorylineMood,storylineMoodFiles:this.props.storylineMoodFiles,onChangeStorylineMood:this.props.onChangeStorylineMood,onMusicCategorySelect:this.props.onMusicCategorySelect,onPreviewStateChange:this.props.onPreviewStateChange}));}.bind(this),this.$SlideshowDialog4=function(){return (c('React').createElement(c('SlideshowFramesPanel.react'),{frameImages:this.props.frameImages,onFrameImageSelected:this.props.onFrameImageSelected}));}.bind(this),this.$SlideshowDialog5=function(){var s=this.props.frameImages&&this.props.frameImages.length>0;if(s){return (c('React').createElement(c('SlideshowTopLeftPanelFrame.react'),{selectedTab:this.props.selectedTab,showFramesTab:true,showMusicTab:false,onTabSelect:this.props.onTabSelect},this.$SlideshowDialog2(true),this.$SlideshowDialog4()));}else return (c('React').createElement('div',{className:"_315q"},this.$SlideshowDialog2(false)));}.bind(this),this.$SlideshowDialog6=function(){var s=this.props.showAudioRedesign,t=this.props.frameImages&&this.props.frameImages.length>0;if(this.props.showAudioSelector){c('QE').logExposure('slideshow_audio_redesign');if(s){if(t){return (c('React').createElement(c('SlideshowTopLeftPanelFrame.react'),{selectedTab:this.props.selectedTab,showFramesTab:true,showMusicTab:true,onTabSelect:this.props.onTabSelect},this.$SlideshowDialog2(true),this.$SlideshowDialog3(),this.$SlideshowDialog4()));}else return (c('React').createElement(c('SlideshowTopLeftPanelFrame.react'),{selectedTab:this.props.selectedTab,showFramesTab:false,showMusicTab:true,onTabSelect:this.props.onTabSelect},this.$SlideshowDialog2(true),this.$SlideshowDialog3()));}else return this.$SlideshowDialog5();}else return this.$SlideshowDialog5();}.bind(this),o;}m.prototype.render=function(){return (c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},layerHideOnBlur:false,shown:this.props.dialogShown,width:l},c('React').createElement(c('XUIDialogBody.react'),{className:"_5z0a",useCustomPadding:true},this.$SlideshowDialog6(),c('React').createElement('div',{className:"_2ldm"},c('React').createElement(c('SlideshowPreview.react'),{audioFileSource:this.props.audioFileSource,durationWithTransitionInMS:this.props.durationWithTransitionInMS,hidden:!this.props.showPreview,imagesAllLoaded:this.props.imagesAllLoaded,imagesCrops:this.props.imagesCrops,imagesTextoverlays:this.props.imagesTextoverlays,isPreviewPlaying:this.props.isPreviewPlaying,maxSelectedImages:this.props.maxSelectedImages,previewBoxContainerSize:c('SlideshowPreviewConstants').WWW_PREVIEW_CONTAINER_SIZE,previewBoxSize:c('SlideshowPreviewConstants').WWW_PLAYER_SIZE,selectedImages:this.props.selectedImages,showStorylineMood:this.props.showStorylineMood,storylineMoodIDSource:this.props.selectedStorylineMood?this.props.selectedStorylineMood.source:null,transitionInMS:this.props.transitionInMS,onPreviewStateChange:this.props.onPreviewStateChange}),this.props.children[2],this.props.children[1]),c('React').createElement(c('SlideshowImageUploadsContainer.react'),{durationWithTransitionInMS:this.props.durationWithTransitionInMS,imagesTextoverlays:this.props.imagesTextoverlays,maxSelectedImages:this.props.maxSelectedImages,selectedImages:this.props.selectedImages,showSlideshowPhotoEditButton:this.props.showSlideshowPhotoEditButton,onImageRemove:this.props.onImageRemove,onImageReorder:this.props.onImageReorder},this.props.children[0])),c('React').createElement(c('LeftRight.react'),{className:"_5z0b"},c('React').createElement('div',null,c('React').createElement(c('Link.react'),{href:'/business/learn/facebook-create-ad-slideshow-ads',target:'_blank'},i._("Guidelines")),c('React').createElement('span',{className:"_5z0c"},c('React').createElement(c('Link.react'),{href:'/help/503502689826117',target:'_blank'},i._("Help Center"))),c('React').createElement(c('Link.react'),{href:'/business/help/search/?query=slideshow',target:'_blank'},i._("FAQ"))),c('React').createElement('div',null,c('React').createElement(c('XUIDialogButton.react'),{label:i._("Cancel"),onClick:this.props.onCloseDialog}),c('React').createElement(c('XUIDialogButton.react'),{'data-hover':'tooltip','data-tooltip-content':this.$SlideshowDialog1(),'data-tooltip-position':'above',disabled:this.props.selectedImages.length<c('SlideshowConstants').min_photo_num,label:i._("Create Slideshow"),use:'confirm',onClick:this.props.onCreateSlideshow}))),c('React').createElement(c('SlideshowPhotoEditDialogContainer.react'),{format:this.props.format,photosCrops:this.props.imagesCrops,showSlideshowImageCroppingEditOption:this.props.showSlideshowImageCroppingEditOption,onSaveTextoverlay:this.props.onSaveTextoverlay})));};m.defaultProps={adgroupIDs:[]};f.exports=m;}),null);
__d('ReactComposerSlideshowDialogContainer.react',['ReactComposerMediaUploadStore','ReactComposerMediaUploadActions','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerSelectedImagesStore','ReactComposerSlideshowActions','ReactComposerSlideshowAudioStore','ReactComposerSlideshowImageUploadsContainer.react','ReactComposerSlideshowStore','React','SlideshowDataManager','SlideshowDialog.react','SlideshowMediaUploadContainer.react'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerSlideshowDialogContainer',mixins:[c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerSelectedImagesStore'),c('ReactComposerSlideshowAudioStore'),c('ReactComposerSlideshowStore'))],propTypes:{dialogShown:h.bool,maxSelectedImages:h.number,mediaAcceptParam:h.string.isRequired,pageID:h.string,showAudioRedesign:h.bool,showAudioSelector:h.bool,showSlideshowPhotoEditButton:h.bool,showStorylineMood:h.bool,onCloseDialog:h.func,onFilesSelected:h.func.isRequired},statics:{calculateState:function j(k,l){var m=!c('ReactComposerMediaUploadStore').isUploading(k);return {audioFile:c('ReactComposerSlideshowAudioStore').getAudioFile(k),audioFileSource:c('ReactComposerSlideshowAudioStore').getAudioFileSource(k),durationWithTransitionInMS:c('ReactComposerSlideshowStore').getDurationInMS(k),format:c('ReactComposerSelectedImagesStore').getFormat(k),imagesAllLoaded:m,imagesCrops:c('ReactComposerSelectedImagesStore').getImagesCrops(k),isPreviewPlaying:c('ReactComposerSlideshowAudioStore').getIsPreviewPlaying(k),selectedImages:c('ReactComposerSelectedImagesStore').getSelectedImages(k),selectedMusicCategory:c('ReactComposerSlideshowAudioStore').getSelectedMusicCategory(k),selectedStorylineMood:c('ReactComposerSlideshowAudioStore').getSelectedStorylineMood(k),selectedTab:c('ReactComposerSlideshowStore').getSelectedTab(k),storylineMoodFiles:c('ReactComposerSlideshowAudioStore').getStorylineMoodFiles(k),transitionInMS:c('ReactComposerSlideshowStore').getTransitionInMS(k)};}},componentDidMount:function j(){var k=this.context.composerID;c('SlideshowDataManager').fetchStorylineMoodFiles(function(l){c('ReactComposerSlideshowActions').setStorylineMoodFiles(k,l);});},_onChangeAudio:function j(event){c('ReactComposerSlideshowActions').changeAudioFile(this.context.composerID,event.value);},_onChangeDuration:function j(event){c('ReactComposerSlideshowActions').changeDuration(this.context.composerID,event.value);},_onChangeTransition:function j(k){c('ReactComposerSlideshowActions').changeTransition(this.context.composerID,k);},_onChangeStorylineMood:function j(k){c('ReactComposerSlideshowActions').changeStorylineMoodFile(this.context.composerID,k);},_onCreateSlideshow:function j(){var k=this.context.composerID;if(c('ReactComposerSlideshowStore').isEditing(k)){var l=c('ReactComposerSelectedImagesStore').getRemovedUploadIDs(k);l.forEach(function(m){if(c('ReactComposerMediaUploadStore').getMediaUploadExists(k,m)){var n=c('ReactComposerMediaUploadStore').getMediaUpload(k,m);c('ReactComposerMediaUploadActions').removePhotoAndPhotoUpload(k,n);}});}c('ReactComposerSlideshowActions').createSlideshow(this.context.composerID);},_onChangeFormat:function j(k){c('ReactComposerSlideshowActions').changeFormat(this.context.composerID,k);},_onImageRemove:function j(k){var l=this.context.composerID;c('ReactComposerSlideshowActions').removeImage(l,k);if(!c('ReactComposerSlideshowStore').isEditing(l)&&c('ReactComposerMediaUploadStore').getMediaUploadExists(l,k.key)){var m=c('ReactComposerMediaUploadStore').getMediaUpload(l,k.key);c('ReactComposerMediaUploadActions').removePhotoAndPhotoUpload(l,m);}},_onImageReorder:function j(k,l){c('ReactComposerSlideshowActions').reorderImages(this.context.composerID,k,l);},_onTabSelect:function j(k){c('ReactComposerSlideshowActions').selectTab(this.context.composerID,k);},_getImageUploadContainer:function j(k){return (c('React').createElement(c('ReactComposerSlideshowImageUploadsContainer.react'),{composerID:this.context.composerID,imageUploadButtonType:k,mediaAcceptParam:this.props.mediaAcceptParam,pageID:this.props.pageID,pageImages:this.state.pageImages,onFilesSelected:this.props.onFilesSelected}));},_onMusicCategorySelect:function j(k){c('ReactComposerSlideshowActions').musicCategorySelect(this.context.composerID,k);},_onPreviewStateChange:function j(k){c('ReactComposerSlideshowActions').previewStateChange(this.context.composerID,k);},render:function j(){return (c('React').createElement(c('SlideshowDialog.react'),{audioFile:this.state.audioFile,audioFileSource:this.state.audioFileSource,dialogShown:this.props.dialogShown,durationWithTransitionInMS:this.state.durationWithTransitionInMS,format:this.state.format,imagesAllLoaded:this.state.imagesAllLoaded,imagesCrops:this.state.imagesCrops,isPreviewPlaying:this.state.isPreviewPlaying,maxSelectedImages:this.props.maxSelectedImages,selectedImages:this.state.selectedImages,selectedMusicCategory:this.state.selectedMusicCategory,selectedStorylineMood:this.state.selectedStorylineMood,selectedTab:this.state.selectedTab,showAudioRedesign:this.props.showAudioRedesign,showAudioSelector:this.props.showAudioSelector,showPreview:true,showSlideshowPhotoEditButton:false,showStorylineMood:this.props.showStorylineMood,storylineMoodFiles:this.state.storylineMoodFiles,transitionInMS:this.state.transitionInMS,onChangeAudio:this._onChangeAudio,onChangeDuration:this._onChangeDuration,onChangeFormat:this._onChangeFormat,onChangeTransition:this._onChangeTransition,onChangeStorylineMood:this._onChangeStorylineMood,onCloseDialog:this.props.onCloseDialog,onCreateSlideshow:this._onCreateSlideshow,onImageRemove:this._onImageRemove,onImageReorder:this._onImageReorder,onMusicCategorySelect:this._onMusicCategorySelect,onPreviewStateChange:this._onPreviewStateChange,onTabSelect:this._onTabSelect},this._getImageUploadContainer('more_link'),c('React').createElement(c('SlideshowMediaUploadContainer.react'),{hidden:true},this._getImageUploadContainer('add_button'))));}});f.exports=i;}),null);
__d('ReactComposerSlideshowPostButton.react',['ReactComposerSlideshowDialogContainer.react','React','ReactFragment'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.renderLayers=function(){var q=null;if(this.props.dialogShown)q=c('React').createElement(c('ReactComposerSlideshowDialogContainer.react'),babelHelpers['extends']({},this.props,{onCloseDialog:this.props.onCancel}));return c('ReactFragment').create({dialog:q});}.bind(this),m;}k.prototype.render=function(){return c('React').createElement('div',{className:this.props.className,onClick:this.props.onShowDialog},this.props.children,this.renderLayers());};k.propTypes={className:j.string,dialogShown:j.bool.isRequired,maxSelectedImages:j.number.isRequired,mediaAcceptParam:j.string.isRequired,pageID:j.string.isRequired,showAudioRedesign:j.bool.isRequired,showAudioSelector:j.bool.isRequired,showStorylineMood:j.bool.isRequired,onCancel:j.func.isRequired,onShowDialog:j.func.isRequired,onFilesSelected:j.func.isRequired};f.exports=k;}),null);
__d('ReactComposerSlideshowPostButtonContainer.react',['ReactComposerMediaUploadActions','ReactComposerMediaUploadStore','ReactComposerMediaUploadType','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerSelectedImagesStore','ReactComposerSlideshowPlacement','React','ReactComposerSlideshowActions','ReactComposerSlideshowPostButton.react','ReactComposerSlideshowStore'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerSlideshowPostButtonContainer',mixins:[c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerSlideshowStore'))],propTypes:{className:h.string,maxSelectedImages:h.number.isRequired,mediaAcceptParam:h.string.isRequired,pageID:h.string.isRequired,showAudioRedesign:h.bool.isRequired,showAudioSelector:h.bool.isRequired,showStorylineMood:h.bool.isRequired,onFilesSelected:h.func.isRequired},statics:{calculateState:function j(k,l){var m=c('ReactComposerSlideshowStore').shouldShowSlideshowDialog(k);return {dialogShown:m};}},render:function j(){return (c('React').createElement(c('ReactComposerSlideshowPostButton.react'),{className:this.props.className,dialogShown:this.state.dialogShown,maxSelectedImages:this.props.maxSelectedImages,mediaAcceptParam:this.props.mediaAcceptParam,pageID:this.props.pageID,showAudioRedesign:this.props.showAudioRedesign,showAudioSelector:this.props.showAudioSelector,showStorylineMood:this.props.showStorylineMood,onCancel:this._onCancel,onFilesSelected:this.props.onFilesSelected,onShowDialog:this._onShowDialog},this.props.children));},_onShowDialog:function j(){var k=c('ReactComposerSelectedImagesStore').getNumberOfImages(this.context.composerID);c('ReactComposerSlideshowActions').showSlideshowDialog(this.context.composerID,k,c('ReactComposerSlideshowPlacement').PHOTO_VIDEO_TAB);},_onCancel:function j(){var k=c('ReactComposerSelectedImagesStore').getNumberOfImages(this.context.composerID);c('ReactComposerMediaUploadActions').removeAllPhotoUploads(this.context.composerID,c('ReactComposerMediaUploadStore').getUploadsOfType(this.context.composerID,c('ReactComposerMediaUploadType').PHOTO));c('ReactComposerSlideshowActions').closeSlideshowDialog(this.context.composerID,k,c('ReactComposerSlideshowStore').getPlacement(this.context.composerID));}});f.exports=i;}),null);
__d("XCarouselPageComposerPhotoUploadFirstController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composer\/photouploadfirst\/",{composer_id:{type:"String"},target_id:{type:"Int"}});}),null);
__d('ReactComposerMediaAttachmentButtonsWithOptions.react',['cx','fbt','ix','ActorURI','ReactComposerAttachmentStore','ReactComposerCanvasActions','ReactComposerContextMixin','ReactComposerLoggingActions','ReactComposerLoggingName','ReactComposerMediaUtils','ReactComposerPhotoCarouselActions','ComposerTargetData','PagesComposerPostActionsLoggerEvent','PagesComposerActionsLogger','ReactComposerSlideshowPostButtonContainer.react','XCarouselPageComposerPhotoUploadFirstController','AsyncRequest','DOMContainer.react','FileInput.react','Grid.react','Image.react','Link.react','ReactComponentWithPureRenderMixin','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('Grid.react').GridItem,l=c('React').PropTypes,m=c('React').createClass({displayName:'ReactComposerMediaAttachmentButtonsWithOptions',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{carouselConfig:l.object,createAlbumLink:l.any,mediaAcceptParam:l.shape({photos:l.string,both:l.string}).isRequired,onFilesSelected:l.func.isRequired,showCanvasEntryPoint:l.bool,showCarouselEntryPoint:l.bool,showPhotoAlbumEntryPoint:l.bool,showSlideshowEntryPoint:l.bool,showUploadPhotosButton:l.bool,slideshowConfig:l.object,targetData:l.instanceOf(c('ComposerTargetData')).isRequired},getDefaultProps:function o(){return {mediaAcceptParam:{}};},componentDidMount:function o(){if(c('ReactComposerAttachmentStore').getSelectedAttachmentID(this.context.composerID))c('PagesComposerActionsLogger').log({event:c('PagesComposerPostActionsLoggerEvent').SHOW_PHOTO_CAROUSEL_CREATE_TAB,target_id:parseInt(this.context.targetID,10)});},render:function o(){var p=[];p.push(this._getUploadPhotosButton());var q=null,r=null;if(this.props.showPhotoAlbumEntryPoint&&this.props.createAlbumLink){var s=c('React').createElement(c('DOMContainer.react'),{className:"_3m1x",display:'block'},this.props.createAlbumLink);q=c('React').createElement(k,{className:"_3m1y",key:'createAlbum'},c('React').createElement(c('Link.react'),{className:"_3m1z _5xvh",onClick:this._onClickPhotoAlbumOption},s));}if(this.props.showCarouselEntryPoint)r=this._getCarouselPostButton();p.push(q);p.push(r);if(this.props.showSlideshowEntryPoint)p.push(this._getSlideshowPostButton());if(this.props.showCanvasEntryPoint)p.push(this._getCanvasPostButton());return (c('React').createElement('div',{className:"_3m1_"},c('React').createElement(c('Grid.react'),{className:"_3m20",cols:1},p.filter(function(t){return t!=null;}))));},_getUploadPhotosButton:function o(){if(!this.props.showUploadPhotosButton)return null;var p=this.props.targetData.targetSupportsMultiplePhotos,q=this.props.mediaAcceptParam.both,r=p?i._("Upload Photos\/Video"):i._("Upload Photo\/Video"),s=i._("Add photos or video to your status.");return (c('React').createElement(k,{className:"_3m1y",key:'uploadPhoto'},c('React').createElement(c('FileInput.react'),{accept:q,multiple:p,name:'composer_photo',onChange:this._onFilesSelected,onClick:this._onUploadPhotosClick,ref:'fileInput','data-testid':'media-attachment-add-photo'},c('React').createElement(c('Link.react'),{className:"_3m1z"},this._renderPhotoPostOption(n.PHOTOVIDEO,r,s)))));},_onUploadPhotosClick:function o(){c('ReactComposerLoggingActions').mediaUploadInputClicked(this.context.composerID,c('ReactComposerLoggingName').MEDIA_ATTACHMENT_UPLOAD_BUTTON);c('PagesComposerActionsLogger').log({event:c('PagesComposerPostActionsLoggerEvent').CLICK_UPLOAD_PHOTO_OPTION,target_id:parseInt(this.context.targetID,10)});},_onClickPhotoAlbumOption:function o(){c('PagesComposerActionsLogger').log({event:c('PagesComposerPostActionsLoggerEvent').CLICK_PHOTO_ALBUM_OPTION,target_id:parseInt(this.context.targetID,10)});},_onFilesSelected:function o(event){this.props.onFilesSelected(event,this.refs.fileInput.getFileInput());c('ReactComposerMediaUtils').clearInput(this.refs.fileInput.getFileInput());},_getCarouselPostButton:function o(){if(!this.props.showUploadPhotosButton)return null;var p=i._("Create a Photo Carousel");if(this.props.carouselConfig&&this.props.carouselConfig.supportVideoCarousel)p=i._("Create a Photo\/Video Carousel");var q=i._("Build a scrolling photo carousel with a link.");return (c('React').createElement(k,{className:"_3m1y",key:'carousel'},c('React').createElement(c('Link.react'),{onClick:this._onCarouselClick,className:"_3m1z _5xvh"},this._renderPhotoPostOption(n.CAROUSEL,p,q))));},_onCarouselClick:function o(){c('ReactComposerPhotoCarouselActions').selectPhotoCarouselEntryPoint(this.context.composerID);if(!this.props.carouselConfig||!this.props.carouselConfig.ComposerPhotoCarouselUploadFirst){c('ReactComposerPhotoCarouselActions').showPhotoCarouselUrlEditArea(this.context.composerID);}else{var p=c('XCarouselPageComposerPhotoUploadFirstController').getURIBuilder().setString('composer_id',this.context.composerID).setInt('target_id',parseInt(this.context.targetID,10)).getURI();p=c('ActorURI').create(p,this.context.targetID);var q=new (c('AsyncRequest'))().setURI(p);q.send();c('ReactComposerPhotoCarouselActions').setPreviewIncompleted(this.context.composerID);}var r={event:c('PagesComposerPostActionsLoggerEvent').CLICK_PHOTO_CAROUSEL_CREATE_TAB,target_id:parseInt(this.context.targetID,10)};c('PagesComposerActionsLogger').log(r);},_getSlideshowPostButton:function o(){var p=this.props.slideshowConfig;if(!p)return null;var q=i._("Create Slideshow"),r=i._({"*":{"*":"Add {Minimum number of images} to {Maximum number of images} photos to create a video."}},[i.param('Minimum number of images',p?p.minPhotoNum:3,[0]),i.param('Maximum number of images',p?p.maxPhotoNum:7,[0])]),s=c('React').createElement(c('Link.react'),{className:"_3m1z _5xvh"},this._renderPhotoPostOption(n.SLIDESHOW,q,r));return (c('React').createElement(k,{className:"_3m1y",key:'slideshow'},c('React').createElement(c('ReactComposerSlideshowPostButtonContainer.react'),{className:"_3-8-",maxSelectedImages:p.maxPhotoNum,mediaAcceptParam:this.props.mediaAcceptParam.photos,pageID:p.pageID,showAudioRedesign:p.showAudioRedesign,showAudioSelector:p.showAudioSelector,showStorylineMood:p.showStorylineMood,onFilesSelected:this._onSlideshowFilesUpload},s)));},_onSlideshowFilesUpload:function o(event,p){this.props.onFilesSelected(event,p);c('ReactComposerMediaUtils').clearInput(p);},_getCanvasPostButton:function o(){var p=i._("Create a Canvas"),q=i._("Now you can tell a more immersive story by combining images and videos.");return (c('React').createElement(k,{className:"_3m1y",key:'canvas'},c('React').createElement(c('Link.react'),{onClick:this._onCanvasClick,className:"_3m1z _5xvh"},this._renderPhotoPostOption(n.CANVAS,p,q))));},_onCanvasClick:function o(){c('ReactComposerCanvasActions').showCanvasSelector(this.context.composerID);var p={event:c('PagesComposerPostActionsLoggerEvent').CLICK_CANVAS_CREATE_TAB,target_id:parseInt(this.context.targetID,10)};c('PagesComposerActionsLogger').log(p);},_renderPhotoPostOption:function o(p,q,r){var s=null;if(p===n.CAROUSEL&&this.props.carouselConfig&&this.props.carouselConfig.showCarouselOptionSuperscript){var t=i._("NEW");s=c('React').createElement('sup',{className:"_9td"},t);}return (c('React').createElement(c('Grid.react'),{className:"_3m1-",cols:2},c('React').createElement(k,{className:"_5xvi"},c('React').createElement(c('Image.react'),{className:"_5xvj",src:this._getIconSource(p)})),c('React').createElement(k,{className:"_5xvk"},c('React').createElement('div',{className:"_5xvl"},q,s),c('React').createElement('div',{className:"_5xvm"},r))));},_getIconSource:function o(p){switch(p){case n.PHOTOVIDEO:return j('/images/composer/carousel/photo_video_upload.png');case n.PHOTOALBUM:return j('/images/composer/carousel/photo_album_icon.png');case n.CAROUSEL:return j('/images/composer/carousel/carousel_photo_tab_icon.png');case n.SLIDESHOW:return j('/images/composer/carousel/slideshow_video_icon.png');case n.CANVAS:return j('/images/composer/carousel/pages_canvas_icon.png');default:return null;}}}),n={PHOTOVIDEO:'photo_video',PHOTOALBUM:'photo_album',CAROUSEL:'carousel',SLIDESHOW:'slideshow',CANVAS:'canvas'};f.exports=m;}),null);
__d('ReactComposerScrapedAttachmentActions',['ReactComposerScrapedAttachmentActionType','ReactComposerDispatcher','ReactComposerScrapedAttachmentStore'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c('ReactComposerScrapedAttachmentStore');h.prototype.enabled=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPE_ENABLED,enabled:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.setScrapedAttachment=function(i,j,k){'use strict';var l={composerID:i,type:c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPED,markup:j,attachmentConfig:k};c('ReactComposerDispatcher').dispatch(l);};h.prototype.setPermissiveMatch=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_PERMISSIVE_MATCH_SETTED,permissiveMatch:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.scrapeAttachment=function(i,j,k,l,m){'use strict';var n={composerID:i,type:c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPE_INTENDED,targetID:j,value:k,entryPoint:l,actorID:m};c('ReactComposerDispatcher').dispatch(n);};h.prototype.setShareAttachment=function(i,j,k,l,m){'use strict';var n={composerID:i,type:c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SHARE_SELECTED,targetID:j,actorID:k,shareType:l,shareParams:m};c('ReactComposerDispatcher').dispatch(n);};h.prototype.uploadImagesForCarousel=function(i){'use strict';var j={composerID:i.composerID,type:c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_CAROUSEL_UPLOAD,targetID:i.targetID,scrapeUrl:i.scrapeUrl,carouselParams:i.carouselParams,entryPoint:i.entryPoint,actorID:i.actorID};c('ReactComposerDispatcher').dispatch(j);};function h(){'use strict';}f.exports=new h();}),null);
__d('ReactComposerCanvasTypeaheadContainer.react',['cx','fbt','AdsCanvasEditorFunnelLogging','CanvasCreationEvent','CanvasCreationWaterfallTypedLogger','ReactComposerCanvasActions','ReactComposerContextMixin','ReactComposerScrapedAttachmentActions','AdsCanvasComposerDialogStore','AdsCanvasSearchSource','AdsCanvasTypeahead.react','CanvasSource','RichMediaEditorActions','RichMediaLoggingStoreUtils','SearchableEntry','StoreAndPropBasedStateMixin','XUICloseButton.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerCanvasTypeaheadContainer',mixins:[c('ReactComposerContextMixin'),c('StoreAndPropBasedStateMixin')(c('AdsCanvasComposerDialogStore'))],propTypes:{config:j.shape({accessToken:j.string.isRequired,businessID:j.string,canAddProductSet:j.bool.isRequired,canUseLinkedCanvas:j.bool.isRequired}).isRequired},statics:{calculateState:function l(m){return {selectedCanvas:c('AdsCanvasComposerDialogStore').getSelectedCanvas(),unpublishedCanvas:c('AdsCanvasComposerDialogStore').getUnpublishedCanvas()};}},render:function l(){var m=new (c('AdsCanvasSearchSource'))({pageID:this.context.targetID,accessToken:this.props.config.accessToken,onlyPublished:false});m.bootstrap();var n=this.state.unpublishedCanvas||this.state.selectedCanvas,o=n?n.id:null,p=this.state.selectedCanvas?new (c('SearchableEntry'))({subtile:'',title:this.state.selectedCanvas.name,uniqueID:0}):null,q=i._("Select a Canvas"),r=i._("Close"),s={accessToken:this.props.config.accessToken,businessID:this.props.config.businessID,canAddProductSet:this.props.config.canAddProductSet,canUseLinkedCanvas:this.props.config.canUseLinkedCanvas,disabled:false,error:null,focusedOnInit:false,mustPublish:true,pageID:this.context.targetID,placeholder:q,searchSource:m,onCloseReset:this._onCloseReset,onDuplicateReload:this._onDuplicateReload,onEntrySelect:this._onEntrySelect,onSaveCanvasSuccess:this._onSaveCanvasSuccess};return (c('React').createElement('div',{className:"_3uyo"},c('React').createElement(c('XUICloseButton.react'),{className:"_3uyp",label:r,onClick:this._onClickCloseButton,size:'medium'}),c('React').createElement(c('AdsCanvasTypeahead.react'),babelHelpers['extends']({canvasID:o,selectedEntry:p,source:c('CanvasSource').PAGE_COMPOSER},s))));},_onClickCloseButton:function l(){c('ReactComposerCanvasActions').hideCanvasSelector(this.context.composerID);},_onCloseReset:function l(){c('RichMediaEditorActions').resetUnpublishedCanvas();},_onDuplicateReload:function l(m,n){c('RichMediaEditorActions').setDialogShown(m,false);c('RichMediaEditorActions').setDialogCanvas(n.id,n);c('RichMediaEditorActions').setDialogShown(n.id,true);c('RichMediaEditorActions').setUnpublishedCanvas(n);},_onEntrySelect:function l(m,n){var o=m.getUniqueID(),p=m.getAuxiliaryData();c('RichMediaEditorActions').setDialogCanvas(o,p);c('RichMediaEditorActions').setSelectedCanvas(p);this._scrapeURL(p.canvas_link);},_onSaveCanvasSuccess:function l(m,n,o,p){if(p){c('RichMediaEditorActions').resetUnpublishedCanvas();c('AdsCanvasEditorFunnelLogging').endFunnel();c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').EDITOR_EXIT));c('RichMediaEditorActions').setDialogShown(o.id,false);c('RichMediaEditorActions').setSelectedCanvas(o);this._scrapeURL(o.canvas_link);}else{c('RichMediaEditorActions').setDialogCanvas(o.id,o);c('RichMediaEditorActions').setUnpublishedCanvas(o);}},_scrapeURL:function l(m){c('ReactComposerScrapedAttachmentActions').scrapeAttachment(this.context.composerID,this.context.targetID,m,this.context.composerType,this.context.actorID);}});f.exports=k;}),null);
__d('ReactComposerPhotoCarouselStore',['CarouselPagesComposerSource','ReactComposerAttachmentActionType','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerPhotoCarouselActionType','ReactComposerScrapedAttachmentActionType','ReactComposerStoreBase','PagesComposerPostActionsLoggerEvent','PagesComposerActionsLogger'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {isPhotoCarouselSelected:false,isCarouselPreviewCompleted:true,shouldShowURLEditArea:false,seenNux:false};},function(l){switch(l.type){case c('ReactComposerPhotoCarouselActionType').SELECT_PHOTO_CAROUSEL:k&&k.$ReactComposerPhotoCarouselStore1(l);break;case c('ReactComposerPhotoCarouselActionType').UNSELECT_PHOTO_CAROUSEL:k&&k.$ReactComposerPhotoCarouselStore2(l);break;case c('ReactComposerPhotoCarouselActionType').PREVIEW_COMPLETED:k&&k.$ReactComposerPhotoCarouselStore3(l);break;case c('ReactComposerPhotoCarouselActionType').PREVIEW_INCOMPLETED:k&&k.$ReactComposerPhotoCarouselStore4(l);break;case c('ReactComposerPhotoCarouselActionType').SHOW_CAROUSEL_URL_INPUT_AREA:k&&k.$ReactComposerPhotoCarouselStore5(l);break;case c('ReactComposerPhotoCarouselActionType').HIDE_CAROUSEL_URL_INPUT_AREA:k&&k.$ReactComposerPhotoCarouselStore6(l);break;case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:k&&k.$ReactComposerPhotoCarouselStore7(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPED:k&&k.$ReactComposerPhotoCarouselStore6(l);break;case c('ReactComposerPhotoCarouselActionType').SEEN_NUX:k&&k.$ReactComposerPhotoCarouselStore8(l);break;default:}});k=this;}j.prototype.$ReactComposerPhotoCarouselStore1=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.isPhotoCarouselSelected=true;this.emitChange(l);};j.prototype.$ReactComposerPhotoCarouselStore2=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.isPhotoCarouselSelected=false;this.emitChange(l);};j.prototype.$ReactComposerPhotoCarouselStore3=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.isCarouselPreviewCompleted=true;this.emitChange(l);};j.prototype.$ReactComposerPhotoCarouselStore4=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.isCarouselPreviewCompleted=false;this.emitChange(l);};j.prototype.$ReactComposerPhotoCarouselStore5=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.shouldShowURLEditArea=true;var n=k.source;if(n===c('CarouselPagesComposerSource').CAROUSEL_CAMERA_ICON)c('PagesComposerActionsLogger').log({event:c('PagesComposerPostActionsLoggerEvent').CLICK_CAROUSEL_CAMERA_ICON,target_id:k.targetID});this.emitChange(l);};j.prototype.$ReactComposerPhotoCarouselStore6=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.shouldShowURLEditArea=false;this.emitChange(l);};j.prototype.$ReactComposerPhotoCarouselStore7=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l),n=c('ReactComposerAttachmentStore').getSelectedAttachmentID(l);if(m.shouldShowURLEditArea&&n!==c('ReactComposerAttachmentType').MEDIA)m.shouldShowURLEditArea=false;if(m.isPhotoCarouselSelected&&n!==c('ReactComposerAttachmentType').MEDIA){m.isPhotoCarouselSelected=false;m.isCarouselPreviewCompleted=false;}this.emitChange(l);};j.prototype.$ReactComposerPhotoCarouselStore8=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.seenNux=true;this.emitChange(l);};j.prototype.shouldShowURLEditArea=function(k){'use strict';return this.getComposerData(k).shouldShowURLEditArea;};j.prototype.seenNux=function(k){'use strict';return this.getComposerData(k).seenNux;};j.prototype.isPhotoCarouselSelected=function(k){'use strict';return this.getComposerData(k).isPhotoCarouselSelected;};j.prototype.isCarouselPreviewCompleted=function(k){'use strict';return this.getComposerData(k).isCarouselPreviewCompleted;};f.exports=new j();}),null);
__d("XCarouselPageComposerSeenNuxController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composer\/carouselseennux\/",{type:{type:"String"}});}),null);
__d('ReactComposerPhotoCarouselUrlInput.react',['cx','fbt','ix','AsyncRequest','ReactComposerContextMixin','ReactComposerPhotoCarouselActions','ReactComposerPhotoCarouselStore','CSS','Keys','Locale','PagesComposerPostActionsLoggerEvent','PagesComposerActionsLogger','PagesComposerCarouselPostNuxType','ReactComponentWithPureRenderMixin','React','Image.react','ReactDOM','URLMatcher','URLScraper','XCarouselPageComposerSeenNuxController','XUIAmbientNUX.react','XUICloseButton.react','XUITextInput.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('React').createClass({displayName:'ReactComposerPhotoCarouselUrlInput',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{onChange:k.func.isRequired,onClickRemoveButton:k.func.isRequired,prefillURL:k.string,showUrlInputAreaNux:k.bool},getInitialState:function m(){return {disableArrow:true,showUrlInputAreaNux:this.props.showUrlInputAreaNux&&!c('ReactComposerPhotoCarouselStore').seenNux(this.context.composerID)};},componentDidMount:function m(){var n=c('ReactDOM').findDOMNode(this.refs.inputArea);n.focus();c('CSS').addClass(n,"_47_s");var o=this.props.prefillURL?this.props.prefillURL:'',p=!this._checkValidUrl(o);this.setState({disableArrow:p});c('PagesComposerActionsLogger').log({event:c('PagesComposerPostActionsLoggerEvent').PREFILL_SCRAPE_URL,target_id:parseInt(this.context.targetID,10),prefill_scrape_url:this.props.prefillURL});},renderLayers:function m(){var n=i._("Photos are taken from a website you choose. Enter a website to build your photo carousel.");return (c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:function(){return this.refs.inputArea;}.bind(this),shown:this.state.showUrlInputAreaNux,onCloseButtonClick:this._onCloseButtonClick,position:'below',key:'notice'},n));},_onCloseButtonClick:function m(){var n=c('XCarouselPageComposerSeenNuxController').getURIBuilder().setString('type',c('PagesComposerCarouselPostNuxType').MEDIA_ATTACHEMENT_URL_INPUT_AREA_NUX).getURI(),o=new (c('AsyncRequest'))().setURI(n);o.send();this.setState({showUrlInputAreaNux:false});c('ReactComposerPhotoCarouselActions').seenNux(this.context.composerID);},render:function m(){var n=i._("Photo Carousel"),o=i._("Remove"),p=i._("Destination URL"),q=null,r=null,s=null,t=c('Locale').isRTL();if(t){r=j("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/arrow-left_20_bluegray-10.png");s=j('/images/composer/carousel/arrow_left_blue.png');}else{r=j("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/arrow-right_20_bluegray-10.png");s=j('/images/composer/carousel/arrow_right_blue.png');}if(this.state.disableArrow){q=c('React').createElement(c('Image.react'),{className:"_3ev6",size:'small',src:r,onClick:this._handleScrapeLink});}else q=c('React').createElement(c('Image.react'),{className:"_3ev7",size:'small',src:s,onClick:this._handleScrapeLink});var u=i._("Enter a URL");return (c('React').createElement('div',{className:"_d67"},c('React').createElement('div',{className:"_d68"},c('React').createElement('div',{className:"_d69"},n),c('React').createElement(c('XUICloseButton.react'),{className:"_d6a",label:o,onClick:this.props.onClickRemoveButton,size:'medium'})),c('React').createElement('div',{className:"_d6b"},c('React').createElement('div',{className:"_px7"},c('React').createElement('span',{className:"_2do6"},p),c('React').createElement('div',{className:"_px8"},c('React').createElement(c('XUITextInput.react'),{className:"_d6c",defaultValue:this.props.prefillURL,onBlur:this._onBlur,onChange:this._onChange,onKeyUp:this._handleKeyUp,placeholder:u,ref:'inputArea'}))),q),this.renderLayers()));},_handleScrapeLink:function m(event){var n=c('ReactDOM').findDOMNode(this.refs.inputArea),o=n.childNodes[0].value+'\n';this.setState({inputValue:o});this.props.onChange&&this.props.onChange(o);},_onBlur:function m(event){c('CSS').removeClass(c('ReactDOM').findDOMNode(this.refs.inputArea),"_47_s");},_onChange:function m(event){this.setState({inputValue:event.target.value});this.props.onChange&&this.props.onChange(event.target.value);var n=!this._checkValidUrl(event.target.value);this.setState({disableArrow:n});c('CSS').removeClass(c('ReactDOM').findDOMNode(this.refs.inputArea),"_47_s");},_handleKeyUp:function m(event){if(event.keyCode===c('Keys').RETURN){var n=event.target.value+'\n';this.setState({inputValue:n});this.props.onChange&&this.props.onChange(n);}},_checkValidUrl:function m(n){return c('URLScraper').match(n)||c('URLMatcher').permissiveMatch(n);}});f.exports=l;}),null);
__d('ReactComposerStatusUtils',['Bootloader','ReactComposerAttachmentActions','ReactComposerAttachmentType','ReactComposerLoggingName','ReactComposerScrapedAttachmentActions','ReactComposerScrapedAttachmentStore','ReactComposerStatusStore','ReactComposerTaggerStore','ReactComposerTaggerType','EditorState','PUWMethods','URLMatcher','URLScraper','uniqueID'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={scrapeLink:function i(j,k,l,m,n){if(!c('ReactComposerScrapedAttachmentStore').isEnabled(j))return;if(c('ReactComposerScrapedAttachmentStore').getMarkup(j))return;var o=c('URLMatcher').permissiveMatch(l);if(o!==c('ReactComposerScrapedAttachmentStore').getPermissiveMatch(j)){c('ReactComposerScrapedAttachmentActions').setPermissiveMatch(j,o);var p=c('URLScraper').match(l)||o;if(p)c('ReactComposerScrapedAttachmentActions').scrapeAttachment(j,k,p,m,n);}},uploadPastedFile:function i(j,k,l){k.uploadID=c('uniqueID')();k.name='';l&&l.enqueueAsyncUploadRequest(j,[k],{},{},false);},uploadDroppedFiles:function i(j,k,l,m){c('ReactComposerAttachmentActions').selectAttachment(j,c('ReactComposerAttachmentType').MEDIA,true,c('ReactComposerLoggingName').MEDIA_FILE_DROPPED);c('Bootloader').loadModules(["ReactComposerMediaUtils"],function(n){n.uploadPhotosOrVideo(j,k,l,true,c('PUWMethods').DRAGDROP,m);},'ReactComposerStatusUtils');},handleMarkdownPreview:function i(j,k,l,m){if(!l)return;var n=l.action;if(!m)m=c('ReactComposerStatusStore').getEditorState(j);if(!m)return;var o=!!c('ReactComposerTaggerStore').getTaggerData(j,c('ReactComposerTaggerType').MARKDOWN).isMarkdown;if(o)n.updatePreview(j,k,m.getCurrentContent());}};f.exports=h;}),null);
__d('ReactComposerPhotoCarouselUrlInputContainer.react',['ReactComposerContextMixin','ReactComposerPhotoCarouselActions','ReactComposerPhotoCarouselUrlInput.react','ReactComposerStatusUtils','PagesComposerPostActionsLoggerEvent','PagesComposerActionsLogger','ReactComponentWithPureRenderMixin','React','URLScraper'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerPhotoCarouselUrlInputContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{prefillURL:h.string,showUrlInputAreaNux:h.bool},render:function j(){return (c('React').createElement(c('ReactComposerPhotoCarouselUrlInput.react'),{onChange:this._onMentionsInputChange,onClickRemoveButton:this._onClickRemoveButton,prefillURL:this.props.prefillURL,showUrlInputAreaNux:this.props.showUrlInputAreaNux}));},_onClickRemoveButton:function j(){c('ReactComposerPhotoCarouselActions').hidePhotoCarouselUrlEditArea(this.context.composerID);c('PagesComposerActionsLogger').log({event:c('PagesComposerPostActionsLoggerEvent').REMOVE_PHOTO_CAROUSEL_URL_INPUT,target_id:parseInt(this.context.targetID,10)});},_onMentionsInputChange:function j(k){if(!c('URLScraper').trigger(k))c('ReactComposerStatusUtils').scrapeLink(this.context.composerID,this.context.targetID,k,this.context.composerType,this.context.actorID);}});f.exports=i;}),null);
__d('ReactComposerPhotoCarouselUtils',['fbt','ReactComposerPhotoCarouselStore','React'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={getPhotoCarouselMediaContent:function j(k,l){var m=null;if(!k)return m;if(k.ComposerPhotoCarouselPlaceHolder){var n=k.ComposerPhotoCarouselPlaceHolder;m=c('React').createElement(n,null);}else{var o=k.ComposerPhotoCarouselUrlInputContainer;m=c('React').createElement(o,{showUrlInputAreaNux:l.showUrlInputAreaNux,prefillURL:k.preFillURL});}return m;},getInputPlaceHolder:function j(k,l){var m=h._("Write something...");if(l||!k||!k.ComposerPhotoCarouselPlaceHolder)return m;return h._("Enter a URL");},isPagePostButtonDisabled:function j(k){if(!c('ReactComposerPhotoCarouselStore').isPhotoCarouselSelected(k))return false;if(c('ReactComposerPhotoCarouselStore').shouldShowURLEditArea(k))return true;if(!c('ReactComposerPhotoCarouselStore').isCarouselPreviewCompleted(k))return true;return false;}};f.exports=i;}),null);
__d('ReactComposerSlideshowThumbnailViewContainer.react',['cx','ReactComposerMediaUploadActions','ReactComposerMediaUploadStore','ReactComposerMediaUploadType','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerSelectedImagesStore','ReactComposerSlideshowActions','ReactComposerSlideshowAudioStore','ReactComposerSlideshowDialogContainer.react','ReactComposerSlideshowStore','React','ReactComponentWithPureRenderMixin','ReactFragment','SlideshowPreview.react','SlideshowPreviewConstants','SlideshowImageUtil'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerSlideshowThumbnailViewContainer',mixins:[c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerSlideshowAudioStore'),c('ReactComposerSlideshowStore'),c('ReactComposerSelectedImagesStore')),c('ReactComponentWithPureRenderMixin')],propTypes:{maxSelectedImages:i.number.isRequired,mediaAcceptParam:i.string.isRequired,pageID:i.string.isRequired,showAudioRedesign:i.bool.isRequired,showAudioSelector:i.bool.isRequired,showStorylineMood:i.bool.isRequired,onFilesSelected:i.func.isRequired},statics:{calculateState:function k(l,m){return {audioFileSource:c('ReactComposerSlideshowAudioStore').getAudioFileSource(l),dialogShown:c('ReactComposerSlideshowStore').shouldShowSlideshowDialog(l),durationWithTransitionInMS:c('ReactComposerSlideshowStore').getDurationInMS(l),imagesAllLoaded:!c('ReactComposerMediaUploadStore').isUploading(l),imagesCrops:c('ReactComposerSelectedImagesStore').getImagesCrops(l),isPreviewPlaying:c('ReactComposerSlideshowAudioStore').getIsPreviewPlaying(l),selectedImages:c('ReactComposerSelectedImagesStore').getSelectedImages(l),selectedStorylineMood:c('ReactComposerSlideshowAudioStore').getSelectedStorylineMood(l),transitionInMS:c('ReactComposerSlideshowStore').getTransitionInMS(l)};}},_renderPreview:function k(){var l=c('SlideshowPreviewConstants').WWW_PREVIEW_CONTAINER_SIZE_COMPOSER,m=c('SlideshowPreviewConstants').WWW_PLAYER_SIZE_COMPOSER,n=c('SlideshowImageUtil').getPreviewBoxDimensions(this.state.imagesCrops,m,c('SlideshowPreviewConstants').WWW_WIDE_ASPECT_RATIO),o={marginBottom:(n.height-l)/2,marginLeft:c('SlideshowPreviewConstants').WWW_COMPOSER_LEFT_MARGIN,marginTop:(n.height-l)/2};return (c('React').createElement('div',{className:"_3-95"},c('React').createElement(c('SlideshowPreview.react'),{audioFileSource:this.state.audioFileSource,durationWithTransitionInMS:this.state.durationWithTransitionInMS,hidden:false,imagesAllLoaded:this.state.imagesAllLoaded,imagesCrops:this.state.imagesCrops,isPreviewPlaying:this.state.isPreviewPlaying,maxSelectedImages:this.props.maxSelectedImages,previewBoxContainerSize:l,previewBoxSize:m,selectedImages:this.state.selectedImages,showStorylineMood:this.props.showStorylineMood,storylineMoodIDSource:this.state.selectedStorylineMood?this.state.selectedStorylineMood.source:null,style:o,transitionInMS:this.state.transitionInMS,onClose:this._onXout,onEdit:this._onShowDialog,onPreviewStateChange:this._onPreviewStateChange})));},render:function k(){return (c('React').createElement('div',null,this._renderPreview(),this.renderLayers()));},renderLayers:function k(){var l=null;if(this.state.dialogShown)l=c('React').createElement(c('ReactComposerSlideshowDialogContainer.react'),{dialogShown:this.state.dialogShown,maxSelectedImages:this.props.maxSelectedImages,mediaAcceptParam:this.props.mediaAcceptParam,pageID:this.props.pageID,showAudioRedesign:this.props.showAudioRedesign,showAudioSelector:this.props.showAudioSelector,showStorylineMood:this.props.showStorylineMood,onCloseDialog:this._onCloseDialog,onFilesSelected:this.props.onFilesSelected});return c('ReactFragment').create({dialog:l});},_onShowDialog:function k(){c('ReactComposerSlideshowActions').showEditSlideshowDialog(this.context.composerID);},_onPreviewStateChange:function k(l){c('ReactComposerSlideshowActions').showEditSlideshowDialog(this.context.composerID,l);},_onXout:function k(){var l=c('ReactComposerSelectedImagesStore').getNumberOfImages(this.context.composerID);c('ReactComposerMediaUploadActions').removeAllPhotoUploads(this.context.composerID,c('ReactComposerMediaUploadStore').getUploadsOfType(this.context.composerID,c('ReactComposerMediaUploadType').PHOTO));c('ReactComposerSlideshowActions').hideSlideshowEditField(this.context.composerID,l);},_onCloseDialog:function k(){var l=c('ReactComposerSelectedImagesStore').getAddedUploadIDs(this.context.composerID);l.forEach(function(m){var n=c('ReactComposerMediaUploadStore').getMediaUpload(this.context.composerID,m);c('ReactComposerMediaUploadActions').removePhotoAndPhotoUpload(this.context.composerID,n);}.bind(this));c('ReactComposerSlideshowActions').closeEditSlideshowDialog(this.context.composerID);}});f.exports=j;}),null);
__d('ReactComposerAttachmentPreview.react',['DOMContainer.react','React'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;k.prototype.render=function(){'use strict';if(!this.props.markup)return c('React').createElement('noscript',null);return (c('React').createElement(c('DOMContainer.react'),null,this.props.markup));};function k(){'use strict';h.apply(this,arguments);}k.propTypes={markup:j.instanceOf(HTMLElement).isRequired};f.exports=k;}),null);
__d('ReactComposerLocationAttachmentActions',['ReactComposerLocationAttachmentActionType','ReactComposerDispatcher','ReactComposerLocationAttachmentStore'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c('ReactComposerLocationAttachmentStore');h.prototype.enabled=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerLocationAttachmentActionType').LOCATION_ATTACHMENT_ENABLED,enabled:j});};h.prototype.fetchLocationAttachment=function(i,j,k){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerLocationAttachmentActionType').FETCH_LOCATION_ATTACHMENT,locationID:j,targetID:k});};h.prototype.setMinutiaeActionContext=function(i,j,k){'use strict';var l={composerID:i,type:c('ReactComposerLocationAttachmentActionType').SET_MINUTIAE_ACTION_CONTEXT,objectID:j,isTimeline:k};c('ReactComposerDispatcher').dispatch(l);};h.prototype.setMarkup=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerLocationAttachmentActionType').SET_LOCATION_MARKUP,markup:j});};function h(){'use strict';}f.exports=new h();}),null);
__d('ReactComposerMinutiaeAttachmentActions',['ReactComposerMinutiaeAttachmentActionType','ReactComposerDispatcher','ReactComposerMinutiaeAttachmentStore'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c('ReactComposerMinutiaeAttachmentStore');h.prototype.fetchMinutiaeAttachment=function(i,j,k,l,m){'use strict';var n={composerID:i,type:c('ReactComposerMinutiaeAttachmentActionType').FETCH_ATTACHMENT,actionID:j,objectID:k,targetID:l,isTimeline:m};c('ReactComposerDispatcher').dispatch(n);};h.prototype.setExplicitLocation=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerMinutiaeAttachmentActionType').SET_EXPLICIT_LOCATION,explicitLocation:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.setMarkup=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerMinutiaeAttachmentActionType').SET_MARKUP,markup:j};c('ReactComposerDispatcher').dispatch(k);};function h(){'use strict';}f.exports=new h();}),null);
__d('ReactComposerAttachmentPreviewContainer.react',['csx','cx','ReactComposerEvents','ReactComposerLocationAttachmentActions','ReactComposerLocationAttachmentStore','ReactComposerMinutiaeAttachmentActions','ReactComposerMinutiaeAttachmentStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerAttachmentPreview.react','ReactComposerPrefillStore','ReactComposerScrapedAttachmentActions','ReactComposerScrapedAttachmentStore','Arbiter','DOM','Event','ReactComponentWithPureRenderMixin','React','ReactDOM','XUICloseButton.react'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerAttachmentPreviewContainer',_buttonEvent:undefined,_prefillSubscription:undefined,mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerScrapedAttachmentStore'),c('ReactComposerMinutiaeAttachmentStore'),c('ReactComposerLocationAttachmentStore'))],propTypes:{markup:j.instanceOf(HTMLElement)},statics:{calculateState:function l(m,n){var o=c('ReactComposerScrapedAttachmentStore').getMarkup(m),p=c('ReactComposerScrapedAttachmentStore').isReadOnly(m),q=c('ReactComposerMinutiaeAttachmentStore').getMarkup(m),r=c('ReactComposerLocationAttachmentStore').getMarkup(m);return {markup:o||q||r,showRemoveButton:o&&p};}},componentDidMount:function l(){this._prefillSubscription=c('Arbiter').subscribe(c('ReactComposerEvents').SET_PREFILL_DATA+this.context.composerID,this._handlePrefill);this._cleanupButtonEvent();this._setButtonEvent();},componentDidUpdate:function l(){this._setButtonEvent();},componentWillUnmount:function l(){this._prefillSubscription&&this._prefillSubscription.unsubscribe();this._prefillSubscription=null;this._cleanupButtonEvent();},render:function l(){if(!this.state.markup)return null;var m=this.state.showRemoveButton?this._renderRemoveButton():null;return (c('React').createElement('div',{className:"_2ane"},c('React').createElement(c('ReactComposerAttachmentPreview.react'),{ref:'attachment',markup:this.state.markup}),m));},_handlePrefill:function l(){var m=c('ReactComposerPrefillStore').getAndEraseField(this.context.composerID,'attachmentPreviewData');if(m)if(m.scrapedAttachment){c('ReactComposerScrapedAttachmentActions').setScrapedAttachment(this.context.composerID,m.scrapedAttachment.markup,m.scrapedAttachment.attachmentConfig);}else if(m.scrapedURL)c('ReactComposerScrapedAttachmentActions').scrapeAttachment(this.context.composerID,this.context.targetID,m.scrapedURL,this.context.composerType,this.context.actorID);},_renderRemoveButton:function l(){return (c('React').createElement('div',{className:"_2anf"},c('React').createElement(c('XUICloseButton.react'),{className:"_2anh",size:'medium',shade:'light',onClick:this._clearAttachment})));},_setButtonEvent:function l(){if(this.refs.attachment){var m=c('DOM').scry(c('ReactDOM').findDOMNode(this.refs.attachment),"._9s")[0];if(m)this._buttonEvent=c('Event').listen(m,'click',function(event){this._clearAttachment();this._buttonEvent&&this._buttonEvent.remove();this._buttonEvent=null;}.bind(this));c('Arbiter').inform('react_composer_dom_ready/'+this.context.composerID);}},_clearAttachment:function l(){c('ReactComposerScrapedAttachmentActions').setScrapedAttachment(this.context.composerID,null,{});c('ReactComposerMinutiaeAttachmentActions').setMarkup(this.context.composerID,null);c('ReactComposerLocationAttachmentActions').setMarkup(this.context.composerID,null);},_cleanupButtonEvent:function l(){this._buttonEvent&&this._buttonEvent.remove();}});f.exports=k;}),null);